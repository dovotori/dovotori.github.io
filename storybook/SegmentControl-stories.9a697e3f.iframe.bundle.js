"use strict";(globalThis.webpackChunkdovotori=globalThis.webpackChunkdovotori||[]).push([[901],{"./src/components/stories/SegmentControl.stories.tsx"(__unused_webpack_module,__webpack_exports__,__webpack_require__){__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{ClickSelection:()=>ClickSelection,HoverBehavior:()=>HoverBehavior,Primary:()=>Primary,__namedExportsOrder:()=>__namedExportsOrder,default:()=>SegmentControl_stories});var jsx_runtime=__webpack_require__("./node_modules/react/jsx-runtime.js"),react=__webpack_require__("./node_modules/react/index.js"),external_STORYBOOK_MODULE_TEST_=__webpack_require__("storybook/test"),styled_components_browser_esm=__webpack_require__("./node_modules/styled-components/dist/styled-components.browser.esm.js");const Wrap=styled_components_browser_esm.Ay.div`
  position: relative;
  display: inline-flex;
  align-items: center;
  gap: 0;
  height: 40px;
  border-radius: 20px;
  background: ${p=>p.theme.backgroundSubtleGradient};
`,Segment=styled_components_browser_esm.Ay.button`
  position: relative;
  z-index: 1;
  padding: 0 20px;
  height: 100%;
  border: none;
  background: transparent;
  cursor: pointer;
  white-space: nowrap;
  color: ${p=>p.$hovered?p.theme.background:p.$selected&&p.$hasHover?p.theme.text:p.$selected?p.theme.background:p.theme.text};
  font-weight: ${p=>p.$selected?600:400};
  transition: color 300ms ease-out;
  ${p=>p.theme.monospace}
`,Marker=styled_components_browser_esm.Ay.div`
  position: absolute;
  top: 0;
  bottom: 0;
  left: ${p=>p.$left}px;
  width: ${p=>p.$width}px;
  border-radius: 20px;
  background-color: ${p=>p.theme.primary};
  transition:
    left 300ms cubic-bezier(0.4, 0, 0.2, 1),
    width 300ms cubic-bezier(0.4, 0, 0.2, 1);
`,SegmentControl=({className,items,selectedId,onClick})=>{const wrapRef=(0,react.useRef)(null),segmentRefs=(0,react.useRef)(new Map),[markerStyle,setMarkerStyle]=(0,react.useState)({left:0,width:0}),[hoveredId,setHoveredId]=(0,react.useState)(null),activeId=hoveredId??selectedId;return(0,react.useEffect)((()=>{const selectedElement=segmentRefs.current.get(activeId),wrapElement=wrapRef.current;if(selectedElement&&wrapElement){const wrapRect=wrapElement.getBoundingClientRect(),selectedRect=selectedElement.getBoundingClientRect();setMarkerStyle({left:selectedRect.left-wrapRect.left,width:selectedRect.width})}}),[activeId]),(0,jsx_runtime.jsxs)(Wrap,{className,ref:wrapRef,children:[(0,jsx_runtime.jsx)(Marker,{$left:markerStyle.left,$width:markerStyle.width}),items.map((item=>(0,jsx_runtime.jsx)(Segment,{ref:el=>{el&&segmentRefs.current.set(item.id,el)},$selected:item.id===selectedId,$hovered:item.id===hoveredId,$hasHover:null!==hoveredId,onClick:()=>onClick(item.id),onMouseEnter:()=>setHoveredId(item.id),onMouseLeave:()=>setHoveredId(null),children:item.label},item.id)))]})},components_SegmentControl=SegmentControl;SegmentControl.__docgenInfo={description:"",methods:[],displayName:"SegmentControl",props:{className:{required:!1,tsType:{name:"string"},description:""},items:{required:!0,tsType:{name:"Array",elements:[{name:"signature",type:"object",raw:"{ label: string; id: string }",signature:{properties:[{key:"label",value:{name:"string",required:!0}},{key:"id",value:{name:"string",required:!0}}]}}],raw:"{ label: string; id: string }[]"},description:""},selectedId:{required:!0,tsType:{name:"string"},description:""},onClick:{required:!0,tsType:{name:"signature",type:"function",raw:"(id: string) => void",signature:{arguments:[{type:{name:"string"},name:"id"}],return:{name:"void"}}},description:""}}};const items=[{id:"1",label:"First"},{id:"2",label:"Second"},{id:"3",label:"Third"}],SegmentControl_stories={title:"Components/SegmentControl",component:components_SegmentControl},Primary=(()=>{const[selectedId,setSelectedId]=(0,react.useState)("1");return(0,jsx_runtime.jsx)(components_SegmentControl,{items,selectedId,onClick:setSelectedId})}).bind({}),ClickSelection={render:()=>{const[selectedId,setSelectedId]=(0,react.useState)("1");return(0,jsx_runtime.jsx)(components_SegmentControl,{items,selectedId,onClick:setSelectedId})},play:async({canvasElement,step})=>{const canvas=(0,external_STORYBOOK_MODULE_TEST_.within)(canvasElement);await step("Initial state has First selected",(async()=>{const firstButton=canvas.getByRole("button",{name:"First"});(0,external_STORYBOOK_MODULE_TEST_.expect)(firstButton).toBeInTheDocument()})),await step("Click Second button changes selection",(async()=>{const secondButton=canvas.getByRole("button",{name:"Second"});await external_STORYBOOK_MODULE_TEST_.userEvent.click(secondButton),await(0,external_STORYBOOK_MODULE_TEST_.waitFor)((()=>{(0,external_STORYBOOK_MODULE_TEST_.expect)(secondButton).toBeInTheDocument()}))})),await step("Click Third button changes selection",(async()=>{const thirdButton=canvas.getByRole("button",{name:"Third"});await external_STORYBOOK_MODULE_TEST_.userEvent.click(thirdButton),await(0,external_STORYBOOK_MODULE_TEST_.waitFor)((()=>{(0,external_STORYBOOK_MODULE_TEST_.expect)(thirdButton).toBeInTheDocument()}))}))}},HoverBehavior={render:()=>{const[selectedId,setSelectedId]=(0,react.useState)("1");return(0,jsx_runtime.jsx)(components_SegmentControl,{items,selectedId,onClick:setSelectedId})},play:async({canvasElement,step})=>{const canvas=(0,external_STORYBOOK_MODULE_TEST_.within)(canvasElement);await step("Hover over Second button",(async()=>{const secondButton=canvas.getByRole("button",{name:"Second"});await external_STORYBOOK_MODULE_TEST_.userEvent.hover(secondButton),await(0,external_STORYBOOK_MODULE_TEST_.waitFor)((()=>{(0,external_STORYBOOK_MODULE_TEST_.expect)(secondButton).toBeInTheDocument()}))})),await step("Unhover returns to normal",(async()=>{const secondButton=canvas.getByRole("button",{name:"Second"});await external_STORYBOOK_MODULE_TEST_.userEvent.unhover(secondButton),await(0,external_STORYBOOK_MODULE_TEST_.waitFor)((()=>{(0,external_STORYBOOK_MODULE_TEST_.expect)(secondButton).toBeInTheDocument()}))})),await step("Hover over Third button",(async()=>{const thirdButton=canvas.getByRole("button",{name:"Third"});await external_STORYBOOK_MODULE_TEST_.userEvent.hover(thirdButton),await(0,external_STORYBOOK_MODULE_TEST_.waitFor)((()=>{(0,external_STORYBOOK_MODULE_TEST_.expect)(thirdButton).toBeInTheDocument()}))}))}},__namedExportsOrder=["Primary","ClickSelection","HoverBehavior"];Primary.parameters={...Primary.parameters,docs:{...Primary.parameters?.docs,source:{originalSource:'() => {\n  const [selectedId, setSelectedId] = useState("1");\n  return <SegmentControl items={items} selectedId={selectedId} onClick={setSelectedId} />;\n}',...Primary.parameters?.docs?.source}}},ClickSelection.parameters={...ClickSelection.parameters,docs:{...ClickSelection.parameters?.docs,source:{originalSource:'{\n  render: () => {\n    const [selectedId, setSelectedId] = useState("1");\n    return <SegmentControl items={items} selectedId={selectedId} onClick={setSelectedId} />;\n  },\n  play: async ({\n    canvasElement,\n    step\n  }) => {\n    const canvas = within(canvasElement);\n    await step("Initial state has First selected", async () => {\n      const firstButton = canvas.getByRole("button", {\n        name: "First"\n      });\n      expect(firstButton).toBeInTheDocument();\n    });\n    await step("Click Second button changes selection", async () => {\n      const secondButton = canvas.getByRole("button", {\n        name: "Second"\n      });\n      await userEvent.click(secondButton);\n      await waitFor(() => {\n        // Verify the button is now selected (has different styling)\n        expect(secondButton).toBeInTheDocument();\n      });\n    });\n    await step("Click Third button changes selection", async () => {\n      const thirdButton = canvas.getByRole("button", {\n        name: "Third"\n      });\n      await userEvent.click(thirdButton);\n      await waitFor(() => {\n        expect(thirdButton).toBeInTheDocument();\n      });\n    });\n  }\n}',...ClickSelection.parameters?.docs?.source}}},HoverBehavior.parameters={...HoverBehavior.parameters,docs:{...HoverBehavior.parameters?.docs,source:{originalSource:'{\n  render: () => {\n    const [selectedId, setSelectedId] = useState("1");\n    return <SegmentControl items={items} selectedId={selectedId} onClick={setSelectedId} />;\n  },\n  play: async ({\n    canvasElement,\n    step\n  }) => {\n    const canvas = within(canvasElement);\n    await step("Hover over Second button", async () => {\n      const secondButton = canvas.getByRole("button", {\n        name: "Second"\n      });\n      await userEvent.hover(secondButton);\n\n      // Wait for hover state to be applied\n      await waitFor(() => {\n        expect(secondButton).toBeInTheDocument();\n      });\n    });\n    await step("Unhover returns to normal", async () => {\n      const secondButton = canvas.getByRole("button", {\n        name: "Second"\n      });\n      await userEvent.unhover(secondButton);\n      await waitFor(() => {\n        expect(secondButton).toBeInTheDocument();\n      });\n    });\n    await step("Hover over Third button", async () => {\n      const thirdButton = canvas.getByRole("button", {\n        name: "Third"\n      });\n      await userEvent.hover(thirdButton);\n      await waitFor(() => {\n        expect(thirdButton).toBeInTheDocument();\n      });\n    });\n  }\n}',...HoverBehavior.parameters?.docs?.source}}}}}]);
//# sourceMappingURL=SegmentControl-stories.9a697e3f.iframe.bundle.js.map