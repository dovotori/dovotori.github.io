{"version":3,"file":"Teaser-stories.90c3dfe7.iframe.bundle.js","mappings":";;;AAKA;;;;;;ACUA;;;AAKA;;;;ADfA;;;;;;;;;AAWA;AACA;AACA;AAGA;AACA;AACA;;;;;AAOA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AEuBA;;;;;;;;;AAWA;;;;;;;;;;AAYA;;;;AAIA;;AAIA;;;;;;;;;;AAUA;;;AAGA;;AAIA;;;AC5FA;AACA;AACA;;;;AAMA;;;;;;;ACCA;AACA;AACA;AAMA;;AAEA;AACA;;;;;;;;;;;AAWA;AACA;AAGA;;AAEA;AACA;;;;;;;AAOA;;AAIA;;AAEA;;AAIA;;;;AAIA;;;AAGA;;AAEA;AACA;AACA;;;AAKA;;;;;;AAMA;AACA;;AAEA;AACA;AACA;;AAIA;;AAIA","sources":["webpack://dovotori/./src/components/Loader.tsx","webpack://dovotori/./src/themes/animations.js","webpack://dovotori/./src/components/GlitchImage.jsx","webpack://dovotori/./src/components/LazyImage.jsx","webpack://dovotori/./src/components/Teaser.jsx"],"sourcesContent":["import { useEffect, useRef } from \"react\";\nimport styled from \"styled-components\";\n\nimport { blink } from \"../themes/animations\";\n\nconst Div = styled.div`\n  position: absolute;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n`;\n\nconst Blink = styled.span`\n  animation: ${blink} 1s linear infinite;\n  color: ${(p) => p.theme.primary};\n`;\n\nconst CharStream = styled.div`\n  color: ${(p) => p.theme.primary};\n  ${(p) => p.theme.monospace}\n  font-family: monospace;\n  letter-spacing: 2px;\n  min-width: 120px;\n  text-align: left;\n`;\n\nconst CHARS = [\"/\", \"-\", \"\\\\\", \"=\", \"<\", \">\", \"+\", \"#\"];\nconst MAX_CHARS = 10;\nconst INTERVAL_MS = 100;\n\nconst getRandomChar = () => CHARS[Math.floor(Math.random() * CHARS.length)];\n\nconst Loader = ({ className }: { className?: string }) => {\n  const charsRef = useRef<string[]>([]);\n  const streamRef = useRef<HTMLSpanElement>(null);\n\n  useEffect(() => {\n    const interval = setInterval(() => {\n      const newChar = getRandomChar();\n      charsRef.current = [newChar, ...charsRef.current];\n      if (charsRef.current.length > MAX_CHARS) {\n        charsRef.current = charsRef.current.slice(0, MAX_CHARS);\n      }\n      // Direct DOM update\n      if (streamRef.current) {\n        streamRef.current.textContent = charsRef.current.join(\"\");\n      }\n    }, INTERVAL_MS);\n\n    return () => clearInterval(interval);\n  }, []);\n\n  return (\n    <Div className={className}>\n      <CharStream>\n        <Blink>_</Blink>\n        <span ref={streamRef} />\n      </CharStream>\n    </Div>\n  );\n};\n\nexport default Loader;\n","import { keyframes } from \"styled-components\";\n\nexport const blink = keyframes`\n  0%, 100% { opacity: 1; }\n  50% { opacity: 0; }\n`;\n\nexport const glitchy = keyframes`\n  0%   { transform: translate3d(-2px, 2px, 0); }\n  25%  { transform: translate3d(-2px, -2px, 0); }\n  50%  { transform: translate3d(2px, 2px, 0); }\n  75%  { transform: translate3d(2px, -2px, 0); }\n  100%  { transform: translate3d(-2px, 2px, 0); }\n`;\n\nexport const backgroundslide = keyframes`\n  0% { background-position: 0% 0%; }\n  100% { background-position: 100% 0%; }\n`;\n\nexport const loading = keyframes`\n  0% { transform: translateX(0%) scaleX(0); }\n  50% { transform: translateX(0%) scaleX(1); }\n  100% { transform: translateX(100%) scaleX(0); }\n`;\n","import styled, { keyframes } from \"styled-components\";\n\nconst glitchHorizontal = keyframes`\n  0% { \n    -webkit-clip-path: polygon(0 2%, 100% 2%, 100% 5%, 0 5%);\n    clip-path: polygon(0 2%, 100% 2%, 100% 5%, 0 5%);\n  }\n  50% { \n    -webkit-clip-path: polygon(0 2%, 100% 2%, 100% 5%, 0 5%);\n    clip-path: polygon(0 2%, 100% 2%, 100% 5%, 0 5%);\n  }\n  55% {\n    -webkit-clip-path: polygon(0 15%, 100% 15%, 100% 15%, 0 15%);\n    clip-path: polygon(0 15%, 100% 15%, 100% 15%, 0 15%);\n  }\n  60% {\n    -webkit-clip-path: polygon(0 10%, 100% 10%, 100% 20%, 0 20%);\n    clip-path: polygon(0 10%, 100% 10%, 100% 20%, 0 20%);\n  }\n  65% {\n    -webkit-clip-path: polygon(0 1%, 100% 1%, 100% 2%, 0 2%);\n    clip-path: polygon(0 1%, 100% 1%, 100% 2%, 0 2%);\n  }\n  70% {\n    -webkit-clip-path: polygon(0 33%, 100% 33%, 100% 33%, 0 33%);\n    clip-path: polygon(0 33%, 100% 33%, 100% 33%, 0 33%);\n  }\n  75% {\n    -webkit-clip-path: polygon(0 44%, 100% 44%, 100% 44%, 0 44%);\n    clip-path: polygon(0 44%, 100% 44%, 100% 44%, 0 44%);\n  }\n  80% {\n    -webkit-clip-path: polygon(0 50%, 100% 50%, 100% 20%, 0 20%);\n    clip-path: polygon(0 50%, 100% 50%, 100% 20%, 0 20%);\n  }\n  85% {\n    -webkit-clip-path: polygon(0 70%, 100% 70%, 100% 70%, 0 70%);\n    clip-path: polygon(0 70%, 100% 70%, 100% 70%, 0 70%);\n  }\n  90% {\n    -webkit-clip-path: polygon(0 80%, 100% 80%, 100% 80%, 0 80%);\n    clip-path: polygon(0 80%, 100% 80%, 100% 80%, 0 80%);\n  }\n  95% {\n    -webkit-clip-path: polygon(0 50%, 100% 50%, 100% 55%, 0 55%);\n    clip-path: polygon(0 50%, 100% 50%, 100% 55%, 0 55%);\n  }\n  100% {\n    -webkit-clip-path: polygon(0 70%, 100% 70%, 100% 80%, 0 80%);\n    clip-path: polygon(0 70%, 100% 70%, 100% 80%, 0 80%);\n  }\n`;\n\nconst glitchFlash = keyframes`\n  50% { \n    opacity: 0.5; \n    transform: translate3d(-10%, -10%, 0);\n  }\n  0%, 60%, 100% { \n    opacity: 0;\n    transform: none;\n  }\n`;\n\nconst Wrap = styled.div``;\n\nconst Glitch = styled.div`\n  @supports (\n    (clip-path: polygon(0 0, 100% 0, 100% 75%, 0 100%)) or\n      (-webkit-clip-path: polygon(0 0, 100% 0, 100% 75%, 0 100%))\n  ) {\n    position: absolute;\n    top: -40px;\n    left: -40px;\n    width: calc(100% + 80px);\n    height: calc(100% + 80px);\n    background: url(${(p) => p.src}) no-repeat 50% 0;\n    background-size: cover;\n    background-blend-mode: multiply;\n    transform: translate3d(40px, 0, 0);\n    animation: ${glitchHorizontal} 1s infinite linear alternate;\n  }\n`;\n\nconst GlitchBlink = styled.div`\n  @supports (\n    (clip-path: polygon(0 0, 100% 0, 100% 75%, 0 100%)) or\n      (-webkit-clip-path: polygon(0 0, 100% 0, 100% 75%, 0 100%))\n  ) {\n    position: absolute;\n    top: 0;\n    left: 0;\n    width: 110%;\n    height: 110%;\n    background: url(${(p) => p.src}) no-repeat 50% 0;\n    background-size: cover;\n    background-blend-mode: multiply;\n    animation: ${glitchFlash} 2s steps(1, end) infinite;\n  }\n`;\n\nconst GlitchImage = ({ className, src }) => (\n  <Wrap className={className}>\n    <Glitch src={src} />\n    <GlitchBlink src={src} />\n  </Wrap>\n);\n\nexport default GlitchImage;\n","import { useCallback, useState } from \"react\";\nimport styled from \"styled-components\";\n\nimport GlitchImage from \"./GlitchImage\";\n\nconst Wrap = styled.div`\n  position: relative;\n  overflow: hidden;\n`;\nconst IMG = styled.img`\n  opacity: ${(p) => (p.$isLoaded ? 1 : 0)};\n  visibility: ${(p) => (p.$isLoaded ? \"visible\" : \"hidden\")};\n  transition: opacity 300ms ease-out;\n  text-transform: lowercase;\n  letter-spacing: 0.1em;\n`;\n\nconst LazyImage = ({\n  className,\n  withGlitch,\n  alt,\n  width,\n  height,\n  children,\n  src,\n  ref,\n  placeholderImg,\n}) => {\n  const [isLoaded, setIsLoaded] = useState(false);\n  const [hasError, setHasError] = useState(false);\n  const [finalSrc, setFinalSrc] = useState(src);\n  const [usedPlaceholder, setUsedPlaceholder] = useState(false);\n\n  const onLoad = useCallback(() => {\n    setIsLoaded(true);\n  }, []);\n\n  const onError = useCallback(() => {\n    if (placeholderImg && !usedPlaceholder) {\n      // Try loading the placeholder\n      setFinalSrc(placeholderImg);\n      setUsedPlaceholder(true);\n      setIsLoaded(false);\n    } else {\n      // No placeholder or placeholder also failed\n      setHasError(true);\n      setIsLoaded(true);\n    }\n  }, [placeholderImg, usedPlaceholder]);\n\n  return (\n    <Wrap ref={ref} className={className}>\n      {!hasError && (\n        <IMG\n          alt={`_${alt}`}\n          src={finalSrc}\n          onLoad={onLoad}\n          onError={onError}\n          $isLoaded={isLoaded}\n          width={width || \"auto\"}\n          height={height || \"auto\"}\n        />\n      )}\n      {!hasError && isLoaded && withGlitch && <GlitchImage src={finalSrc} />}\n      {!isLoaded && children}\n    </Wrap>\n  );\n};\n\nexport default LazyImage;\n","import { ReactComponent as PlusIcon } from \"Assets/svg/plus.svg\";\nimport { useEffect, useMemo, useState } from \"react\";\nimport { useInView } from \"react-intersection-observer\";\nimport { Link } from \"react-router-dom\";\nimport styled from \"styled-components\";\nimport { getColorType, getTeaserPath } from \"../utils\";\nimport LazyImage from \"./LazyImage\";\nimport Loader from \"./Loader\";\n\nconst StyledLink = styled(Link).attrs({\n  className: \"teaser\",\n})`\n  position: relative;\n  overflow: hidden;\n  display: inline-block;\n  margin: 10px;\n  width: 400px;\n  height: 100px;\n  opacity: ${(p) => (p.$isVisible ? 1 : 0)};\n  box-shadow: ${(p) => (p.$isHover ? `0 0 1em ${p.theme.backgroundHighlight}` : \"none\")};\n  transform: ${(p) => {\n    if (p.$isVisible) {\n      return p.$isHover && !p.$isTouchDevice ? \"scale(1.2)\" : \"scale(1.01)\";\n    }\n    return \"translateY(20%)\";\n  }};\n  z-index: ${(p) => (p.$isVisible && p.$isHover && !p.$isTouchDevice ? 1 : 0)};\n  transition:\n    opacity 1s ${(p) => p.theme.elastic},\n    transform 1s ${(p) => p.theme.elastic},\n    box-shadow 800ms linear;\n\n  clip-path: polygon(\n    0 0,\n    100% 0,\n    100% calc(100% - 16px),\n    calc(100% - 16px) 100%,\n    0 100%\n  );\n\n  ${(p) => p.theme.active}\n  ${(p) => p.theme.media.mobile`margin: 5px auto; width: 100%; height: auto;`}\n`;\n\nconst StyledLazyImage = styled(LazyImage)`\n  width: 100%;\n  transform: ${(p) => (p.$isFocus ? \"scale(1.1)\" : \"none\")};\n  transition: transform 5000ms ${(p) => p.theme.elastic};\n  height: 100%;\n  img {\n    width: 100%;\n    height: auto;\n    display: block;\n    margin-top: -25px;\n    opacity: ${(p) => (p.$isFocus ? 0.7 : 0.8)};\n  }\n`;\n\nconst Infos = styled.div`\n  overflow: hidden;\n  background: ${(p) => p.theme.getGradient};\n  height: 100%;\n`;\n\nconst Title = styled.h3`\n  position: absolute;\n  top: 50%;\n  left: 0;\n  color: ${(p) => p.theme.text};\n  font-size: 10em;\n  letter-spacing: 0.1em;\n  opacity: ${(p) => (p.$isFocus ? 0.4 : 0)};\n  transition:\n    opacity 1s ${(p) => p.theme.elastic},\n    transform 1s ${(p) => p.theme.elastic};\n  transform: ${(p) => (p.$isFocus ? \"translate3d(0, -50%, 0)\" : \"translate3d(-100%, -50%, 0)\")};\n  z-index: 1;\n  white-space: nowrap;\n`;\n\nconst Plus = styled(PlusIcon)`\n  position: absolute;\n  top: 25%;\n  left: 5%;\n  width: auto;\n  height: 50%;\n  fill: ${(p) => p.theme.getColor};\n  opacity: ${(p) => (p.$isFocus ? 1 : 0)};\n  transition:\n    opacity 1s ${(p) => p.theme.elastic},\n    transform 1s ${(p) => p.theme.elastic};\n  transform: ${(p) => (p.$isFocus ? \"none\" : \"scale(0) rotate(45deg)\")};\n  z-index: 2;\n`;\n\nconst WrapLoader = styled.div`\n  margin: 20px auto;\n`;\n\nconst Teaser = ({\n  className,\n  category,\n  slug,\n  title = \"\",\n  currentHover,\n  setCurrentHover = () => {},\n  isTouchDevice,\n}) => {\n  const $colorType = getColorType(category);\n  const [isHovered, setIsHovered] = useState(false);\n  const [refInView, inView] = useInView({\n    threshold: 0,\n    triggerOnce: true,\n  });\n\n  const onEnter = () => setIsHovered(true);\n  const onLeave = () => setIsHovered(false);\n\n  useEffect(() => setCurrentHover(isHovered ? slug : \"\"), [isHovered, setCurrentHover, slug]);\n\n  const opacity = useMemo(() => {\n    if (!inView) {\n      return 0;\n    }\n    if (isTouchDevice || currentHover === slug || currentHover === \"\") {\n      return 1;\n    }\n    return 0.65;\n  }, [currentHover, inView, isTouchDevice, slug]);\n\n  return (\n    <StyledLink\n      ref={refInView}\n      className={className}\n      to={`/project/${slug}`}\n      onMouseEnter={onEnter}\n      onMouseLeave={onLeave}\n      $levelOpacity={opacity}\n      $isVisible={inView}\n      title={title}\n      $isHover={isHovered}\n      $isTouchDevice={isTouchDevice}\n    >\n      <Infos $colorType={$colorType}>\n        <StyledLazyImage\n          src={getTeaserPath(slug)}\n          alt={title}\n          width={400}\n          height={150}\n          withGlitch={isHovered}\n          $isFocus={isHovered}\n        >\n          <WrapLoader>\n            <Loader $colorType={$colorType} />\n          </WrapLoader>\n        </StyledLazyImage>\n      </Infos>\n      {!isTouchDevice ? (\n        <>\n          <Plus $isFocus={isHovered} $colorType={$colorType} />\n          <Title $isFocus={isHovered}>{title}</Title>\n        </>\n      ) : null}\n    </StyledLink>\n  );\n};\n\nexport default Teaser;\n"],"names":[],"ignoreList":[],"sourceRoot":""}