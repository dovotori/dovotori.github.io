importScripts("/public/js/AssetsManager.js");const assetsManager=new AssetsManager,CACHE_NAME=assetsManager.cacheName,addResourcesToCache=async e=>{const s=await caches.open(CACHE_NAME);await s.addAll(e),console.log("[Service Worker] Precaching",e)};self.addEventListener("install",(e=>{console.log("[Service Worker] Install"),e.waitUntil(addResourcesToCache(assetsManager.cacheEntries))})),self.addEventListener("activate",(()=>(console.log("[Service Worker] Activate"),self.clients.claim()))),self.addEventListener("fetch",(e=>{console.log("[Service Worker] Fetch",e.request),e.respondWith(caches.open(CACHE_NAME).then((s=>s.match(e.request.url).then((a=>a||fetch(e.request).then((a=>(s.put(e.request,a.clone()),a))))))))}));