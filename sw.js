importScripts("/public/js/AssetsManager.js");const assetsManager=new AssetsManager,CACHE_NAME=assetsManager.cacheName,addResourcesToCache=async e=>{const t=await caches.open(CACHE_NAME);await t.addAll(e)};self.addEventListener("install",(e=>{e.waitUntil(addResourcesToCache(assetsManager.cacheEntries))})),self.addEventListener("activate",(()=>self.clients.claim())),self.addEventListener("fetch",(e=>{e.respondWith(caches.open(CACHE_NAME).then((t=>t.match(e.request).then((s=>s||fetch(e.request).then((s=>{let a;try{a=new URL(e.request.url)}catch{return s}const c=a.protocol;if("http:"===c||"https:"===c)try{t.put(e.request,s.clone())}catch(e){}return s})))))))}));