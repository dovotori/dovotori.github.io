"use strict";(self.webpackChunkdovotori=self.webpackChunkdovotori||[]).push([[4043],{54043:(t,e,s)=>{s.r(e),s.d(e,{default:()=>C,destroy:()=>G});var i=s(35466),a=s(59713),n=s.n(a),r=s(25192),o=s(21969),h=s(85693),c=s(47313),g=s(49790),d=s(68763);const l=class extends r.Z{constructor(){super(...arguments),n()(this,"onMouseMove",(t=>{const e=(0,d.Yp)(t.pos.x,0,t.size.width,-32,32),s=(0,d.Yp)(t.pos.y,0,t.size.height,-32,32);this.targetX.set(e),this.targetY.set(s),this.target.set(t.relPrevious.x),this.mouseCanvasPosition={x:(0,d.Yp)(t.pos.x,0,t.size.width,0,1),y:(0,d.Yp)(t.pos.y,0,t.size.height,1,0)}}))}setup(){this.model=new o.Z,this.model.identity(),this.targetX=new c.Z(0,.2),this.targetY=new c.Z(0,.2),this.targetScale=new c.Z(0,.1),this.target=new h.Z(0,.2),this.mouseCanvasPosition={x:0,y:0},this.targetScale.set(1)}update(t){super.update(t),this.targetX.update(),this.targetY.update(),this.target.update(),this.targetScale.update(),this.model.identity();const e=(0,d.Id)(this.targetX.get())+.1*Math.sin(.005*this.time),s=(0,d.Id)(this.targetY.get())-Math.abs(.1*Math.cos(.005*this.time));this.model.scale(this.targetScale.get());const i=new g.Z;i.rotateY(e),i.rotateX(s),this.model.multiply(i.toMatrix4());this.mngProg.get(this.config.MAIN_PROG).setFloat("time",this.time)}effects(){const t=.05*Math.cos(.001*this.time);t>0&&this.postProcess.setGlitch(.07*this.time+this.target.get(),t,-t),this.postProcess.setWave(.05,t,[this.mouseCanvasPosition.x,this.mouseCanvasPosition.y]),this.postProcess.setFxaa()}mainRender(t){this.mngGltf.get(this.config.MAIN_OBJ).render(t,this.model)}render(){super.render(),this.canUseDepth()?(this.postProcess.start(),this.mainRender(this.mngProg.get(this.config.MAIN_PROG)),this.postProcess.end(),this.effects(),this.postProcess.render()):this.mainRender(this.mngProg.get(this.config.MAIN_PROG))}},p="signature",u="head",m={slug:"signature",MAIN_PROG:p,MAIN_OBJ:u,shaders:["/camera/basique3d.js",`/camera/${p}.js`,"/screen/glitch.js","/screen/wave.js","/screen/watercolorMoving.js","/screen/fxaa.js","/screen/screen.js","/screen/debug.js"],postprocess:!0,assets:[`/gltf/${u}.gltf`],camera:{position:{x:0,y:0,z:30},target:{x:0,y:0,z:0},near:1,far:40,angle:40},lampes:[{type:0,position:{x:40,y:40,z:40},ambiant:[1,1,1],diffuse:[.4,1,.8],specular:[1,1,1],brillance:1},{type:0,position:{x:-40,y:-40,z:40},ambiant:[1,1,1],diffuse:[1,179/255,.4],specular:[1,1,1],brillance:1}],mouse:{events:["move"]},useDepthTexture:!0,canvas:{width:512,height:512}};var f=s(93379),x=s.n(f),y=s(7795),P=s.n(y),v=s(90569),w=s.n(v),M=s(3565),Z=s.n(M),b=s(70609),I=s.n(b),Y=s(44589),j=s.n(Y),z=s(82852),A={};A.styleTagTransform=j(),A.setAttributes=Z(),A.insert=w().bind(null,"head"),A.domAPI=P(),A.insertStyleElement=I();x()(z.Z,A);z.Z&&z.Z.locals&&z.Z.locals;let R=null;const C=async()=>{R=new i.Z,await R.setup(l,m)},G=()=>{R&&R.destroy&&R.destroy()}},82852:(t,e,s)=>{s.d(e,{Z:()=>o});var i=s(8081),a=s.n(i),n=s(23645),r=s.n(n)()(a());r.push([t.id,"#signature {\n  margin: 0 auto;\n  text-align: center;\n  max-width: 512px;\n  max-height: 512px;\n}\n",""]);const o=r}}]);