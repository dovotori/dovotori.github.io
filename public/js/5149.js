"use strict";(self.webpackChunkdovotori=self.webpackChunkdovotori||[]).push([[1014,5149],{51014(n,i,e){e.r(i),e.d(i,{default:()=>t});const t="\nattribute vec3 position;\nattribute vec2 texture;\nvarying vec2 fragTexture;\nuniform float flipY; // 1 ou -1\n\nvoid main() {\n  fragTexture = texture;\n  gl_Position = vec4(position.x, position.y * flipY, position.z, 1.0);\n}\n"},87530(n,i,e){e.r(i),e.d(i,{default:()=>t});const t={vertex:e(51014).default,fragment:"\nprecision mediump float;\nvarying vec2 fragTexture;\nuniform sampler2D textureMap;\nuniform vec2 resolution;\nuniform int radius;\n\n#define MAX_RADIUS 1\n\nvoid main() {\n  vec2 uv = fragTexture;\n  float n = float((radius + 1) * (radius + 1));\n  vec3 m[4];\n  vec3 s[4];\n  for (int k = 0; k < 4; ++k) {\n    m[k] = vec3(0.0);\n    s[k] = vec3(0.0);\n  }\n\n  for (int j = -MAX_RADIUS; j <= 0; ++j) {\n    for (int i = -MAX_RADIUS; i <= 0; ++i) {\n      vec3 c = texture2D(textureMap, uv + vec2(i,j) / resolution).rgb;\n      m[0] += c;\n      s[0] += c * c;\n    }\n  }\n\n  for (int j = -MAX_RADIUS; j <= 0; ++j) {\n    for (int i = 0; i <= MAX_RADIUS; ++i) {\n      vec3 c = texture2D(textureMap, uv + vec2(i,j) / resolution).rgb;\n      m[1] += c;\n      s[1] += c * c;\n    }\n  }\n\n  for (int j = 0; j <= MAX_RADIUS; ++j) {\n    for (int i = 0; i <= MAX_RADIUS; ++i) {\n      vec3 c = texture2D(textureMap, uv + vec2(i,j) / resolution).rgb;\n      m[2] += c;\n      s[2] += c * c;\n    }\n  }\n\n  for (int j = 0; j <= MAX_RADIUS; ++j) {\n    for (int i = -MAX_RADIUS; i <= 0; ++i) {\n      vec3 c = texture2D(textureMap, uv + vec2(i,j) / resolution).rgb;\n      m[3] += c;\n      s[3] += c * c;\n    }\n  }\n\n  float min_sigma2 = 1e+2;\n  for (int k = 0; k < 4; ++k) {\n    m[k] /= n;\n    s[k] = abs(s[k] / n - m[k] * m[k]);\n\n    float sigma2 = s[k].r + s[k].g + s[k].b;\n    if (sigma2 < min_sigma2) {\n      min_sigma2 = sigma2;\n      gl_FragColor = vec4(m[k], 1.0);\n    }\n  }\n}\n",attributes:["position","texture"],uniforms:["flipY","textureMap","radius","resolution"]}}}]);