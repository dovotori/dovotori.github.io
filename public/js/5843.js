"use strict";(self.webpackChunkdovotori=self.webpackChunkdovotori||[]).push([[5843],{45843:(t,e,s)=>{s.r(e),s.d(e,{default:()=>G,destroy:()=>N});var i=s(16853),a=s(54705),n=s(15333),r=s(27853),o=s(35566),h=s(91106),c=s(20769),g=s(50583);const l=class extends n.A{constructor(){super(...arguments),(0,a.A)(this,"onMouseMove",(t=>{const e=(0,g.cy)(t.pos.x,0,t.size.width,-32,32),s=(0,g.cy)(t.pos.y,0,t.size.height,-32,32);this.targetX.set(e),this.targetY.set(s),this.target.set(t.relPrevious.x),this.mouseCanvasPosition={x:(0,g.cy)(t.pos.x,0,t.size.width,0,1),y:(0,g.cy)(t.pos.y,0,t.size.height,1,0)}}))}setup(){this.model=new r.A,this.model.identity(),this.targetX=new h.A(0,.2),this.targetY=new h.A(0,.2),this.targetScale=new h.A(0,.1),this.target=new o.A(0,.2),this.mouseCanvasPosition={x:0,y:0},this.targetScale.set(1)}update(t){super.update(t),this.targetX.update(),this.targetY.update(),this.target.update(),this.targetScale.update(),this.model.identity();const e=(0,g.pu)(this.targetX.get())+.1*Math.sin(.005*this.time),s=(0,g.pu)(this.targetY.get())-Math.abs(.1*Math.cos(.005*this.time));this.model.scale(this.targetScale.get());const i=new c.A;i.rotateY(e),i.rotateX(s),this.model.multiply(i.toMatrix4());this.mngProg.get(this.config.MAIN_PROG).setFloat("time",this.time)}effects(){const t=.05*Math.cos(.001*this.time);t>0&&this.postProcess.setGlitch(.07*this.time+this.target.get(),t,-t),this.postProcess.setWave(.05,t,[this.mouseCanvasPosition.x,this.mouseCanvasPosition.y]),this.postProcess.setFxaa()}mainRender(t){this.mngGltf.get(this.config.MAIN_OBJ).render(t,this.model)}render(){super.render(),this.canUseDepth()?(this.postProcess.start(),this.mainRender(this.mngProg.get(this.config.MAIN_PROG)),this.postProcess.end(),this.effects(),this.postProcess.render()):this.mainRender(this.mngProg.get(this.config.MAIN_PROG))}},d="signature",u="head",p={slug:"signature",MAIN_PROG:d,MAIN_OBJ:u,shaders:["/camera/basique3d.js",`/camera/${d}.js`,"/screen/glitch.js","/screen/wave.js","/screen/watercolorMoving.js","/screen/fxaa.js","/screen/screen.js","/screen/debug.js"],postprocess:!0,assets:[`/gltf/${u}.gltf`],camera:{position:{x:0,y:0,z:30},target:{x:0,y:0,z:0},near:1,far:40,angle:40},lampes:[{type:0,position:{x:40,y:40,z:40},ambiant:[1,1,1],diffuse:[.4,1,.8],specular:[1,1,1],brillance:1},{type:0,position:{x:-40,y:-40,z:40},ambiant:[1,1,1],diffuse:[1,179/255,.4],specular:[1,1,1],brillance:1}],mouse:{events:["move"]},useDepthTexture:!0,canvas:{width:512,height:512}};var m=s(85072),y=s.n(m),A=s(97825),f=s.n(A),x=s(77659),P=s.n(x),v=s(55056),w=s.n(v),M=s(10540),b=s.n(M),j=s(41113),z=s.n(j),I=s(68879),R={};R.styleTagTransform=z(),R.setAttributes=w(),R.insert=P().bind(null,"head"),R.domAPI=f(),R.insertStyleElement=b();y()(I.A,R);I.A&&I.A.locals&&I.A.locals;let C=null;const G=async()=>{C=new i.A,await C.setup(l,p)},N=()=>{C&&C.destroy&&C.destroy()}},68879:(t,e,s)=>{s.d(e,{A:()=>o});var i=s(31601),a=s.n(i),n=s(76314),r=s.n(n)()(a());r.push([t.id,"#signature {\n  margin: 0 auto;\n  text-align: center;\n  max-width: 512px;\n  max-height: 512px;\n}\n",""]);const o=r}}]);