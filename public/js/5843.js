"use strict";(self.webpackChunkdovotori=self.webpackChunkdovotori||[]).push([[5843],{3195(t,s,e){e.d(s,{A:()=>i});const i={position:[1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,1,1,-1,-1,1,-1,-1,1,1,-1,1,1,-1,1,-1,-1,-1,-1,-1,-1,1,-1,-1,-1,1,-1,-1,1,-1,1,-1,-1,1,1,-1,-1,-1,-1,-1,-1,1,-1,1,1,-1],indices:[0,1,2,0,2,3,4,5,6,4,6,7,8,9,10,8,10,11,12,13,14,12,14,15,16,17,18,16,18,19,20,21,22,20,22,23],texture:[1,1,0,1,0,0,1,0,0,0,1,0,1,1,0,1,0,0,0,1,1,1,1,0,0,0,0,1,1,1,1,0,0,0,1,0,1,1,0,1,0,0,1,0,1,1,0,1]}},10540(t){t.exports=function(t){var s=document.createElement("style");return t.setAttributes(s,t.attributes),t.insert(s,t.options),s}},19365(t,s,e){e.d(s,{A:()=>i});const i=class{constructor(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;this.d=[0,0,0,0],this.set(t,s,e,i)}normalise(){const t=this.length();return 0!==t&&(this.d[0]/=t,this.d[1]/=t,this.d[2]/=t,this.d[3]/=t),this}get(){return this.d}getX(){return this.d[0]}getY(){return this.d[1]}getZ(){return this.d[2]}getW(){return this.d[3]}length(){return Math.sqrt(this.d[0]*this.d[0]+this.d[1]*this.d[1]+this.d[2]*this.d[2]+this.d[3]*this.d[3])}set(t,s,e,i){return null!=t&&(this.d[0]=t),null!=s?this.d[1]=s:null!=t&&(this.d[1]=t),null!=e?this.d[2]=e:null!=t&&(this.d[2]=t),null!=i?this.d[3]=i:null!=t&&(this.d[3]=t),this}equal(t){return this.d=[t.d[0],t.d[1],t.d[2],t.d[3]],this}add(t){return this.d[0]+=t.d[0],this.d[1]+=t.d[1],this.d[2]+=t.d[2],this.d[3]+=t.d[3],this}addNumber(t){return this.d[0]+=t,this.d[1]+=t,this.d[2]+=t,this.d[3]+=t,this}minus(t){return this.d[0]-=t.d[0],this.d[1]-=t.d[1],this.d[2]-=t.d[2],this.d[3]-=t.d[3],this}minusNumber(t){return this.d[0]-=t,this.d[1]-=t,this.d[2]-=t,this.d[3]-=t,this}multiplyNumber(t){return this.d[0]*=t,this.d[1]*=t,this.d[2]*=t,this.d[3]*=t,this}multiplyMatrix(t){const s=this.d[0],e=this.d[1],i=this.d[2],h=this.d[3];return this.d[0]=t.d[0]*s+t.d[4]*e+t.d[8]*i+t.d[12]*h,this.d[1]=t.d[1]*s+t.d[5]*e+t.d[9]*i+t.d[13]*h,this.d[2]=t.d[2]*s+t.d[6]*e+t.d[10]*i+t.d[14]*h,this.d[3]=t.d[3]*s+t.d[7]*e+t.d[11]*i+t.d[15]*h,this}multiply(t){return this.d[0]*=t.d[0],this.d[1]*=t.d[1],this.d[2]*=t.d[2],this.d[3]*=t.d[3],this}divideNumber(t){return this.d[0]/=t,this.d[1]/=t,this.d[2]/=t,this.d[3]/=t,this}divide(t){return this.d[0]/=t.d[0],this.d[1]/=t.d[1],this.d[2]/=t.d[2],this.d[3]/=t.d[3],this}distance(t){return Math.sqrt((t.d[0]-this.d[0])*(t.d[0]-this.d[0])+(t.d[1]-this.d[1])*(t.d[1]-this.d[1])+(t.d[2]-this.d[2])*(t.d[2]-this.d[2])+(t.d[3]-this.d[3])*(t.d[3]-this.d[3]))}}},23876(t,s,e){e.d(s,{A:()=>r});var i=e(67269),h=e(54096);const r=class{constructor(t){if(this.position=new h.A(t.position.x,t.position.y,t.position.z),this.target=new h.A(0,0,0),this.view=new i.A,t.ortho){const{left:s,right:e,bottom:h,top:r}=t.ortho,{near:n,far:o}=t;this.ortho=new i.A,this.ortho.ortho(s,e,h,r,n,o)}}lookAt(){this.view.identity().lookAt(this.position.getX(),this.position.getY(),this.position.getZ(),this.target.getX(),this.target.getY(),this.target.getZ(),0,1,0)}getView(){return this.view}getPosition(){return this.position.get()}getPositionVec3(){return this.position}getTarget(){return this.target.get()}getModel(){return this.repere.getModel()}getOrtho(){return this.ortho}addToPosition(t,s,e){this.position.addXYZ(t,s,e),this.lookAt()}setPosition(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;const i=null!==t?t:this.position.getX(),h=null!==s?s:this.position.getY(),r=null!==e?e:this.position.getZ();this.position.set(i,h,r),this.lookAt()}setTarget(t,s,e){this.target.set(t,s,e)}setTargetVec3(t){this.target.equal(t)}}},31601(t){t.exports=function(t){return t[1]}},41113(t){t.exports=function(t,s){if(s.styleSheet)s.styleSheet.cssText=t;else{for(;s.firstChild;)s.removeChild(s.firstChild);s.appendChild(document.createTextNode(t))}}},45843(t,s,e){e.r(s),e.d(s,{default:()=>T,destroy:()=>I});var i=e(99590),h=e(54705),r=e(78617),n=e(67269),o=e(87510),d=e(99594),a=e(4689),l=e(66172);const c=class extends l.A{constructor(){super(...arguments),(0,h.A)(this,"onMouseMove",(t=>{const s=(0,a.cy)(t.pos.x,0,t.size.width,-32,32),e=(0,a.cy)(t.pos.y,0,t.size.height,-32,32);this.targetX.set(s),this.targetY.set(e),this.target.set(t.relPrevious.x),this.mouseCanvasPosition={x:(0,a.cy)(t.pos.x,0,t.size.width,0,1),y:(0,a.cy)(t.pos.y,0,t.size.height,1,0)}}))}setup(){this.model=new n.A,this.model.identity(),this.targetX=new d.A(0,.2),this.targetY=new d.A(0,.2),this.targetScale=new d.A(0,.1),this.target=new o.A(0,.2),this.mouseCanvasPosition={x:0,y:0},this.targetScale.set(1)}update(t){super.update(t),this.targetX.update(),this.targetY.update(),this.target.update(),this.targetScale.update(),this.model.identity();const s=(0,a.pu)(this.targetX.get())+.1*Math.sin(.005*this.time),e=(0,a.pu)(this.targetY.get())-Math.abs(.1*Math.cos(.005*this.time));this.model.scale(this.targetScale.get());const i=new r.A;i.rotateY(s),i.rotateX(e),this.model.multiply(i.toMatrix4());this.mngProg.get(this.config.MAIN_PROG).setFloat("time",this.time)}effects(){const t=.05*Math.cos(.001*this.time);t>0&&this.postProcess.setGlitch(.07*this.time+this.target.get(),t,-t),this.postProcess.setWave(.05,t,[this.mouseCanvasPosition.x,this.mouseCanvasPosition.y]),this.postProcess.setFxaa()}mainRender(t){this.mngGltf.get(this.config.MAIN_OBJ).render(t,this.model)}render(){super.render(),this.canUseDepth()?(this.postProcess.start(),this.mainRender(this.mngProg.get(this.config.MAIN_PROG)),this.postProcess.end(),this.effects(),this.postProcess.render()):this.mainRender(this.mngProg.get(this.config.MAIN_PROG))}},g="signature",u="head",p={slug:"signature",MAIN_PROG:g,MAIN_OBJ:u,shaders:["/camera/basique3d.js",`/camera/${g}.js`,"/screen/glitch.js","/screen/wave.js","/screen/watercolorMoving.js","/screen/fxaa.js","/screen/screen.js","/screen/debug.js"],postprocess:!0,assets:[`/gltf/${u}.gltf`],camera:{position:{x:0,y:0,z:30},target:{x:0,y:0,z:0},near:1,far:40,angle:40},lampes:[{type:0,position:{x:40,y:40,z:40},ambiant:[1,1,1],diffuse:[.4,1,.8],specular:[1,1,1],brillance:1},{type:0,position:{x:-40,y:-40,z:40},ambiant:[1,1,1],diffuse:[1,179/255,.4],specular:[1,1,1],brillance:1}],mouse:{events:["move"]},useDepthTexture:!0,canvas:{width:512,height:512}};var m=e(85072),v=e.n(m),f=e(97825),y=e.n(f),A=e(77659),w=e.n(A),x=e(55056),M=e.n(x),P=e(10540),b=e.n(P),X=e(41113),z=e.n(X),j=e(68879),Y={};Y.styleTagTransform=z(),Y.setAttributes=M(),Y.insert=w().bind(null,"head"),Y.domAPI=y(),Y.insertStyleElement=b();v()(j.A,Y);j.A&&j.A.locals&&j.A.locals;let Z=null;const T=async()=>{Z=new i.A,await Z.setup(c,p);const t=document.querySelector(`#${p.slug}`),s=Z.getCanvas();s&&t&&t.appendChild(s)},I=()=>{Z&&Z.destroy&&Z.destroy()}},55056(t,s,e){t.exports=function(t){var s=e.nc;s&&t.setAttribute("nonce",s)}},66172(t,s,e){e.d(s,{A:()=>g});var i=e(72985),h=e(23876),r=e(54096),n=e(3195),o=e(67269),d=e(10334);const a=class{constructor(t){this.gl=t,this.objet=new d.A(this.gl,n.A),this.model=new o.A,this.model.identity()}render(t){t.setMatrix("model",this.model.get()),this.objet.render(t.get())}update(t,s){this.model.identity().scale(s.getX(),s.getY(),s.getZ()).translate(t.getX(),t.getY(),t.getZ())}getModel(){return this.model}};var l=e(82669);const c=class extends h.A{constructor(t,s){let e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1024,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1024,h=arguments.length>4&&void 0!==arguments[4]&&arguments[4];super(s),this.gl=t,this.fbo=new l.A(this.gl,e,i,h),this.sizeRepere=new r.A(.05,.05,.05),this.repere=new a(this.gl),this.repere.update(this.position,this.sizeRepere),this.lookAt()}start(){this.fbo.start()}end(){this.fbo.end()}move(t){let s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;this.position.set(Math.cos(.002*t)*(4+s),this.position.getY(),Math.sin(.002*t)*(4+s)),this.lookAt(),this.repere.update(this.position,this.sizeRepere)}renderRepere(t){this.repere.render(t)}getDepthTexture(){return this.fbo.getDepthTexture()}setDepthProgram(t){t.setMatrix("projection",this.getOrtho().get()),t.setMatrix("view",this.getView().get())}setShadowProgram(t){t.setTexture(2,this.getDepthTexture().get(),"shadowMap"),t.setMatrix("shadowView",this.getView().get()),t.setMatrix("shadowProjection",this.getOrtho().get()),t.setVector("posLum",this.getPosition())}resize(t){this.fbo.resize(t)}},g=class extends i.A{constructor(t,s){super(t,s);const e=this.canUseDepth(),{width:i,height:h}=s.canvas;this.lampes=s.lampes&&s.lampes.map((s=>new c(t,s,i,h,e)))||[]}async setupAssets(t){await super.setupAssets(t);const s=this.mngProg.getAll();Object.keys(s).forEach((t=>{const e=s[t];e.getLocations().numLights&&this.setLampeInfos(e)}))}renderReperes(){this.lampes.forEach((t=>t.renderRepere(this.camera)))}randomLampesPositions(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;this.lampes.forEach(((e,i)=>{(null===s||null!==s&&i===s)&&e.move(this.time*t,i)}))}setLampeInfos(t){t.setVector("posEye",this.camera.getPosition()),t.setInt("numLights",this.lampes.length),this.config.lampes.forEach(((s,e)=>{const{type:i,ambiant:h,diffuse:r,specular:n,brillance:o,radius:d,direction:a,strength:l}=s;t.setInt(`lights[${e}].type`,i),t.setVector(`lights[${e}].position`,this.lampes[e].getPosition()),t.setVector(`lights[${e}].ambiant`,h),t.setVector(`lights[${e}].diffuse`,r),t.setVector(`lights[${e}].specular`,n),o&&t.setFloat(`lights[${e}].brillance`,o),d&&t.setFloat(`lights[${e}].radius`,d),a&&t.setVector(`lights[${e}].direction`,a),t.setFloat(`lights[${e}].strength`,l||1)}))}render(){super.render(),"function"==typeof this.renderBasiqueForLampeDepth&&this.renderBasiqueForLampeDepth(),this.mngProg.setCameraMatrix(this.camera,!!this.config.camera.ortho)}getLampe(t){return this.lampes[t]?this.lampes[t]:null}resize(t){super.resize(t),this.lampes.forEach((s=>s.resize(t)))}}},68879(t,s,e){e.d(s,{A:()=>o});var i=e(31601),h=e.n(i),r=e(76314),n=e.n(r)()(h());n.push([t.id,"#signature {\n\tmargin: 0 auto;\n\ttext-align: center;\n\tmax-width: 512px;\n\tmax-height: 512px;\n}\n",""]);const o=n},71907(t,s,e){e.d(s,{A:()=>n});var i=e(67269),h=e(54096),r=e(23876);const n=class extends r.A{constructor(t){super(t),this.matIdentity=new i.A,this.projection=new i.A,this.projection.identity(),this.near=t.near??1,this.far=t.far??100,this.angle=t.angle??50,this.matIdentity.identity(),this.lookAt()}update(){this.lookAt()}perspective(t,s){this.projection.identity().perspective(this.angle,t/s,this.near,this.far)}moveAroundCenter(t){let s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;this.position.set(Math.cos(t)*s,Math.sin(t)*(2+s),Math.sin(t)*s),this.lookAt()}move(t){let s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;this.position.set(this.position.getX(),Math.sin(.02*t)*(2+s),this.position.getZ()),this.lookAt()}setNearFar(t,s){this.near=t,this.far=s}setAngle(t){this.angle=t}getModeProjection(){return this.ortho??this.projection}getProjection(){return this.projection}getViewProjection(){const t=new i.A;return t.identity(),t.multiply(this.getView()),t.multiply(this.getProjection()),t}getInverseViewProjection(){return this.getViewProjection().inverse()}unproject(t,s){let e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:.5;const i=new h.A(t,s,e),r=this.getInverseViewProjection();return i.multiplyMatrix(r)}getRayFromNDC(t,s){const e=this.getInverseViewProjection(),i=new h.A(t,s,0).multiplyMatrix(e),r=new h.A(t,s,1).multiplyMatrix(e);return{origin:i,dir:new h.A(r.getX(),r.getY(),r.getZ()).minus(i).normalise()}}worldToNDC(t){const s=this.getViewProjection();return new h.A(t.getX(),t.getY(),t.getZ()).multiplyMatrix(s)}worldToRelativeScreen(t,s){const e=this.worldToNDC(t);return{x:(.5*e.getX()+.5)*s.width,y:(1-(.5*e.getY()+.5))*s.height}}getIdentity(){return this.matIdentity}getNearFar(){return[this.near,this.far]}getNear(){return this.near}getFar(){return this.far}getAngle(){return this.angle}getReflectViewMatrix(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;const s=2*(this.position.getY()-t);return(new i.A).identity().lookAt(this.position.getX(),this.position.getY()-s,this.position.getZ(),this.target.getX(),this.target.getY(),this.target.getZ(),0,1,0)}}},72985(t,s,e){e.d(s,{A:()=>l});var i=e(99594),h=e(67269),r=e(19365),n=e(71907);const o=class extends n.A{get2dTexturePoint(t){const s=t.getX(),e=t.getY(),i=t.getZ(),n=new r.A(s,e,i,1),o=new h.A;o.equal(this.view).multiply(this.projection),n.multiplyMatrix(o);let d=n.getX()/n.getW(),a=n.getY()/n.getW();return d=.5*(d+1),a=.5*(a+1),[d,a]}get2dScreenPoint(t,s){const e=this.get2dTexturePoint(t);return[e[0]*s.width,e[1]*s.height]}},d=class extends o{constructor(t){super(t),this.options=t,this.rotationX=new i.A,this.targetX=new i.A,this.zoomZ=new i.A(.7,.1)}update(){super.update(),this.rotationX.update(),this.zoomZ.update(),this.targetX.update(),this.position.set(this.options.position.x+this.targetX.get()+Math.sin(this.rotationX.get())*(this.options.position.z*this.zoomZ.get()),this.options.position.y,Math.cos(this.rotationX.get())*(this.options.position.z*this.zoomZ.get())),this.target.set(this.options.target.x,this.options.target.y,this.options.target.z)}setSmoothTarget(t){this.targetX.set(t)}setSmoothRotation(t){this.rotationX.set(t)}setSmoothZoom(t){this.zoomZ.set(t)}getZoom(){return this.zoomZ.get()}followPos2D(t,s){this.options.position.x=t,this.options.position.y=s,this.options.target.x=t,this.options.target.y=s}followPosY(t){this.options.position.y=t,this.options.target.y=t}};var a=e(76717);const l=class extends a.A{constructor(t,s){super(t,s),this.camera=new d(s.camera),this.camera.perspective(this.containerSize.width,this.containerSize.height)}resize(t){super.resize(t),this.camera.perspective(this.containerSize.width,this.containerSize.height)}update(t){super.update(t),this.camera.update(),this.mngProg.setCameraMatrix(this.camera,!!this.config.camera.ortho)}}},76314(t){t.exports=function(t){var s=[];return s.toString=function(){return this.map((function(s){var e="",i=void 0!==s[5];return s[4]&&(e+="@supports (".concat(s[4],") {")),s[2]&&(e+="@media ".concat(s[2]," {")),i&&(e+="@layer".concat(s[5].length>0?" ".concat(s[5]):""," {")),e+=t(s),i&&(e+="}"),s[2]&&(e+="}"),s[4]&&(e+="}"),e})).join("")},s.i=function(t,e,i,h,r){"string"==typeof t&&(t=[[null,t,void 0]]);var n={};if(i)for(var o=0;o<this.length;o++){var d=this[o][0];null!=d&&(n[d]=!0)}for(var a=0;a<t.length;a++){var l=[].concat(t[a]);i&&n[l[0]]||(void 0!==r&&(void 0===l[5]||(l[1]="@layer".concat(l[5].length>0?" ".concat(l[5]):""," {").concat(l[1],"}")),l[5]=r),e&&(l[2]?(l[1]="@media ".concat(l[2]," {").concat(l[1],"}"),l[2]=e):l[2]=e),h&&(l[4]?(l[1]="@supports (".concat(l[4],") {").concat(l[1],"}"),l[4]=h):l[4]="".concat(h)),s.push(l))}},s}},77659(t){var s={};t.exports=function(t,e){var i=function(t){if(void 0===s[t]){var e=document.querySelector(t);if(window.HTMLIFrameElement&&e instanceof window.HTMLIFrameElement)try{e=e.contentDocument.head}catch(t){e=null}s[t]=e}return s[t]}(t);if(!i)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");i.appendChild(e)}},78617(t,s,e){e.d(s,{A:()=>n});var i=e(87750),h=e(67269),r=e(7567);const n=class{constructor(){this.d=new Float32Array(8),this.identity()}identity(){return this.d[0]=0,this.d[1]=0,this.d[2]=0,this.d[3]=1,this.d[4]=0,this.d[5]=0,this.d[6]=0,this.d[7]=0,this}set(t,s,e,i,h,r,n,o){return this.d[0]=t,this.d[1]=s,this.d[2]=e,this.d[3]=i,this.d[4]=h,this.d[5]=r,this.d[6]=n,this.d[7]=o,this}add(t){return this.d[0]+=t.d[0],this.d[1]+=t.d[1],this.d[2]+=t.d[2],this.d[3]+=t.d[3],this.d[4]+=t.d[4],this.d[5]+=t.d[5],this.d[6]+=t.d[6],this.d[7]+=t.d[7],this}translate(t){const s=this.d[0],e=this.d[1],i=this.d[2],h=this.d[3],r=.5*t[0],n=.5*t[1],o=.5*t[2],d=this.d[4],a=this.d[5],l=this.d[6],c=this.d[7];return this.d[0]=s,this.d[1]=e,this.d[2]=i,this.d[3]=h,this.d[4]=h*r+e*o-i*n+d,this.d[5]=h*n+i*r-s*o+a,this.d[6]=h*o+s*n-e*r+l,this.d[7]=-s*r-e*n-i*o+c,this}multiply(t){const s=this.d[0],e=this.d[1],i=this.d[2],h=this.d[3],r=t.d[4],n=t.d[5],o=t.d[6],d=t.d[7],a=this.d[4],l=this.d[5],c=this.d[6],g=this.d[7],u=t.d[0],p=t.d[1],m=t.d[2],v=t.d[3];return this.d[0]=s*v+h*u+e*m-i*p,this.d[1]=e*v+h*p+i*u-s*m,this.d[2]=i*v+h*m+s*p-e*u,this.d[3]=h*v-s*u-e*p-i*m,this.d[4]=s*d+h*r+e*o-i*n+a*v+g*u+l*m-c*p,this.d[5]=e*d+h*n+i*r-s*o+l*v+g*p+c*u-a*m,this.d[6]=i*d+h*o+s*n-e*r+c*v+g*m+a*p-l*u,this.d[7]=h*d-s*r-e*n-i*o+g*v-a*u-l*p-c*m,this}scale(t){return this.d[0]*=t,this.d[1]*=t,this.d[2]*=t,this.d[3]*=t,this.d[4]*=t,this.d[5]*=t,this.d[6]*=t,this.d[7]*=t,this}rotateX(t){let s=-this.d[0],e=-this.d[1],i=-this.d[2],h=this.d[3];const n=this.d[4],o=this.d[5],d=this.d[6],a=this.d[7],l=n*h+a*s+o*i-d*e,c=o*h+a*e+d*s-n*i,g=d*h+a*i+n*e-o*s,u=a*h-n*s-o*e-d*i,p=new r.A(this.d[0],this.d[1],this.d[2],this.d[3]);return p.rotateX(t),this.d[0]=p.getX(),this.d[1]=p.getY(),this.d[2]=p.getZ(),this.d[3]=p.getW(),s=p.getX(),e=p.getY(),i=p.getZ(),h=p.getW(),this.d[4]=l*h+u*s+c*i-g*e,this.d[5]=c*h+u*e+g*s-l*i,this.d[6]=g*h+u*i+l*e-c*s,this.d[7]=u*h-l*s-c*e-g*i,this}rotateY(t){let s=-this.d[0],e=-this.d[1],i=-this.d[2],h=this.d[3];const n=this.d[4],o=this.d[5],d=this.d[6],a=this.d[7],l=n*h+a*s+o*i-d*e,c=o*h+a*e+d*s-n*i,g=d*h+a*i+n*e-o*s,u=a*h-n*s-o*e-d*i,p=new r.A(this.d[0],this.d[1],this.d[2],this.d[3]);return p.rotateY(t),this.d[0]=p.getX(),this.d[1]=p.getY(),this.d[2]=p.getZ(),this.d[3]=p.getW(),s=p.getX(),e=p.getY(),i=p.getZ(),h=p.getW(),this.d[4]=l*h+u*s+c*i-g*e,this.d[5]=c*h+u*e+g*s-l*i,this.d[6]=g*h+u*i+l*e-c*s,this.d[7]=u*h-l*s-c*e-g*i,this}rotateZ(t){let s=-this.d[0],e=-this.d[1],i=-this.d[2],h=this.d[3];const n=this.d[4],o=this.d[5],d=this.d[6],a=this.d[7],l=n*h+a*s+o*i-d*e,c=o*h+a*e+d*s-n*i,g=d*h+a*i+n*e-o*s,u=a*h-n*s-o*e-d*i,p=new r.A(this.d[0],this.d[1],this.d[2],this.d[3]);return p.rotateZ(t),this.d[0]=p.getX(),this.d[1]=p.getY(),this.d[2]=p.getZ(),this.d[3]=p.getW(),s=p.getX(),e=p.getY(),i=p.getZ(),h=p.getW(),this.d[4]=l*h+u*s+c*i-g*e,this.d[5]=c*h+u*e+g*s-l*i,this.d[6]=g*h+u*i+l*e-c*s,this.d[7]=u*h-l*s-c*e-g*i,this}rotateAroundAxis(t,s){if(Math.abs(s)<i.p)return this;const e=Math.hypot(t[0],t[1],t[2]),h=.5*s,r=Math.sin(h),n=r*t[0]/e,o=r*t[1]/e,d=r*t[2]/e,a=Math.cos(h),l=this.d[0],c=this.d[1],g=this.d[2],u=this.d[3];this.d[0]=l*a+u*n+c*d-g*o,this.d[1]=c*a+u*o+g*n-l*d,this.d[2]=g*a+u*d+l*o-c*n,this.d[3]=u*a-l*n-c*o-g*d;const p=this.d[4],m=this.d[5],v=this.d[6],f=this.d[7];return this.d[4]=p*a+f*n+m*d-v*o,this.d[5]=m*a+f*o+v*n-p*d,this.d[6]=v*a+f*d+p*o-m*n,this.d[7]=f*a-p*n-m*o-v*d,this}getTranslation(){const t=this.d[4],s=this.d[5],e=this.d[6],i=this.d[7],h=-this.d[0],r=-this.d[1],n=-this.d[2],o=this.d[3],d=[3];return d[0]=2*(t*o+i*h+s*n-e*r),d[1]=2*(s*o+i*r+e*h-t*n),d[2]=2*(e*o+i*n+t*r-s*h),d}toMatrix4(){const t=[16];t[0]=1-2*this.d[1]*this.d[1]-2*this.d[2]*this.d[2],t[1]=2*this.d[0]*this.d[1]+2*this.d[3]*this.d[2],t[2]=2*this.d[0]*this.d[2]-2*this.d[3]*this.d[1],t[3]=0,t[4]=2*this.d[0]*this.d[1]-2*this.d[3]*this.d[2],t[5]=1-2*this.d[0]*this.d[0]-2*this.d[2]*this.d[2],t[6]=2*this.d[1]*this.d[2]+2*this.d[3]*this.d[0],t[7]=0,t[8]=2*this.d[0]*this.d[2]+2*this.d[3]*this.d[1],t[9]=2*this.d[1]*this.d[2]-2*this.d[3]*this.d[0],t[10]=1-2*this.d[0]*this.d[0]-2*this.d[1]*this.d[1],t[11]=0,t[12]=2*(-this.d[7]*this.d[0]+this.d[4]*this.d[3]-this.d[5]*this.d[2]+this.d[6]*this.d[1]),t[13]=2*(-this.d[7]*this.d[1]+this.d[4]*this.d[2]+this.d[5]*this.d[3]-this.d[6]*this.d[0]),t[14]=2*(-this.d[7]*this.d[2]-this.d[4]*this.d[1]+this.d[5]*this.d[0]+this.d[6]*this.d[3]),t[15]=1;return(new h.A).setFromArray(t)}get(){return this.d}}},85072(t){var s=[];function e(t){for(var e=-1,i=0;i<s.length;i++)if(s[i].identifier===t){e=i;break}return e}function i(t,i){for(var r={},n=[],o=0;o<t.length;o++){var d=t[o],a=i.base?d[0]+i.base:d[0],l=r[a]||0,c="".concat(a," ").concat(l);r[a]=l+1;var g=e(c),u={css:d[1],media:d[2],sourceMap:d[3],supports:d[4],layer:d[5]};if(-1!==g)s[g].references++,s[g].updater(u);else{var p=h(u,i);i.byIndex=o,s.splice(o,0,{identifier:c,updater:p,references:1})}n.push(c)}return n}function h(t,s){var e=s.domAPI(s);e.update(t);return function(s){if(s){if(s.css===t.css&&s.media===t.media&&s.sourceMap===t.sourceMap&&s.supports===t.supports&&s.layer===t.layer)return;e.update(t=s)}else e.remove()}}t.exports=function(t,h){var r=i(t=t||[],h=h||{});return function(t){t=t||[];for(var n=0;n<r.length;n++){var o=e(r[n]);s[o].references--}for(var d=i(t,h),a=0;a<r.length;a++){var l=e(r[a]);0===s[l].references&&(s[l].updater(),s.splice(l,1))}r=d}}},87510(t,s,e){e.d(s,{A:()=>i});const i=class{constructor(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.value=t,this.speed=0,this.sampling=s.sampling||.7}update(){this.value+=this.speed,this.speed*=this.sampling}get(){return this.value}set(t){this.speed+=t}}},97825(t){t.exports=function(t){if("undefined"==typeof document)return{update:function(){},remove:function(){}};var s=t.insertStyleElement(t);return{update:function(e){!function(t,s,e){var i="";e.supports&&(i+="@supports (".concat(e.supports,") {")),e.media&&(i+="@media ".concat(e.media," {"));var h=void 0!==e.layer;h&&(i+="@layer".concat(e.layer.length>0?" ".concat(e.layer):""," {")),i+=e.css,h&&(i+="}"),e.media&&(i+="}"),e.supports&&(i+="}");var r=e.sourceMap;r&&"undefined"!=typeof btoa&&(i+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(r))))," */")),s.styleTagTransform(i,t,s.options)}(s,t,e)},remove:function(){!function(t){if(null===t.parentNode)return!1;t.parentNode.removeChild(t)}(s)}}}},99594(t,s,e){e.d(s,{A:()=>i});const i=class{constructor(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.04;this.value=t,this.target=t,this.sampling=s,this.threshold=1e-6}update(){Math.abs(this.value-this.target)>this.threshold?this.value+=(this.target-this.value)*this.sampling:this.value=this.target}get(){return this.value}set(t){this.target=t}setDirect(t){this.value=t}}}}]);