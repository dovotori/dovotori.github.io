"use strict";(self.webpackChunkdovotori_portfolio=self.webpackChunkdovotori_portfolio||[]).push([[4254],{88920:(t,e,i)=>{i.d(e,{IH:()=>r,U2:()=>n});var o={};function n(t){return o[t]||o[t.replace(/urn:(x-)?ogc:def:crs:EPSG:(.*:)?(\w+)$/,"EPSG:$3")]||null}function r(t,e){o[t]=e}},49556:(t,e,i)=>{i.d(e,{IH:()=>n,U2:()=>r});var o={};function n(t,e,i){var n=t.getCode(),r=e.getCode();n in o||(o[n]={}),o[n][r]=i}function r(t,e){var i;return t in o&&e in o[t]&&(i=o[t][e]),i}},80747:(t,e,i)=>{i.d(e,{Z:()=>a});var o,n=i(55431),r=i(93083),s=(o=function(t,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])},o(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});const a=function(t){function e(e){var i=t.call(this)||this;return i.geometry_=null,i.element_=document.createElement("div"),i.element_.style.position="absolute",i.element_.style.pointerEvents="auto",i.element_.className="ol-box "+e,i.map_=null,i.startPixel_=null,i.endPixel_=null,i}return s(e,t),e.prototype.disposeInternal=function(){this.setMap(null)},e.prototype.render_=function(){var t=this.startPixel_,e=this.endPixel_,i="px",o=this.element_.style;o.left=Math.min(t[0],e[0])+i,o.top=Math.min(t[1],e[1])+i,o.width=Math.abs(e[0]-t[0])+i,o.height=Math.abs(e[1]-t[1])+i},e.prototype.setMap=function(t){if(this.map_){this.map_.getOverlayContainer().removeChild(this.element_);var e=this.element_.style;e.left="inherit",e.top="inherit",e.width="inherit",e.height="inherit"}this.map_=t,this.map_&&this.map_.getOverlayContainer().appendChild(this.element_)},e.prototype.setPixels=function(t,e){this.startPixel_=t,this.endPixel_=e,this.createOrUpdateGeometry(),this.render_()},e.prototype.createOrUpdateGeometry=function(){var t=this.startPixel_,e=this.endPixel_,i=[t,[t[0],e[1]],e,[e[0],t[1]]].map(this.map_.getCoordinateFromPixelInternal,this.map_);i[4]=i[0].slice(),this.geometry_?this.geometry_.setCoordinates([i]):this.geometry_=new r.ZP([i])},e.prototype.getGeometry=function(){return this.geometry_},e}(n.Z)},57380:(t,e,i)=>{i.d(e,{Z:()=>s});var o,n=i(291),r=(o=function(t,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])},o(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});const s=function(t){function e(e,i,o,n){var r=t.call(this,e)||this;return r.inversePixelTransform=i,r.frameState=o,r.context=n,r}return r(e,t),e}(n.ZP)},98771:(t,e,i)=>{i.d(e,{Z:()=>o});const o={PRERENDER:"prerender",POSTRENDER:"postrender",PRECOMPOSE:"precompose",POSTCOMPOSE:"postcompose",RENDERCOMPLETE:"rendercomplete"}},45624:(t,e,i)=>{i.d(e,{Z:()=>o});const o=function(){function t(){}return t.prototype.drawCustom=function(t,e,i,o){},t.prototype.drawGeometry=function(t){},t.prototype.setStyle=function(t){},t.prototype.drawCircle=function(t,e){},t.prototype.drawFeature=function(t,e){},t.prototype.drawGeometryCollection=function(t,e){},t.prototype.drawLineString=function(t,e){},t.prototype.drawMultiLineString=function(t,e){},t.prototype.drawMultiPoint=function(t,e){},t.prototype.drawMultiPolygon=function(t,e){},t.prototype.drawPoint=function(t,e){},t.prototype.drawPolygon=function(t,e){},t.prototype.drawText=function(t,e){},t.prototype.setFillStrokeStyle=function(t,e){},t.prototype.setImageStyle=function(t,e){},t.prototype.setTextStyle=function(t,e){},t}()},50147:(t,e,i)=>{i.d(e,{Df:()=>h,He:()=>f,Kd:()=>P,PH:()=>y,Qx:()=>k,Tx:()=>g,V4:()=>d,X9:()=>_,Zw:()=>b,_f:()=>R,bL:()=>c,mb:()=>u,oB:()=>S,rc:()=>p,ru:()=>x,sG:()=>m,yC:()=>v});var o=i(72971),n=i(208),r=i(40177),s=i(69374),a=i(68326),l=i(10245),h="10px sans-serif",c="#000",u="round",_=[],f=0,p="round",d=10,g="#000",y="center",x="middle",S=[0,0,0,0],v=1,m=new o.Z;(new n.Z).setSize=function(){console.warn("labelCache is deprecated.")};var T,O,C=null,I={},k=function(){var t,e,i="32px ",o=["monospace","serif"],n=o.length,r="wmytzilWMYTZIL@#/&?$%10";function a(t,s,a){for(var l=!0,h=0;h<n;++h){var c=o[h];if(e=E(t+" "+s+" "+i+c,r),a!=c){var u=E(t+" "+s+" "+i+a+","+c,r);l=l&&u!=e}}return!!l}function h(){for(var e=!0,i=m.getKeys(),o=0,n=i.length;o<n;++o){var r=i[o];m.get(r)<100&&(a.apply(this,r.split("\n"))?((0,s.ZH)(I),C=null,T=void 0,m.set(r,100)):(m.set(r,m.get(r)+1,!0),e=!1))}e&&(clearInterval(t),t=void 0)}return function(e){var i=(0,l.p)(e);if(i)for(var o=i.families,n=0,r=o.length;n<r;++n){var s=o[n],c=i.style+"\n"+i.weight+"\n"+s;void 0===m.get(c)&&(m.set(c,100,!0),a(i.style,i.weight,s)||(m.set(c,0,!0),void 0===t&&(t=setInterval(h,32))))}}}(),L=function(t){var e=I[t];if(null==e){if(r.Id){var i=(0,l.p)(t),o=w(t,"Žg");e=(isNaN(Number(i.lineHeight))?1.2:Number(i.lineHeight))*(o.actualBoundingBoxAscent+o.actualBoundingBoxDescent)}else O||((O=document.createElement("div")).innerHTML="M",O.style.minHeight="0",O.style.maxHeight="none",O.style.height="auto",O.style.padding="0",O.style.border="none",O.style.position="absolute",O.style.display="block",O.style.left="-99999px"),O.style.font=t,document.body.appendChild(O),e=O.offsetHeight,document.body.removeChild(O);I[t]=e}return e};function w(t,e){return C||(C=(0,a.E4)(1,1)),t!=T&&(C.font=t,T=C.font),C.measureText(e)}function E(t,e){return w(t,e).width}function P(t,e,i){if(e in i)return i[e];var o=E(t,e);return i[e]=o,o}function b(t,e){for(var i=[],o=[],n=[],r=0,s=0,a=0,l=0,h=0,c=e.length;h<=c;h+=2){var u=e[h];if("\n"!==u&&h!==c){var _=e[h+1]||t.font,f=E(_,u);i.push(f),s+=f;var p=L(_);o.push(p),l=Math.max(l,p)}else r=Math.max(r,s),n.push(s),s=0,a+=l}return{width:r,height:a,widths:i,heights:o,lineWidths:n}}function R(t,e,i,o,n,r,s,a,l,h,c){t.save(),1!==i&&(t.globalAlpha*=i),e&&t.setTransform.apply(t,e),o.contextInstructions?(t.translate(l,h),t.scale(c[0],c[1]),function(t,e){for(var i=t.contextInstructions,o=0,n=i.length;o<n;o+=2)Array.isArray(i[o+1])?e[i[o]].apply(e,i[o+1]):e[i[o]]=i[o+1]}(o,t)):c[0]<0||c[1]<0?(t.translate(l,h),t.scale(c[0],c[1]),t.drawImage(o,n,r,s,a,0,0,s,a)):t.drawImage(o,n,r,s,a,l,h,s*c[0],a*c[1]),t.restore()}},99557:(t,e,i)=>{i.d(e,{Z:()=>p});var o,n=i(45707),r=i(74754),s=i(28716),a=i(45624),l=i(98407),h=i(28641),c=i(50147),u=i(65537),_=i(89241),f=(o=function(t,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])},o(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});const p=function(t){function e(e,i,o,n){var r=t.call(this)||this;return r.tolerance=e,r.maxExtent=i,r.pixelRatio=n,r.maxLineWidth=0,r.resolution=o,r.beginGeometryInstruction1_=null,r.beginGeometryInstruction2_=null,r.bufferedMaxExtent_=null,r.instructions=[],r.coordinates=[],r.tmpCoordinate_=[],r.hitDetectionInstructions=[],r.state={},r}return f(e,t),e.prototype.applyPixelRatio=function(t){var e=this.pixelRatio;return 1==e?t:t.map((function(t){return t*e}))},e.prototype.appendFlatPointCoordinates=function(t,e){for(var i=this.getBufferedMaxExtent(),o=this.tmpCoordinate_,n=this.coordinates,r=n.length,s=0,a=t.length;s<a;s+=e)o[0]=t[s],o[1]=t[s+1],(0,h.b8)(i,o)&&(n[r++]=o[0],n[r++]=o[1]);return r},e.prototype.appendFlatLineCoordinates=function(t,e,i,o,n,r){var a=this.coordinates,l=a.length,c=this.getBufferedMaxExtent();r&&(e+=o);var u,_,f,p=t[e],d=t[e+1],g=this.tmpCoordinate_,y=!0;for(u=e+o;u<i;u+=o)g[0]=t[u],g[1]=t[u+1],(f=(0,h.pX)(c,g))!==_?(y&&(a[l++]=p,a[l++]=d,y=!1),a[l++]=g[0],a[l++]=g[1]):f===s.Z.INTERSECTING?(a[l++]=g[0],a[l++]=g[1],y=!1):y=!0,p=g[0],d=g[1],_=f;return(n&&y||u===e+o)&&(a[l++]=p,a[l++]=d),l},e.prototype.drawCustomCoordinates_=function(t,e,i,o,n){for(var r=0,s=i.length;r<s;++r){var a=i[r],l=this.appendFlatLineCoordinates(t,e,a,o,!1,!1);n.push(l),e=a}return e},e.prototype.drawCustom=function(t,e,i,o){this.beginGeometry(t,e);var s,a,l,h,c,u=t.getType(),f=t.getStride(),p=this.coordinates.length;switch(u){case r.Z.MULTI_POLYGON:s=t.getOrientedFlatCoordinates(),h=[];var d=t.getEndss();c=0;for(var g=0,y=d.length;g<y;++g){var x=[];c=this.drawCustomCoordinates_(s,c,d[g],f,x),h.push(x)}this.instructions.push([n.ZP.CUSTOM,p,h,t,i,_.ug]),this.hitDetectionInstructions.push([n.ZP.CUSTOM,p,h,t,o||i,_.ug]);break;case r.Z.POLYGON:case r.Z.MULTI_LINE_STRING:l=[],s=u==r.Z.POLYGON?t.getOrientedFlatCoordinates():t.getFlatCoordinates(),c=this.drawCustomCoordinates_(s,0,t.getEnds(),f,l),this.instructions.push([n.ZP.CUSTOM,p,l,t,i,_.o1]),this.hitDetectionInstructions.push([n.ZP.CUSTOM,p,l,t,o||i,_.o1]);break;case r.Z.LINE_STRING:case r.Z.CIRCLE:s=t.getFlatCoordinates(),a=this.appendFlatLineCoordinates(s,0,s.length,f,!1,!1),this.instructions.push([n.ZP.CUSTOM,p,a,t,i,_.Ml]),this.hitDetectionInstructions.push([n.ZP.CUSTOM,p,a,t,o||i,_.Ml]);break;case r.Z.MULTI_POINT:s=t.getFlatCoordinates(),(a=this.appendFlatPointCoordinates(s,f))>p&&(this.instructions.push([n.ZP.CUSTOM,p,a,t,i,_.Ml]),this.hitDetectionInstructions.push([n.ZP.CUSTOM,p,a,t,o||i,_.Ml]));break;case r.Z.POINT:s=t.getFlatCoordinates(),this.coordinates.push(s[0],s[1]),a=this.coordinates.length,this.instructions.push([n.ZP.CUSTOM,p,a,t,i]),this.hitDetectionInstructions.push([n.ZP.CUSTOM,p,a,t,o||i])}this.endGeometry(e)},e.prototype.beginGeometry=function(t,e){this.beginGeometryInstruction1_=[n.ZP.BEGIN_GEOMETRY,e,0,t],this.instructions.push(this.beginGeometryInstruction1_),this.beginGeometryInstruction2_=[n.ZP.BEGIN_GEOMETRY,e,0,t],this.hitDetectionInstructions.push(this.beginGeometryInstruction2_)},e.prototype.finish=function(){return{instructions:this.instructions,hitDetectionInstructions:this.hitDetectionInstructions,coordinates:this.coordinates}},e.prototype.reverseHitDetectionInstructions=function(){var t,e=this.hitDetectionInstructions;e.reverse();var i,o,r=e.length,s=-1;for(t=0;t<r;++t)(o=(i=e[t])[0])==n.ZP.END_GEOMETRY?s=t:o==n.ZP.BEGIN_GEOMETRY&&(i[2]=t,(0,u.FZ)(this.hitDetectionInstructions,s,t),s=-1)},e.prototype.setFillStrokeStyle=function(t,e){var i=this.state;if(t){var o=t.getColor();i.fillStyle=(0,l.y)(o||c.bL)}else i.fillStyle=void 0;if(e){var n=e.getColor();i.strokeStyle=(0,l.y)(n||c.Tx);var r=e.getLineCap();i.lineCap=void 0!==r?r:c.mb;var s=e.getLineDash();i.lineDash=s?s.slice():c.X9;var a=e.getLineDashOffset();i.lineDashOffset=a||c.He;var h=e.getLineJoin();i.lineJoin=void 0!==h?h:c.rc;var u=e.getWidth();i.lineWidth=void 0!==u?u:c.yC;var _=e.getMiterLimit();i.miterLimit=void 0!==_?_:c.V4,i.lineWidth>this.maxLineWidth&&(this.maxLineWidth=i.lineWidth,this.bufferedMaxExtent_=null)}else i.strokeStyle=void 0,i.lineCap=void 0,i.lineDash=null,i.lineDashOffset=void 0,i.lineJoin=void 0,i.lineWidth=void 0,i.miterLimit=void 0},e.prototype.createFill=function(t){var e=t.fillStyle,i=[n.ZP.SET_FILL_STYLE,e];return"string"!=typeof e&&i.push(!0),i},e.prototype.applyStroke=function(t){this.instructions.push(this.createStroke(t))},e.prototype.createStroke=function(t){return[n.ZP.SET_STROKE_STYLE,t.strokeStyle,t.lineWidth*this.pixelRatio,t.lineCap,t.lineJoin,t.miterLimit,this.applyPixelRatio(t.lineDash),t.lineDashOffset*this.pixelRatio]},e.prototype.updateFillStyle=function(t,e){var i=t.fillStyle;"string"==typeof i&&t.currentFillStyle==i||(void 0!==i&&this.instructions.push(e.call(this,t)),t.currentFillStyle=i)},e.prototype.updateStrokeStyle=function(t,e){var i=t.strokeStyle,o=t.lineCap,n=t.lineDash,r=t.lineDashOffset,s=t.lineJoin,a=t.lineWidth,l=t.miterLimit;(t.currentStrokeStyle!=i||t.currentLineCap!=o||n!=t.currentLineDash&&!(0,u.fS)(t.currentLineDash,n)||t.currentLineDashOffset!=r||t.currentLineJoin!=s||t.currentLineWidth!=a||t.currentMiterLimit!=l)&&(void 0!==i&&e.call(this,t),t.currentStrokeStyle=i,t.currentLineCap=o,t.currentLineDash=n,t.currentLineDashOffset=r,t.currentLineJoin=s,t.currentLineWidth=a,t.currentMiterLimit=l)},e.prototype.endGeometry=function(t){this.beginGeometryInstruction1_[2]=this.instructions.length,this.beginGeometryInstruction1_=null,this.beginGeometryInstruction2_[2]=this.hitDetectionInstructions.length,this.beginGeometryInstruction2_=null;var e=[n.ZP.END_GEOMETRY,t];this.instructions.push(e),this.hitDetectionInstructions.push(e)},e.prototype.getBufferedMaxExtent=function(){if(!this.bufferedMaxExtent_&&(this.bufferedMaxExtent_=(0,h.d9)(this.maxExtent),this.maxLineWidth>0)){var t=this.resolution*(this.maxLineWidth+1)/2;(0,h.f3)(this.bufferedMaxExtent_,t,this.bufferedMaxExtent_)}return this.bufferedMaxExtent_},e}(a.Z)},31391:(t,e,i)=>{i.d(e,{Z:()=>g});var o,n=i(99557),r=i(45707),s=(o=function(t,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])},o(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});const a=function(t){function e(e,i,o,n){var r=t.call(this,e,i,o,n)||this;return r.hitDetectionImage_=null,r.image_=null,r.imagePixelRatio_=void 0,r.anchorX_=void 0,r.anchorY_=void 0,r.height_=void 0,r.opacity_=void 0,r.originX_=void 0,r.originY_=void 0,r.rotateWithView_=void 0,r.rotation_=void 0,r.scale_=void 0,r.width_=void 0,r.declutterImageWithText_=void 0,r}return s(e,t),e.prototype.drawPoint=function(t,e){if(this.image_){this.beginGeometry(t,e);var i=t.getFlatCoordinates(),o=t.getStride(),n=this.coordinates.length,s=this.appendFlatPointCoordinates(i,o);this.instructions.push([r.ZP.DRAW_IMAGE,n,s,this.image_,this.anchorX_*this.imagePixelRatio_,this.anchorY_*this.imagePixelRatio_,Math.ceil(this.height_*this.imagePixelRatio_),this.opacity_,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,[this.scale_[0]*this.pixelRatio/this.imagePixelRatio_,this.scale_[1]*this.pixelRatio/this.imagePixelRatio_],Math.ceil(this.width_*this.imagePixelRatio_),this.declutterImageWithText_]),this.hitDetectionInstructions.push([r.ZP.DRAW_IMAGE,n,s,this.hitDetectionImage_,this.anchorX_,this.anchorY_,this.height_,this.opacity_,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,this.scale_,this.width_,this.declutterImageWithText_]),this.endGeometry(e)}},e.prototype.drawMultiPoint=function(t,e){if(this.image_){this.beginGeometry(t,e);var i=t.getFlatCoordinates(),o=t.getStride(),n=this.coordinates.length,s=this.appendFlatPointCoordinates(i,o);this.instructions.push([r.ZP.DRAW_IMAGE,n,s,this.image_,this.anchorX_*this.imagePixelRatio_,this.anchorY_*this.imagePixelRatio_,Math.ceil(this.height_*this.imagePixelRatio_),this.opacity_,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,[this.scale_[0]*this.pixelRatio/this.imagePixelRatio_,this.scale_[1]*this.pixelRatio/this.imagePixelRatio_],Math.ceil(this.width_*this.imagePixelRatio_),this.declutterImageWithText_]),this.hitDetectionInstructions.push([r.ZP.DRAW_IMAGE,n,s,this.hitDetectionImage_,this.anchorX_,this.anchorY_,this.height_,this.opacity_,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,this.scale_,this.width_,this.declutterImageWithText_]),this.endGeometry(e)}},e.prototype.finish=function(){return this.reverseHitDetectionInstructions(),this.anchorX_=void 0,this.anchorY_=void 0,this.hitDetectionImage_=null,this.image_=null,this.imagePixelRatio_=void 0,this.height_=void 0,this.scale_=void 0,this.opacity_=void 0,this.originX_=void 0,this.originY_=void 0,this.rotateWithView_=void 0,this.rotation_=void 0,this.width_=void 0,t.prototype.finish.call(this)},e.prototype.setImageStyle=function(t,e){var i=t.getAnchor(),o=t.getSize(),n=t.getHitDetectionImage(),r=t.getImage(this.pixelRatio),s=t.getOrigin();this.imagePixelRatio_=t.getPixelRatio(this.pixelRatio),this.anchorX_=i[0],this.anchorY_=i[1],this.hitDetectionImage_=n,this.image_=r,this.height_=o[1],this.opacity_=t.getOpacity(),this.originX_=s[0]*this.imagePixelRatio_,this.originY_=s[1]*this.imagePixelRatio_,this.rotateWithView_=t.getRotateWithView(),this.rotation_=t.getRotation(),this.scale_=t.getScaleArray(),this.width_=o[0],this.declutterImageWithText_=e},e}(n.Z);var l=i(50147),h=function(){var t=function(e,i){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])},t(e,i)};return function(e,i){if("function"!=typeof i&&null!==i)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");function o(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(o.prototype=i.prototype,new o)}}();const c=function(t){function e(e,i,o,n){return t.call(this,e,i,o,n)||this}return h(e,t),e.prototype.drawFlatCoordinates_=function(t,e,i,o){var n=this.coordinates.length,s=this.appendFlatLineCoordinates(t,e,i,o,!1,!1),a=[r.ZP.MOVE_TO_LINE_TO,n,s];return this.instructions.push(a),this.hitDetectionInstructions.push(a),i},e.prototype.drawLineString=function(t,e){var i=this.state,o=i.strokeStyle,n=i.lineWidth;if(void 0!==o&&void 0!==n){this.updateStrokeStyle(i,this.applyStroke),this.beginGeometry(t,e),this.hitDetectionInstructions.push([r.ZP.SET_STROKE_STYLE,i.strokeStyle,i.lineWidth,i.lineCap,i.lineJoin,i.miterLimit,l.X9,l.He],r.$O);var s=t.getFlatCoordinates(),a=t.getStride();this.drawFlatCoordinates_(s,0,s.length,a),this.hitDetectionInstructions.push(r.Yc),this.endGeometry(e)}},e.prototype.drawMultiLineString=function(t,e){var i=this.state,o=i.strokeStyle,n=i.lineWidth;if(void 0!==o&&void 0!==n){this.updateStrokeStyle(i,this.applyStroke),this.beginGeometry(t,e),this.hitDetectionInstructions.push([r.ZP.SET_STROKE_STYLE,i.strokeStyle,i.lineWidth,i.lineCap,i.lineJoin,i.miterLimit,i.lineDash,i.lineDashOffset],r.$O);for(var s=t.getEnds(),a=t.getFlatCoordinates(),l=t.getStride(),h=0,c=0,u=s.length;c<u;++c)h=this.drawFlatCoordinates_(a,h,s[c],l);this.hitDetectionInstructions.push(r.Yc),this.endGeometry(e)}},e.prototype.finish=function(){var e=this.state;return null!=e.lastStroke&&e.lastStroke!=this.coordinates.length&&this.instructions.push(r.Yc),this.reverseHitDetectionInstructions(),this.state=null,t.prototype.finish.call(this)},e.prototype.applyStroke=function(e){null!=e.lastStroke&&e.lastStroke!=this.coordinates.length&&(this.instructions.push(r.Yc),e.lastStroke=this.coordinates.length),e.lastStroke=0,t.prototype.applyStroke.call(this,e),this.instructions.push(r.$O)},e}(n.Z);var u=i(80226),_=function(){var t=function(e,i){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])},t(e,i)};return function(e,i){if("function"!=typeof i&&null!==i)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");function o(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(o.prototype=i.prototype,new o)}}();const f=function(t){function e(e,i,o,n){return t.call(this,e,i,o,n)||this}return _(e,t),e.prototype.drawFlatCoordinatess_=function(t,e,i,o){var n=this.state,s=void 0!==n.fillStyle,a=void 0!==n.strokeStyle,l=i.length;this.instructions.push(r.$O),this.hitDetectionInstructions.push(r.$O);for(var h=0;h<l;++h){var c=i[h],u=this.coordinates.length,_=this.appendFlatLineCoordinates(t,e,c,o,!0,!a),f=[r.ZP.MOVE_TO_LINE_TO,u,_];this.instructions.push(f),this.hitDetectionInstructions.push(f),a&&(this.instructions.push(r.s3),this.hitDetectionInstructions.push(r.s3)),e=c}return s&&(this.instructions.push(r.gO),this.hitDetectionInstructions.push(r.gO)),a&&(this.instructions.push(r.Yc),this.hitDetectionInstructions.push(r.Yc)),e},e.prototype.drawCircle=function(t,e){var i=this.state,o=i.fillStyle,n=i.strokeStyle;if(void 0!==o||void 0!==n){this.setFillStrokeStyles_(),this.beginGeometry(t,e),void 0!==i.fillStyle&&this.hitDetectionInstructions.push([r.ZP.SET_FILL_STYLE,l.bL]),void 0!==i.strokeStyle&&this.hitDetectionInstructions.push([r.ZP.SET_STROKE_STYLE,i.strokeStyle,i.lineWidth,i.lineCap,i.lineJoin,i.miterLimit,i.lineDash,i.lineDashOffset]);var s=t.getFlatCoordinates(),a=t.getStride(),h=this.coordinates.length;this.appendFlatLineCoordinates(s,0,s.length,a,!1,!1);var c=[r.ZP.CIRCLE,h];this.instructions.push(r.$O,c),this.hitDetectionInstructions.push(r.$O,c),void 0!==i.fillStyle&&(this.instructions.push(r.gO),this.hitDetectionInstructions.push(r.gO)),void 0!==i.strokeStyle&&(this.instructions.push(r.Yc),this.hitDetectionInstructions.push(r.Yc)),this.endGeometry(e)}},e.prototype.drawPolygon=function(t,e){var i=this.state,o=i.fillStyle,n=i.strokeStyle;if(void 0!==o||void 0!==n){this.setFillStrokeStyles_(),this.beginGeometry(t,e),void 0!==i.fillStyle&&this.hitDetectionInstructions.push([r.ZP.SET_FILL_STYLE,l.bL]),void 0!==i.strokeStyle&&this.hitDetectionInstructions.push([r.ZP.SET_STROKE_STYLE,i.strokeStyle,i.lineWidth,i.lineCap,i.lineJoin,i.miterLimit,i.lineDash,i.lineDashOffset]);var s=t.getEnds(),a=t.getOrientedFlatCoordinates(),h=t.getStride();this.drawFlatCoordinatess_(a,0,s,h),this.endGeometry(e)}},e.prototype.drawMultiPolygon=function(t,e){var i=this.state,o=i.fillStyle,n=i.strokeStyle;if(void 0!==o||void 0!==n){this.setFillStrokeStyles_(),this.beginGeometry(t,e),void 0!==i.fillStyle&&this.hitDetectionInstructions.push([r.ZP.SET_FILL_STYLE,l.bL]),void 0!==i.strokeStyle&&this.hitDetectionInstructions.push([r.ZP.SET_STROKE_STYLE,i.strokeStyle,i.lineWidth,i.lineCap,i.lineJoin,i.miterLimit,i.lineDash,i.lineDashOffset]);for(var s=t.getEndss(),a=t.getOrientedFlatCoordinates(),h=t.getStride(),c=0,u=0,_=s.length;u<_;++u)c=this.drawFlatCoordinatess_(a,c,s[u],h);this.endGeometry(e)}},e.prototype.finish=function(){this.reverseHitDetectionInstructions(),this.state=null;var e=this.tolerance;if(0!==e)for(var i=this.coordinates,o=0,n=i.length;o<n;++o)i[o]=(0,u.uZ)(i[o],e);return t.prototype.finish.call(this)},e.prototype.setFillStrokeStyles_=function(){var t=this.state;void 0!==t.fillStyle&&this.updateFillStyle(t,this.createFill),void 0!==t.strokeStyle&&this.updateStrokeStyle(t,this.applyStroke)},e}(n.Z);var p=i(27043),d={Circle:f,Default:n.Z,Image:a,LineString:c,Polygon:f,Text:p.Z};const g=function(){function t(t,e,i,o){this.tolerance_=t,this.maxExtent_=e,this.pixelRatio_=o,this.resolution_=i,this.buildersByZIndex_={}}return t.prototype.finish=function(){var t={};for(var e in this.buildersByZIndex_){t[e]=t[e]||{};var i=this.buildersByZIndex_[e];for(var o in i){var n=i[o].finish();t[e][o]=n}}return t},t.prototype.getBuilder=function(t,e){var i=void 0!==t?t.toString():"0",o=this.buildersByZIndex_[i];void 0===o&&(o={},this.buildersByZIndex_[i]=o);var n=o[e];void 0===n&&(n=new(0,d[e])(this.tolerance_,this.maxExtent_,this.resolution_,this.pixelRatio_),o[e]=n);return n},t}()},72286:(t,e,i)=>{i.d(e,{Z:()=>o});const o={CIRCLE:"Circle",DEFAULT:"Default",IMAGE:"Image",LINE_STRING:"LineString",POLYGON:"Polygon",TEXT:"Text"}},62963:(t,e,i)=>{i.d(e,{Z:()=>E});var o=i(72286),n=i(45707),r=i(27043),s=i(40177),a=i(6101),l=i(28641),h=i(50147),c=i(27396),u=i(65537),_=i(27374),f=i(76442),p=(0,l.lJ)(),d=[],g=[],y=[],x=[];function S(t){return t[3].declutterBox}var v=new RegExp("["+String.fromCharCode(1425)+"-"+String.fromCharCode(2303)+String.fromCharCode(64285)+"-"+String.fromCharCode(65023)+String.fromCharCode(65136)+"-"+String.fromCharCode(65276)+String.fromCharCode(67584)+"-"+String.fromCharCode(69631)+String.fromCharCode(124928)+"-"+String.fromCharCode(126975)+"]");function m(t,e){return"start"!==e&&"end"!==e||v.test(t)||(e="start"===e?"left":"right"),r.I[e]}function T(t,e,i){return i>0&&t.push("\n",""),t.push(e,""),t}const O=function(){function t(t,e,i,o){this.overlaps=i,this.pixelRatio=e,this.resolution=t,this.alignFill_,this.instructions=o.instructions,this.coordinates=o.coordinates,this.coordinateCache_={},this.renderedTransform_=(0,a.Ue)(),this.hitDetectionInstructions=o.hitDetectionInstructions,this.pixelCoordinates_=null,this.viewRotation_=0,this.fillStates=o.fillStates||{},this.strokeStates=o.strokeStates||{},this.textStates=o.textStates||{},this.widths_={},this.labels_={}}return t.prototype.createLabel=function(t,e,i,o){var n=t+e+i+o;if(this.labels_[n])return this.labels_[n];var r=o?this.strokeStates[o]:null,a=i?this.fillStates[i]:null,l=this.textStates[e],c=this.pixelRatio,u=[l.scale[0]*c,l.scale[1]*c],_=Array.isArray(t),f=m(_?t[0]:t,l.textAlign||h.PH),p=o&&r.lineWidth?r.lineWidth:0,d=_?t:t.split("\n").reduce(T,[]),g=(0,h.Zw)(l,d),y=g.width,x=g.height,S=g.widths,v=g.heights,O=g.lineWidths,C=y+p,I=[],k=(C+2)*u[0],L=(x+p)*u[1],w={width:k<0?Math.floor(k):Math.ceil(k),height:L<0?Math.floor(L):Math.ceil(L),contextInstructions:I};(1==u[0]&&1==u[1]||I.push("scale",u),o)&&(I.push("strokeStyle",r.strokeStyle),I.push("lineWidth",p),I.push("lineCap",r.lineCap),I.push("lineJoin",r.lineJoin),I.push("miterLimit",r.miterLimit),(s.Id?OffscreenCanvasRenderingContext2D:CanvasRenderingContext2D).prototype.setLineDash&&(I.push("setLineDash",[r.lineDash]),I.push("lineDashOffset",r.lineDashOffset)));i&&I.push("fillStyle",a.fillStyle),I.push("textBaseline","middle"),I.push("textAlign","center");for(var E,P=.5-f,b=f*C+P*p,R=[],D=[],Z=0,M=0,F=0,G=0,W=0,A=d.length;W<A;W+=2){var N=d[W];if("\n"!==N){var Y=d[W+1]||l.font;Y!==E&&(o&&R.push("font",Y),i&&D.push("font",Y),E=Y),Z=Math.max(Z,v[F]);var B=[N,b+P*S[F]+f*(S[F]-O[G]),.5*(p+Z)+M];b+=S[F],o&&R.push("strokeText",B),i&&D.push("fillText",B),++F}else M+=Z,Z=0,b=f*C+P*p,++G}return Array.prototype.push.apply(I,R),Array.prototype.push.apply(I,D),this.labels_[n]=w,w},t.prototype.replayTextBackground_=function(t,e,i,o,n,r,s){t.beginPath(),t.moveTo.apply(t,e),t.lineTo.apply(t,i),t.lineTo.apply(t,o),t.lineTo.apply(t,n),t.lineTo.apply(t,e),r&&(this.alignFill_=r[2],this.fill_(t)),s&&(this.setStrokeStyle_(t,s),t.stroke())},t.prototype.calculateImageOrLabelDimensions_=function(t,e,i,o,n,r,s,h,c,u,_,f,S,v,m,T){var O,C=i-(s*=f[0]),I=o-(h*=f[1]),k=n+c>t?t-c:n,L=r+u>e?e-u:r,w=v[3]+k*f[0]+v[1],E=v[0]+L*f[1]+v[2],P=C-v[3],b=I-v[0];return(m||0!==_)&&(d[0]=P,x[0]=P,d[1]=b,g[1]=b,g[0]=P+w,y[0]=g[0],y[1]=b+E,x[1]=y[1]),0!==_?(O=(0,a.qC)((0,a.Ue)(),i,o,1,1,_,-i,-o),(0,a.nn)(O,d),(0,a.nn)(O,g),(0,a.nn)(O,y),(0,a.nn)(O,x),(0,l.T9)(Math.min(d[0],g[0],y[0],x[0]),Math.min(d[1],g[1],y[1],x[1]),Math.max(d[0],g[0],y[0],x[0]),Math.max(d[1],g[1],y[1],x[1]),p)):(0,l.T9)(Math.min(P,P+w),Math.min(b,b+E),Math.max(P,P+w),Math.max(b,b+E),p),S&&(C=Math.round(C),I=Math.round(I)),{drawImageX:C,drawImageY:I,drawImageW:k,drawImageH:L,originX:c,originY:u,declutterBox:{minX:p[0],minY:p[1],maxX:p[2],maxY:p[3],value:T},canvasTransform:O,scale:f}},t.prototype.replayImageOrLabel_=function(t,e,i,o,n,r,s){var a=!(!r&&!s),l=o.declutterBox,c=t.canvas,u=s?s[2]*o.scale[0]/2:0;return l.minX-u<=c.width/e&&l.maxX+u>=0&&l.minY-u<=c.height/e&&l.maxY+u>=0&&(a&&this.replayTextBackground_(t,d,g,y,x,r,s),(0,h._f)(t,o.canvasTransform,n,i,o.originX,o.originY,o.drawImageW,o.drawImageH,o.drawImageX,o.drawImageY,o.scale)),!0},t.prototype.fill_=function(t){if(this.alignFill_){var e=(0,a.nn)(this.renderedTransform_,[0,0]),i=512*this.pixelRatio;t.save(),t.translate(e[0]%i,e[1]%i),t.rotate(this.viewRotation_)}t.fill(),this.alignFill_&&t.restore()},t.prototype.setStrokeStyle_=function(t,e){t.strokeStyle=e[1],t.lineWidth=e[2],t.lineCap=e[3],t.lineJoin=e[4],t.miterLimit=e[5],t.setLineDash&&(t.lineDashOffset=e[7],t.setLineDash(e[6]))},t.prototype.drawLabelWithPointPlacement_=function(t,e,i,o){var n=this.textStates[e],s=this.createLabel(t,e,o,i),a=this.strokeStates[i],l=this.pixelRatio,c=m(Array.isArray(t)?t[0]:t,n.textAlign||h.PH),u=r.I[n.textBaseline||h.ru],_=a&&a.lineWidth?a.lineWidth:0;return{label:s,anchorX:c*(s.width/l-2*n.scale[0])+2*(.5-c)*_,anchorY:u*s.height/l+2*(.5-u)*_}},t.prototype.execute_=function(t,e,i,o,s,p,d,g){var y;this.pixelCoordinates_&&(0,u.fS)(i,this.renderedTransform_)?y=this.pixelCoordinates_:(this.pixelCoordinates_||(this.pixelCoordinates_=[]),y=(0,f.vT)(this.coordinates,0,this.coordinates.length,2,i,this.pixelCoordinates_),(0,a.lk)(this.renderedTransform_,i));for(var x,v,m,T,O,C,I,k,L,w,E,P,b,R,D,Z,M=0,F=o.length,G=0,W=0,A=0,N=null,Y=null,B=this.coordinateCache_,X=this.viewRotation_,H=Math.round(1e12*Math.atan2(-i[1],i[0]))/1e12,K={context:t,pixelRatio:this.pixelRatio,resolution:this.resolution,rotation:X},U=this.instructions!=o||this.overlaps?0:200;M<F;){var J=o[M];switch(J[0]){case n.ZP.BEGIN_GEOMETRY:b=J[1],Z=J[3],b.getGeometry()?void 0===d||(0,l.kK)(d,Z.getExtent())?++M:M=J[2]+1:M=J[2];break;case n.ZP.BEGIN_PATH:W>U&&(this.fill_(t),W=0),A>U&&(t.stroke(),A=0),W||A||(t.beginPath(),T=NaN,O=NaN),++M;break;case n.ZP.CIRCLE:var V=y[G=J[1]],j=y[G+1],q=y[G+2]-V,$=y[G+3]-j,z=Math.sqrt(q*q+$*$);t.moveTo(V+z,j),t.arc(V,j,z,0,2*Math.PI,!0),++M;break;case n.ZP.CLOSE_PATH:t.closePath(),++M;break;case n.ZP.CUSTOM:G=J[1],x=J[2];var Q=J[3],tt=J[4],et=6==J.length?J[5]:void 0;K.geometry=Q,K.feature=b,M in B||(B[M]=[]);var it=B[M];et?et(y,G,x,2,it):(it[0]=y[G],it[1]=y[G+1],it.length=2),tt(it,K),++M;break;case n.ZP.DRAW_IMAGE:G=J[1],x=J[2],k=J[3],v=J[4],m=J[5];var ot=J[6],nt=J[7],rt=J[8],st=J[9],at=J[10],lt=J[11],ht=J[12],ct=J[13],ut=J[14];if(!k&&J.length>=19){L=J[18],w=J[19],E=J[20],P=J[21];var _t=this.drawLabelWithPointPlacement_(L,w,E,P);k=_t.label,J[3]=k;var ft=J[22];v=(_t.anchorX-ft)*this.pixelRatio,J[4]=v;var pt=J[23];m=(_t.anchorY-pt)*this.pixelRatio,J[5]=m,ot=k.height,J[6]=ot,ct=k.width,J[13]=ct}var dt=void 0;J.length>24&&(dt=J[24]);var gt=void 0,yt=void 0,xt=void 0;J.length>16?(gt=J[15],yt=J[16],xt=J[17]):(gt=h.oB,yt=!1,xt=!1),at&&H?lt+=X:at||H||(lt-=X);for(var St=0;G<x;G+=2)if(!(dt&&dt[St++]<ct/this.pixelRatio)){var vt=[t,e,k,Vt=this.calculateImageOrLabelDimensions_(k.width,k.height,y[G],y[G+1],ct,ot,v,m,rt,st,lt,ht,s,gt,yt||xt,b),nt,yt?N:null,xt?Y:null],mt=void 0,Tt=void 0;if(g&&ut){var Ot=x-G;if(!ut[Ot]){ut[Ot]=vt;continue}if(mt=ut[Ot],delete ut[Ot],Tt=S(mt),g.collides(Tt))continue}g&&g.collides(Vt.declutterBox)||(mt&&(g&&g.insert(Tt),this.replayImageOrLabel_.apply(this,mt)),g&&g.insert(Vt.declutterBox),this.replayImageOrLabel_.apply(this,vt))}++M;break;case n.ZP.DRAW_CHARS:var Ct=J[1],It=J[2],kt=J[3],Lt=J[4];P=J[5];var wt=J[6],Et=J[7],Pt=J[8];E=J[9];var bt=J[10];L=J[11],w=J[12];var Rt=[J[13],J[13]],Dt=this.textStates[w],Zt=Dt.font,Mt=[Dt.scale[0]*Et,Dt.scale[1]*Et],Ft=void 0;Zt in this.widths_?Ft=this.widths_[Zt]:(Ft={},this.widths_[Zt]=Ft);var Gt=(0,_.W)(y,Ct,It,2),Wt=Math.abs(Mt[0])*(0,h.Kd)(Zt,L,Ft);if(Lt||Wt<=Gt){var At=this.textStates[w].textAlign,Nt=(Gt-Wt)*r.I[At],Yt=(0,c.q)(y,Ct,It,2,L,Nt,wt,Math.abs(Mt[0]),h.Kd,Zt,Ft,H?0:this.viewRotation_);t:if(Yt){var Bt=[],Xt=void 0,Ht=void 0,Kt=void 0,Ut=void 0,Jt=void 0;if(E)for(Xt=0,Ht=Yt.length;Xt<Ht;++Xt){Kt=(Jt=Yt[Xt])[4],Ut=this.createLabel(Kt,w,"",E),v=Jt[2]+(Mt[0]<0?-bt:bt),m=kt*Ut.height+2*(.5-kt)*bt*Mt[1]/Mt[0]-Pt;var Vt=this.calculateImageOrLabelDimensions_(Ut.width,Ut.height,Jt[0],Jt[1],Ut.width,Ut.height,v,m,0,0,Jt[3],Rt,!1,h.oB,!1,b);if(g&&g.collides(Vt.declutterBox))break t;Bt.push([t,e,Ut,Vt,1,null,null])}if(P)for(Xt=0,Ht=Yt.length;Xt<Ht;++Xt){Kt=(Jt=Yt[Xt])[4],Ut=this.createLabel(Kt,w,P,""),v=Jt[2],m=kt*Ut.height-Pt;Vt=this.calculateImageOrLabelDimensions_(Ut.width,Ut.height,Jt[0],Jt[1],Ut.width,Ut.height,v,m,0,0,Jt[3],Rt,!1,h.oB,!1,b);if(g&&g.collides(Vt.declutterBox))break t;Bt.push([t,e,Ut,Vt,1,null,null])}g&&g.load(Bt.map(S));for(var jt=0,qt=Bt.length;jt<qt;++jt)this.replayImageOrLabel_.apply(this,Bt[jt])}}++M;break;case n.ZP.END_GEOMETRY:if(void 0!==p){var $t=p(b=J[1],Z);if($t)return $t}++M;break;case n.ZP.FILL:U?W++:this.fill_(t),++M;break;case n.ZP.MOVE_TO_LINE_TO:for(G=J[1],x=J[2],R=y[G],I=(D=y[G+1])+.5|0,(C=R+.5|0)===T&&I===O||(t.moveTo(R,D),T=C,O=I),G+=2;G<x;G+=2)C=(R=y[G])+.5|0,I=(D=y[G+1])+.5|0,G!=x-2&&C===T&&I===O||(t.lineTo(R,D),T=C,O=I);++M;break;case n.ZP.SET_FILL_STYLE:N=J,this.alignFill_=J[2],W&&(this.fill_(t),W=0,A&&(t.stroke(),A=0)),t.fillStyle=J[1],++M;break;case n.ZP.SET_STROKE_STYLE:Y=J,A&&(t.stroke(),A=0),this.setStrokeStyle_(t,J),++M;break;case n.ZP.STROKE:U?A++:t.stroke(),++M;break;default:++M}}W&&this.fill_(t),A&&t.stroke()},t.prototype.execute=function(t,e,i,o,n,r){this.viewRotation_=o,this.execute_(t,e,i,this.instructions,n,void 0,void 0,r)},t.prototype.executeHitDetection=function(t,e,i,o,n){return this.viewRotation_=i,this.execute_(t,1,e,this.hitDetectionInstructions,!0,o,n)},t}();var C=i(68326),I=i(69374),k=[o.Z.POLYGON,o.Z.CIRCLE,o.Z.LINE_STRING,o.Z.IMAGE,o.Z.TEXT,o.Z.DEFAULT],L=function(){function t(t,e,i,o,n,r){this.maxExtent_=t,this.overlaps_=o,this.pixelRatio_=i,this.resolution_=e,this.renderBuffer_=r,this.executorsByZIndex_={},this.hitDetectionContext_=null,this.hitDetectionTransform_=(0,a.Ue)(),this.createExecutors_(n)}return t.prototype.clip=function(t,e){var i=this.getClipCoords(e);t.beginPath(),t.moveTo(i[0],i[1]),t.lineTo(i[2],i[3]),t.lineTo(i[4],i[5]),t.lineTo(i[6],i[7]),t.clip()},t.prototype.createExecutors_=function(t){for(var e in t){var i=this.executorsByZIndex_[e];void 0===i&&(i={},this.executorsByZIndex_[e]=i);var o=t[e];for(var n in o){var r=o[n];i[n]=new O(this.resolution_,this.pixelRatio_,this.overlaps_,r)}}},t.prototype.hasExecutors=function(t){for(var e in this.executorsByZIndex_)for(var i=this.executorsByZIndex_[e],o=0,n=t.length;o<n;++o)if(t[o]in i)return!0;return!1},t.prototype.forEachFeatureAtCoordinate=function(t,e,i,n,r,s){var h=2*(n=Math.round(n))+1,c=(0,a.qC)(this.hitDetectionTransform_,n+.5,n+.5,1/e,-1/e,-i,-t[0],-t[1]),_=!this.hitDetectionContext_;_&&(this.hitDetectionContext_=(0,C.E4)(h,h));var f,p=this.hitDetectionContext_;p.canvas.width!==h||p.canvas.height!==h?(p.canvas.width=h,p.canvas.height=h):_||p.clearRect(0,0,h,h),void 0!==this.renderBuffer_&&(f=(0,l.lJ)(),(0,l.Wj)(f,t),(0,l.f3)(f,e*(this.renderBuffer_+n),f));var d,g=function(t){if(void 0!==w[t])return w[t];for(var e=2*t+1,i=t*t,o=new Array(i+1),n=0;n<=t;++n)for(var r=0;r<=t;++r){var s=n*n+r*r;if(s>i)break;var a=o[s];a||(a=[],o[s]=a),a.push(4*((t+n)*e+(t+r))+3),n>0&&a.push(4*((t-n)*e+(t+r))+3),r>0&&(a.push(4*((t+n)*e+(t-r))+3),n>0&&a.push(4*((t-n)*e+(t-r))+3))}for(var l=[],h=(n=0,o.length);n<h;++n)o[n]&&l.push.apply(l,o[n]);return w[t]=l,l}(n);function y(t,e){for(var i=p.getImageData(0,0,h,h).data,a=0,l=g.length;a<l;a++)if(i[g[a]]>0){if(!s||d!==o.Z.IMAGE&&d!==o.Z.TEXT||-1!==s.indexOf(t)){var c=(g[a]-3)/4,u=n-c%h,_=n-(c/h|0),f=r(t,e,u*u+_*_);if(f)return f}p.clearRect(0,0,h,h);break}}var x,S,v,m,T,O=Object.keys(this.executorsByZIndex_).map(Number);for(O.sort(u.kK),x=O.length-1;x>=0;--x){var I=O[x].toString();for(v=this.executorsByZIndex_[I],S=k.length-1;S>=0;--S)if(void 0!==(m=v[d=k[S]])&&(T=m.executeHitDetection(p,c,i,y,f)))return T}},t.prototype.getClipCoords=function(t){var e=this.maxExtent_;if(!e)return null;var i=e[0],o=e[1],n=e[2],r=e[3],s=[i,o,i,r,n,r,n,o];return(0,f.vT)(s,0,8,2,t,s),s},t.prototype.isEmpty=function(){return(0,I.xb)(this.executorsByZIndex_)},t.prototype.execute=function(t,e,i,o,n,r,s){var a=Object.keys(this.executorsByZIndex_).map(Number);a.sort(u.kK),this.maxExtent_&&(t.save(),this.clip(t,i));var l,h,c,_,f,p,d=r||k;for(s&&a.reverse(),l=0,h=a.length;l<h;++l){var g=a[l].toString();for(f=this.executorsByZIndex_[g],c=0,_=d.length;c<_;++c){void 0!==(p=f[d[c]])&&p.execute(t,e,i,o,n,s)}}this.maxExtent_&&t.restore()},t}(),w={};const E=L},45707:(t,e,i)=>{i.d(e,{$O:()=>s,Yc:()=>r,ZP:()=>l,gO:()=>n,s3:()=>a});var o={BEGIN_GEOMETRY:0,BEGIN_PATH:1,CIRCLE:2,CLOSE_PATH:3,CUSTOM:4,DRAW_CHARS:5,DRAW_IMAGE:6,END_GEOMETRY:7,FILL:8,MOVE_TO_LINE_TO:9,SET_FILL_STYLE:10,SET_STROKE_STYLE:11,STROKE:12},n=[o.FILL],r=[o.STROKE],s=[o.BEGIN_PATH],a=[o.CLOSE_PATH];const l=o},27043:(t,e,i)=>{i.d(e,{I:()=>p,Z:()=>d});var o,n=i(99557),r=i(45707),s=i(74754),a=i(86313),l=i(98407),h=i(50147),c=i(74187),u=i(28641),_=i(12365),f=(o=function(t,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])},o(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),p={left:0,end:0,center:.5,right:1,start:1,top:0,middle:.5,hanging:.2,alphabetic:.8,ideographic:.8,bottom:1};const d=function(t){function e(e,i,o,n){var r=t.call(this,e,i,o,n)||this;return r.labels_=null,r.text_="",r.textOffsetX_=0,r.textOffsetY_=0,r.textRotateWithView_=void 0,r.textRotation_=0,r.textFillState_=null,r.fillStates={},r.textStrokeState_=null,r.strokeStates={},r.textState_={},r.textStates={},r.textKey_="",r.fillKey_="",r.strokeKey_="",r.declutterImageWithText_=void 0,r}return f(e,t),e.prototype.finish=function(){var e=t.prototype.finish.call(this);return e.textStates=this.textStates,e.fillStates=this.fillStates,e.strokeStates=this.strokeStates,e},e.prototype.drawText=function(t,e){var i=this.textFillState_,o=this.textStrokeState_,n=this.textState_;if(""!==this.text_&&n&&(i||o)){var l=this.coordinates,c=l.length,f=t.getType(),p=null,d=t.getStride();if(n.placement!==a.Z.LINE||f!=s.Z.LINE_STRING&&f!=s.Z.MULTI_LINE_STRING&&f!=s.Z.POLYGON&&f!=s.Z.MULTI_POLYGON){var g=n.overflow?null:[];switch(f){case s.Z.POINT:case s.Z.MULTI_POINT:p=t.getFlatCoordinates();break;case s.Z.LINE_STRING:p=t.getFlatMidpoint();break;case s.Z.CIRCLE:p=t.getCenter();break;case s.Z.MULTI_LINE_STRING:p=t.getFlatMidpoints(),d=2;break;case s.Z.POLYGON:p=t.getFlatInteriorPoint(),n.overflow||g.push(p[2]/this.resolution),d=3;break;case s.Z.MULTI_POLYGON:var y=t.getFlatInteriorPoints();p=[];for(w=0,E=y.length;w<E;w+=3)n.overflow||g.push(y[w+2]/this.resolution),p.push(y[w],y[w+1]);if(0===p.length)return;d=2}if((F=this.appendFlatPointCoordinates(p,d))===c)return;if(g&&(F-c)/2!=p.length/d){var x=c/2;g=g.filter((function(t,e){var i=l[2*(x+e)]===p[e*d]&&l[2*(x+e)+1]===p[e*d+1];return i||--x,i}))}this.saveTextStates_(),(n.backgroundFill||n.backgroundStroke)&&(this.setFillStrokeStyle(n.backgroundFill,n.backgroundStroke),n.backgroundFill&&(this.updateFillStyle(this.state,this.createFill),this.hitDetectionInstructions.push(this.createFill(this.state))),n.backgroundStroke&&(this.updateStrokeStyle(this.state,this.applyStroke),this.hitDetectionInstructions.push(this.createStroke(this.state)))),this.beginGeometry(t,e);var S=n.padding;if(S!=h.oB&&(n.scale[0]<0||n.scale[1]<0)){var v=n.padding[0],m=n.padding[1],T=n.padding[2],O=n.padding[3];n.scale[0]<0&&(m=-m,O=-O),n.scale[1]<0&&(v=-v,T=-T),S=[v,m,T,O]}var C=this.pixelRatio;this.instructions.push([r.ZP.DRAW_IMAGE,c,F,null,NaN,NaN,NaN,1,0,0,this.textRotateWithView_,this.textRotation_,[1,1],NaN,this.declutterImageWithText_,S==h.oB?h.oB:S.map((function(t){return t*C})),!!n.backgroundFill,!!n.backgroundStroke,this.text_,this.textKey_,this.strokeKey_,this.fillKey_,this.textOffsetX_,this.textOffsetY_,g]);var I=1/C;this.hitDetectionInstructions.push([r.ZP.DRAW_IMAGE,c,F,null,NaN,NaN,NaN,1,0,0,this.textRotateWithView_,this.textRotation_,[I,I],NaN,this.declutterImageWithText_,S,!!n.backgroundFill,!!n.backgroundStroke,this.text_,this.textKey_,this.strokeKey_,this.fillKey_,this.textOffsetX_,this.textOffsetY_,g]),this.endGeometry(e)}else{if(!(0,u.kK)(this.getBufferedMaxExtent(),t.getExtent()))return;var k=void 0;if(p=t.getFlatCoordinates(),f==s.Z.LINE_STRING)k=[p.length];else if(f==s.Z.MULTI_LINE_STRING)k=t.getEnds();else if(f==s.Z.POLYGON)k=t.getEnds().slice(0,1);else if(f==s.Z.MULTI_POLYGON){var L=t.getEndss();k=[];for(var w=0,E=L.length;w<E;++w)k.push(L[w][0])}this.beginGeometry(t,e);for(var P=n.textAlign,b=0,R=void 0,D=0,Z=k.length;D<Z;++D){if(null==P){var M=(0,_._)(n.maxAngle,p,b,k[D],d);b=M[0],R=M[1]}else R=k[D];for(var w=b;w<R;w+=d)l.push(p[w],p[w+1]);var F=l.length;b=k[D],this.drawChars_(c,F),c=F}this.endGeometry(e)}}},e.prototype.saveTextStates_=function(){var t=this.textStrokeState_,e=this.textState_,i=this.textFillState_,o=this.strokeKey_;t&&(o in this.strokeStates||(this.strokeStates[o]={strokeStyle:t.strokeStyle,lineCap:t.lineCap,lineDashOffset:t.lineDashOffset,lineWidth:t.lineWidth,lineJoin:t.lineJoin,miterLimit:t.miterLimit,lineDash:t.lineDash}));var n=this.textKey_;n in this.textStates||(this.textStates[n]={font:e.font,textAlign:e.textAlign||h.PH,textBaseline:e.textBaseline||h.ru,scale:e.scale});var r=this.fillKey_;i&&(r in this.fillStates||(this.fillStates[r]={fillStyle:i.fillStyle}))},e.prototype.drawChars_=function(t,e){var i=this.textStrokeState_,o=this.textState_,n=this.strokeKey_,s=this.textKey_,a=this.fillKey_;this.saveTextStates_();var l=this.pixelRatio,h=p[o.textBaseline],c=this.textOffsetY_*l,u=this.text_,_=i?i.lineWidth*Math.abs(o.scale[0])/2:0;this.instructions.push([r.ZP.DRAW_CHARS,t,e,h,o.overflow,a,o.maxAngle,l,c,n,_*l,u,s,1]),this.hitDetectionInstructions.push([r.ZP.DRAW_CHARS,t,e,h,o.overflow,a,o.maxAngle,1,c,n,_,u,s,1/l])},e.prototype.setTextStyle=function(t,e){var i,o,n;if(t){var r=t.getFill();r?((o=this.textFillState_)||(o={},this.textFillState_=o),o.fillStyle=(0,l.y)(r.getColor()||h.bL)):(o=null,this.textFillState_=o);var s=t.getStroke();if(s){(n=this.textStrokeState_)||(n={},this.textStrokeState_=n);var a=s.getLineDash(),u=s.getLineDashOffset(),_=s.getWidth(),f=s.getMiterLimit();n.lineCap=s.getLineCap()||h.mb,n.lineDash=a?a.slice():h.X9,n.lineDashOffset=void 0===u?h.He:u,n.lineJoin=s.getLineJoin()||h.rc,n.lineWidth=void 0===_?h.yC:_,n.miterLimit=void 0===f?h.V4:f,n.strokeStyle=(0,l.y)(s.getColor()||h.Tx)}else n=null,this.textStrokeState_=n;i=this.textState_;var p=t.getFont()||h.Df;(0,h.Qx)(p);var d=t.getScaleArray();i.overflow=t.getOverflow(),i.font=p,i.maxAngle=t.getMaxAngle(),i.placement=t.getPlacement(),i.textAlign=t.getTextAlign(),i.textBaseline=t.getTextBaseline()||h.ru,i.backgroundFill=t.getBackgroundFill(),i.backgroundStroke=t.getBackgroundStroke(),i.padding=t.getPadding()||h.oB,i.scale=void 0===d?[1,1]:d;var g=t.getOffsetX(),y=t.getOffsetY(),x=t.getRotateWithView(),S=t.getRotation();this.text_=t.getText()||"",this.textOffsetX_=void 0===g?0:g,this.textOffsetY_=void 0===y?0:y,this.textRotateWithView_=void 0!==x&&x,this.textRotation_=void 0===S?0:S,this.strokeKey_=n?("string"==typeof n.strokeStyle?n.strokeStyle:(0,c.sq)(n.strokeStyle))+n.lineCap+n.lineDashOffset+"|"+n.lineWidth+n.lineJoin+n.miterLimit+"["+n.lineDash.join()+"]":"",this.textKey_=i.font+i.scale+(i.textAlign||"?")+(i.textBaseline||"?"),this.fillKey_=o?"string"==typeof o.fillStyle?o.fillStyle:"|"+(0,c.sq)(o.fillStyle):""}else this.text_="";this.declutterImageWithText_=e},e}(n.Z)},9289:(t,e,i)=>{i.d(e,{UN:()=>v,TU:()=>m,ix:()=>T});var o,n=i(74754),r=i(45624),s=i(98407),a=i(6101),l=i(50147),h=i(65537),c=i(28641),u=i(76442),_=i(72967),f=(o=function(t,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])},o(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),p=function(t){function e(e,i,o,n,r,s,l){var h=t.call(this)||this;return h.context_=e,h.pixelRatio_=i,h.extent_=o,h.transform_=n,h.viewRotation_=r,h.squaredTolerance_=s,h.userTransform_=l,h.contextFillState_=null,h.contextStrokeState_=null,h.contextTextState_=null,h.fillState_=null,h.strokeState_=null,h.image_=null,h.imageAnchorX_=0,h.imageAnchorY_=0,h.imageHeight_=0,h.imageOpacity_=0,h.imageOriginX_=0,h.imageOriginY_=0,h.imageRotateWithView_=!1,h.imageRotation_=0,h.imageScale_=[0,0],h.imageWidth_=0,h.text_="",h.textOffsetX_=0,h.textOffsetY_=0,h.textRotateWithView_=!1,h.textRotation_=0,h.textScale_=[0,0],h.textFillState_=null,h.textStrokeState_=null,h.textState_=null,h.pixelCoordinates_=[],h.tmpLocalTransform_=(0,a.Ue)(),h}return f(e,t),e.prototype.drawImages_=function(t,e,i,o){if(this.image_){var n=(0,u.vT)(t,e,i,o,this.transform_,this.pixelCoordinates_),r=this.context_,s=this.tmpLocalTransform_,l=r.globalAlpha;1!=this.imageOpacity_&&(r.globalAlpha=l*this.imageOpacity_);var h=this.imageRotation_;this.imageRotateWithView_&&(h+=this.viewRotation_);for(var c=0,_=n.length;c<_;c+=2){var f=n[c]-this.imageAnchorX_,p=n[c+1]-this.imageAnchorY_;if(0!==h||1!=this.imageScale_[0]||1!=this.imageScale_[1]){var d=f+this.imageAnchorX_,g=p+this.imageAnchorY_;(0,a.qC)(s,d,g,1,1,h,-d,-g),r.setTransform.apply(r,s),r.translate(d,g),r.scale(this.imageScale_[0],this.imageScale_[1]),r.drawImage(this.image_,this.imageOriginX_,this.imageOriginY_,this.imageWidth_,this.imageHeight_,-this.imageAnchorX_,-this.imageAnchorY_,this.imageWidth_,this.imageHeight_),r.setTransform(1,0,0,1,0,0)}else r.drawImage(this.image_,this.imageOriginX_,this.imageOriginY_,this.imageWidth_,this.imageHeight_,f,p,this.imageWidth_,this.imageHeight_)}1!=this.imageOpacity_&&(r.globalAlpha=l)}},e.prototype.drawText_=function(t,e,i,o){if(this.textState_&&""!==this.text_){this.textFillState_&&this.setContextFillState_(this.textFillState_),this.textStrokeState_&&this.setContextStrokeState_(this.textStrokeState_),this.setContextTextState_(this.textState_);var n=(0,u.vT)(t,e,i,o,this.transform_,this.pixelCoordinates_),r=this.context_,s=this.textRotation_;for(this.textRotateWithView_&&(s+=this.viewRotation_);e<i;e+=o){var l=n[e]+this.textOffsetX_,h=n[e+1]+this.textOffsetY_;if(0!==s||1!=this.textScale_[0]||1!=this.textScale_[1]){var c=(0,a.qC)(this.tmpLocalTransform_,l,h,1,1,s,-l,-h);r.setTransform.apply(r,c),r.translate(l,h),r.scale(this.textScale_[0],this.textScale_[1]),this.textStrokeState_&&r.strokeText(this.text_,0,0),this.textFillState_&&r.fillText(this.text_,0,0),r.setTransform(1,0,0,1,0,0)}else this.textStrokeState_&&r.strokeText(this.text_,l,h),this.textFillState_&&r.fillText(this.text_,l,h)}}},e.prototype.moveToLineTo_=function(t,e,i,o,n){var r=this.context_,s=(0,u.vT)(t,e,i,o,this.transform_,this.pixelCoordinates_);r.moveTo(s[0],s[1]);var a=s.length;n&&(a-=2);for(var l=2;l<a;l+=2)r.lineTo(s[l],s[l+1]);return n&&r.closePath(),i},e.prototype.drawRings_=function(t,e,i,o){for(var n=0,r=i.length;n<r;++n)e=this.moveToLineTo_(t,e,i[n],o,!0);return e},e.prototype.drawCircle=function(t){if((0,c.kK)(this.extent_,t.getExtent())){if(this.fillState_||this.strokeState_){this.fillState_&&this.setContextFillState_(this.fillState_),this.strokeState_&&this.setContextStrokeState_(this.strokeState_);var e=(0,_.Kr)(t,this.transform_,this.pixelCoordinates_),i=e[2]-e[0],o=e[3]-e[1],n=Math.sqrt(i*i+o*o),r=this.context_;r.beginPath(),r.arc(e[0],e[1],n,0,2*Math.PI),this.fillState_&&r.fill(),this.strokeState_&&r.stroke()}""!==this.text_&&this.drawText_(t.getCenter(),0,2,2)}},e.prototype.setStyle=function(t){this.setFillStrokeStyle(t.getFill(),t.getStroke()),this.setImageStyle(t.getImage()),this.setTextStyle(t.getText())},e.prototype.setTransform=function(t){this.transform_=t},e.prototype.drawGeometry=function(t){switch(t.getType()){case n.Z.POINT:this.drawPoint(t);break;case n.Z.LINE_STRING:this.drawLineString(t);break;case n.Z.POLYGON:this.drawPolygon(t);break;case n.Z.MULTI_POINT:this.drawMultiPoint(t);break;case n.Z.MULTI_LINE_STRING:this.drawMultiLineString(t);break;case n.Z.MULTI_POLYGON:this.drawMultiPolygon(t);break;case n.Z.GEOMETRY_COLLECTION:this.drawGeometryCollection(t);break;case n.Z.CIRCLE:this.drawCircle(t)}},e.prototype.drawFeature=function(t,e){var i=e.getGeometryFunction()(t);i&&(0,c.kK)(this.extent_,i.getExtent())&&(this.setStyle(e),this.drawGeometry(i))},e.prototype.drawGeometryCollection=function(t){for(var e=t.getGeometriesArray(),i=0,o=e.length;i<o;++i)this.drawGeometry(e[i])},e.prototype.drawPoint=function(t){this.squaredTolerance_&&(t=t.simplifyTransformed(this.squaredTolerance_,this.userTransform_));var e=t.getFlatCoordinates(),i=t.getStride();this.image_&&this.drawImages_(e,0,e.length,i),""!==this.text_&&this.drawText_(e,0,e.length,i)},e.prototype.drawMultiPoint=function(t){this.squaredTolerance_&&(t=t.simplifyTransformed(this.squaredTolerance_,this.userTransform_));var e=t.getFlatCoordinates(),i=t.getStride();this.image_&&this.drawImages_(e,0,e.length,i),""!==this.text_&&this.drawText_(e,0,e.length,i)},e.prototype.drawLineString=function(t){if(this.squaredTolerance_&&(t=t.simplifyTransformed(this.squaredTolerance_,this.userTransform_)),(0,c.kK)(this.extent_,t.getExtent())){if(this.strokeState_){this.setContextStrokeState_(this.strokeState_);var e=this.context_,i=t.getFlatCoordinates();e.beginPath(),this.moveToLineTo_(i,0,i.length,t.getStride(),!1),e.stroke()}if(""!==this.text_){var o=t.getFlatMidpoint();this.drawText_(o,0,2,2)}}},e.prototype.drawMultiLineString=function(t){this.squaredTolerance_&&(t=t.simplifyTransformed(this.squaredTolerance_,this.userTransform_));var e=t.getExtent();if((0,c.kK)(this.extent_,e)){if(this.strokeState_){this.setContextStrokeState_(this.strokeState_);var i=this.context_,o=t.getFlatCoordinates(),n=0,r=t.getEnds(),s=t.getStride();i.beginPath();for(var a=0,l=r.length;a<l;++a)n=this.moveToLineTo_(o,n,r[a],s,!1);i.stroke()}if(""!==this.text_){var h=t.getFlatMidpoints();this.drawText_(h,0,h.length,2)}}},e.prototype.drawPolygon=function(t){if(this.squaredTolerance_&&(t=t.simplifyTransformed(this.squaredTolerance_,this.userTransform_)),(0,c.kK)(this.extent_,t.getExtent())){if(this.strokeState_||this.fillState_){this.fillState_&&this.setContextFillState_(this.fillState_),this.strokeState_&&this.setContextStrokeState_(this.strokeState_);var e=this.context_;e.beginPath(),this.drawRings_(t.getOrientedFlatCoordinates(),0,t.getEnds(),t.getStride()),this.fillState_&&e.fill(),this.strokeState_&&e.stroke()}if(""!==this.text_){var i=t.getFlatInteriorPoint();this.drawText_(i,0,2,2)}}},e.prototype.drawMultiPolygon=function(t){if(this.squaredTolerance_&&(t=t.simplifyTransformed(this.squaredTolerance_,this.userTransform_)),(0,c.kK)(this.extent_,t.getExtent())){if(this.strokeState_||this.fillState_){this.fillState_&&this.setContextFillState_(this.fillState_),this.strokeState_&&this.setContextStrokeState_(this.strokeState_);var e=this.context_,i=t.getOrientedFlatCoordinates(),o=0,n=t.getEndss(),r=t.getStride();e.beginPath();for(var s=0,a=n.length;s<a;++s){var l=n[s];o=this.drawRings_(i,o,l,r)}this.fillState_&&e.fill(),this.strokeState_&&e.stroke()}if(""!==this.text_){var h=t.getFlatInteriorPoints();this.drawText_(h,0,h.length,2)}}},e.prototype.setContextFillState_=function(t){var e=this.context_,i=this.contextFillState_;i?i.fillStyle!=t.fillStyle&&(i.fillStyle=t.fillStyle,e.fillStyle=t.fillStyle):(e.fillStyle=t.fillStyle,this.contextFillState_={fillStyle:t.fillStyle})},e.prototype.setContextStrokeState_=function(t){var e=this.context_,i=this.contextStrokeState_;i?(i.lineCap!=t.lineCap&&(i.lineCap=t.lineCap,e.lineCap=t.lineCap),e.setLineDash&&((0,h.fS)(i.lineDash,t.lineDash)||e.setLineDash(i.lineDash=t.lineDash),i.lineDashOffset!=t.lineDashOffset&&(i.lineDashOffset=t.lineDashOffset,e.lineDashOffset=t.lineDashOffset)),i.lineJoin!=t.lineJoin&&(i.lineJoin=t.lineJoin,e.lineJoin=t.lineJoin),i.lineWidth!=t.lineWidth&&(i.lineWidth=t.lineWidth,e.lineWidth=t.lineWidth),i.miterLimit!=t.miterLimit&&(i.miterLimit=t.miterLimit,e.miterLimit=t.miterLimit),i.strokeStyle!=t.strokeStyle&&(i.strokeStyle=t.strokeStyle,e.strokeStyle=t.strokeStyle)):(e.lineCap=t.lineCap,e.setLineDash&&(e.setLineDash(t.lineDash),e.lineDashOffset=t.lineDashOffset),e.lineJoin=t.lineJoin,e.lineWidth=t.lineWidth,e.miterLimit=t.miterLimit,e.strokeStyle=t.strokeStyle,this.contextStrokeState_={lineCap:t.lineCap,lineDash:t.lineDash,lineDashOffset:t.lineDashOffset,lineJoin:t.lineJoin,lineWidth:t.lineWidth,miterLimit:t.miterLimit,strokeStyle:t.strokeStyle})},e.prototype.setContextTextState_=function(t){var e=this.context_,i=this.contextTextState_,o=t.textAlign?t.textAlign:l.PH;i?(i.font!=t.font&&(i.font=t.font,e.font=t.font),i.textAlign!=o&&(i.textAlign=o,e.textAlign=o),i.textBaseline!=t.textBaseline&&(i.textBaseline=t.textBaseline,e.textBaseline=t.textBaseline)):(e.font=t.font,e.textAlign=o,e.textBaseline=t.textBaseline,this.contextTextState_={font:t.font,textAlign:o,textBaseline:t.textBaseline})},e.prototype.setFillStrokeStyle=function(t,e){var i=this;if(t){var o=t.getColor();this.fillState_={fillStyle:(0,s.y)(o||l.bL)}}else this.fillState_=null;if(e){var n=e.getColor(),r=e.getLineCap(),a=e.getLineDash(),h=e.getLineDashOffset(),c=e.getLineJoin(),u=e.getWidth(),_=e.getMiterLimit(),f=a||l.X9;this.strokeState_={lineCap:void 0!==r?r:l.mb,lineDash:1===this.pixelRatio_?f:f.map((function(t){return t*i.pixelRatio_})),lineDashOffset:(h||l.He)*this.pixelRatio_,lineJoin:void 0!==c?c:l.rc,lineWidth:(void 0!==u?u:l.yC)*this.pixelRatio_,miterLimit:void 0!==_?_:l.V4,strokeStyle:(0,s.y)(n||l.Tx)}}else this.strokeState_=null},e.prototype.setImageStyle=function(t){var e;if(t&&(e=t.getSize())){var i=t.getAnchor(),o=t.getOrigin();this.image_=t.getImage(this.pixelRatio_),this.imageAnchorX_=i[0]*this.pixelRatio_,this.imageAnchorY_=i[1]*this.pixelRatio_,this.imageHeight_=e[1]*this.pixelRatio_,this.imageOpacity_=t.getOpacity(),this.imageOriginX_=o[0],this.imageOriginY_=o[1],this.imageRotateWithView_=t.getRotateWithView(),this.imageRotation_=t.getRotation(),this.imageScale_=t.getScaleArray(),this.imageWidth_=e[0]*this.pixelRatio_}else this.image_=null},e.prototype.setTextStyle=function(t){if(t){var e=t.getFill();if(e){var i=e.getColor();this.textFillState_={fillStyle:(0,s.y)(i||l.bL)}}else this.textFillState_=null;var o=t.getStroke();if(o){var n=o.getColor(),r=o.getLineCap(),a=o.getLineDash(),h=o.getLineDashOffset(),c=o.getLineJoin(),u=o.getWidth(),_=o.getMiterLimit();this.textStrokeState_={lineCap:void 0!==r?r:l.mb,lineDash:a||l.X9,lineDashOffset:h||l.He,lineJoin:void 0!==c?c:l.rc,lineWidth:void 0!==u?u:l.yC,miterLimit:void 0!==_?_:l.V4,strokeStyle:(0,s.y)(n||l.Tx)}}else this.textStrokeState_=null;var f=t.getFont(),p=t.getOffsetX(),d=t.getOffsetY(),g=t.getRotateWithView(),y=t.getRotation(),x=t.getScaleArray(),S=t.getText(),v=t.getTextAlign(),m=t.getTextBaseline();this.textState_={font:void 0!==f?f:l.Df,textAlign:void 0!==v?v:l.PH,textBaseline:void 0!==m?m:l.ru},this.text_=void 0!==S?Array.isArray(S)?S.reduce((function(t,e,i){return t+(i%2?" ":e)}),""):S:"",this.textOffsetX_=void 0!==p?this.pixelRatio_*p:0,this.textOffsetY_=void 0!==d?this.pixelRatio_*d:0,this.textRotateWithView_=void 0!==g&&g,this.textRotation_=void 0!==y?y:0,this.textScale_=[this.pixelRatio_*x[0],this.pixelRatio_*x[1]]}else this.text_=""},e}(r.Z);const d=p;var g=i(94698),y=i(67862),x=i(33983),S=i(68326),v=.5;function m(t,e,i,o,r,s,a){var l=t[0]*v,u=t[1]*v,_=(0,S.E4)(l,u);_.imageSmoothingEnabled=!1;for(var f=_.canvas,p=new d(_,v,r,null,a),x=i.length,m=Math.floor(16777215/x),T={},O=1;O<=x;++O){var C=i[O-1],I=C.getStyleFunction()||o;if(o){var k=I(C,s);if(k){Array.isArray(k)||(k=[k]);for(var L="#"+("000000"+(O*m).toString(16)).slice(-6),w=0,E=k.length;w<E;++w){var P=k[w],b=P.getGeometryFunction()(C);if(b&&(0,c.kK)(r,b.getExtent())){var R=P.clone(),D=R.getFill();D&&D.setColor(L);var Z=R.getStroke();Z&&(Z.setColor(L),Z.setLineDash(null)),R.setText(void 0);var M=P.getImage();if(M&&0!==M.getOpacity()){var F=M.getImageSize();if(!F)continue;var G=(0,S.E4)(F[0],F[1],void 0,{alpha:!1}),W=G.canvas;G.fillStyle=L,G.fillRect(0,0,W.width,W.height),R.setImage(new y.Z({img:W,imgSize:F,anchor:M.getAnchor(),anchorXUnits:g.Z.PIXELS,anchorYUnits:g.Z.PIXELS,offset:M.getOrigin(),opacity:1,size:M.getSize(),scale:M.getScale(),rotation:M.getRotation(),rotateWithView:M.getRotateWithView()}))}var A=R.getZIndex()||0;(B=T[A])||(B={},T[A]=B,B[n.Z.POLYGON]=[],B[n.Z.CIRCLE]=[],B[n.Z.LINE_STRING]=[],B[n.Z.POINT]=[]),B[b.getType().replace("Multi","")].push(b,R)}}}}}for(var N=Object.keys(T).map(Number).sort(h.kK),Y=(O=0,N.length);O<Y;++O){var B=T[N[O]];for(var X in B){var H=B[X];for(w=0,E=H.length;w<E;w+=2){p.setStyle(H[w+1]);for(var K=0,U=e.length;K<U;++K)p.setTransform(e[K]),p.drawGeometry(H[w])}}}return _.getImageData(0,0,f.width,f.height)}function T(t,e,i){var o=[];if(i){var n=Math.floor(Math.round(t[0])*v),r=Math.floor(Math.round(t[1])*v),s=4*((0,x.uZ)(n,0,i.width-1)+(0,x.uZ)(r,0,i.height-1)*i.width),a=i.data[s],l=i.data[s+1],h=i.data[s+2]+256*(l+256*a),c=Math.floor(16777215/e.length);h&&h%c==0&&o.push(e[h/c-1])}return o}}}]);