"use strict";(self.webpackChunkdovotori=self.webpackChunkdovotori||[]).push([[1547],{7771:(t,e,n)=>{n.d(e,{DT:()=>l,FT:()=>d,Wl:()=>h,_p:()=>s,cr:()=>a,ew:()=>o,j:()=>r});const i="undefined"!=typeof navigator&&void 0!==navigator.userAgent?navigator.userAgent.toLowerCase():"",s=i.includes("firefox"),r=(i.includes("safari")&&!i.includes("chrom")&&(i.includes("version/15.4")||/cpu (os|iphone os) 15_4 like mac os x/.test(i)),i.includes("webkit")&&!i.includes("edge")),o=i.includes("macintosh"),a="undefined"!=typeof devicePixelRatio?devicePixelRatio:1,h="undefined"!=typeof WorkerGlobalScope&&"undefined"!=typeof OffscreenCanvas&&self instanceof WorkerGlobalScope,l="undefined"!=typeof Image&&Image.prototype.decode,d=function(){let t=!1;try{const e=Object.defineProperty({},"passive",{get:function(){t=!0}});window.addEventListener("_",null,e),window.removeEventListener("_",null,e)}catch(t){}return t}()},45544:(t,e,n)=>{n.d(e,{N:()=>U});var i=n(50071),s=n(34120);const r="active";var o=n(93474);class a extends s.A{constructor(t){super(),this.on,this.once,this.un,t&&t.handleEvent&&(this.handleEvent=t.handleEvent),this.map_=null,this.setActive(!0)}getActive(){return this.get(r)}getMap(){return this.map_}handleEvent(t){return!0}setActive(t){this.set(r,t)}setMap(t){this.map_=t}}function h(t,e,n,i){const s=t.getZoom();if(void 0===s)return;const r=t.getConstrainedZoom(s+e),a=t.getResolutionForZoom(r);t.getAnimating()&&t.cancelAnimations(),t.animate({resolution:a,anchor:n,duration:void 0!==i?i:250,easing:o.vT})}const l=a;var d=n(73445);const c=class extends l{constructor(t){super(),t=t||{},this.delta_=t.delta?t.delta:1,this.duration_=void 0!==t.duration?t.duration:250}handleEvent(t){let e=!1;if(t.type==d.A.DBLCLICK){const n=t.originalEvent,i=t.map,s=t.coordinate,r=n.shiftKey?-this.delta_:this.delta_;h(i.getView(),r,s,this.duration_),n.preventDefault(),e=!0}return!e}};function u(t){const e=t.length;let n=0,i=0;for(let s=0;s<e;s++)n+=t[s].clientX,i+=t[s].clientY;return{clientX:n/e,clientY:i/e}}const g=class extends l{constructor(t){super(t=t||{}),t.handleDownEvent&&(this.handleDownEvent=t.handleDownEvent),t.handleDragEvent&&(this.handleDragEvent=t.handleDragEvent),t.handleMoveEvent&&(this.handleMoveEvent=t.handleMoveEvent),t.handleUpEvent&&(this.handleUpEvent=t.handleUpEvent),t.stopDown&&(this.stopDown=t.stopDown),this.handlingDownUpSequence=!1,this.targetPointers=[]}getPointerCount(){return this.targetPointers.length}handleDownEvent(t){return!1}handleDragEvent(t){}handleEvent(t){if(!t.originalEvent)return!0;let e=!1;if(this.updateTrackedPointers_(t),this.handlingDownUpSequence){if(t.type==d.A.POINTERDRAG)this.handleDragEvent(t),t.originalEvent.preventDefault();else if(t.type==d.A.POINTERUP){const e=this.handleUpEvent(t);this.handlingDownUpSequence=e&&this.targetPointers.length>0}}else if(t.type==d.A.POINTERDOWN){const n=this.handleDownEvent(t);this.handlingDownUpSequence=n,e=this.stopDown(n)}else t.type==d.A.POINTERMOVE&&this.handleMoveEvent(t);return!e}handleMoveEvent(t){}handleUpEvent(t){return!1}stopDown(t){return t}updateTrackedPointers_(t){t.activePointers&&(this.targetPointers=t.activePointers)}};var _=n(74238),p=n(58704),m=n(6933);const v=class extends g{constructor(t){super({stopDown:_.W8}),t=t||{},this.kinetic_=t.kinetic,this.lastCentroid=null,this.lastPointersCount_,this.panning_=!1;const e=t.condition?t.condition:(0,p.Q7)(p.TS,p.fs);this.condition_=t.onFocusOnly?(0,p.Q7)(p.eL,e):e,this.noKinetic_=!1}handleDragEvent(t){const e=t.map;this.panning_||(this.panning_=!0,e.getView().beginInteraction());const n=this.targetPointers,i=e.getEventPixel(u(n));if(n.length==this.lastPointersCount_){if(this.kinetic_&&this.kinetic_.update(i[0],i[1]),this.lastCentroid){const e=[this.lastCentroid[0]-i[0],i[1]-this.lastCentroid[1]],n=t.map.getView();(0,m.hs)(e,n.getResolution()),(0,m.e$)(e,n.getRotation()),n.adjustCenterInternal(e)}}else this.kinetic_&&this.kinetic_.begin();this.lastCentroid=i,this.lastPointersCount_=n.length,t.originalEvent.preventDefault()}handleUpEvent(t){const e=t.map,n=e.getView();if(0===this.targetPointers.length){if(!this.noKinetic_&&this.kinetic_&&this.kinetic_.end()){const t=this.kinetic_.getDistance(),i=this.kinetic_.getAngle(),s=n.getCenterInternal(),r=e.getPixelFromCoordinateInternal(s),a=e.getCoordinateFromPixelInternal([r[0]-t*Math.cos(i),r[1]-t*Math.sin(i)]);n.animateInternal({center:n.getConstrainedCenter(a),duration:500,easing:o.vT})}return this.panning_&&(this.panning_=!1,n.endInteraction()),!1}return this.kinetic_&&this.kinetic_.begin(),this.lastCentroid=null,!0}handleDownEvent(t){if(this.targetPointers.length>0&&this.condition_(t)){const e=t.map.getView();return this.lastCentroid=null,e.getAnimating()&&e.cancelAnimations(),this.kinetic_&&this.kinetic_.begin(),this.noKinetic_=this.targetPointers.length>1,!0}return!1}};var y=n(24498);const A=class extends g{constructor(t){t=t||{},super({stopDown:_.W8}),this.condition_=t.condition?t.condition:p.IO,this.lastAngle_=void 0,this.duration_=void 0!==t.duration?t.duration:250}handleDragEvent(t){if(!(0,p.A4)(t))return;const e=t.map,n=e.getView();if(n.getConstraints().rotation===y.b8)return;const i=e.getSize(),s=t.pixel,r=Math.atan2(i[1]/2-s[1],s[0]-i[0]/2);if(void 0!==this.lastAngle_){const t=r-this.lastAngle_;n.adjustRotationInternal(-t)}this.lastAngle_=r}handleUpEvent(t){if(!(0,p.A4)(t))return!0;return t.map.getView().endInteraction(this.duration_),!1}handleDownEvent(t){if(!(0,p.A4)(t))return!1;if((0,p.at)(t)&&this.condition_(t)){return t.map.getView().beginInteraction(),this.lastAngle_=void 0,!0}return!1}};var f=n(1685),E=n(53537);const x="boxstart",D="boxdrag",I="boxend",w="boxcancel";class R extends f.Ay{constructor(t,e,n){super(t),this.coordinate=e,this.mapBrowserEvent=n}}const M=class extends g{constructor(t){super(),this.on,this.once,this.un,t=t||{},this.box_=new E.A(t.className||"ol-dragbox"),this.minArea_=void 0!==t.minArea?t.minArea:64,t.onBoxEnd&&(this.onBoxEnd=t.onBoxEnd),this.startPixel_=null,this.condition_=t.condition?t.condition:p.at,this.boxEndCondition_=t.boxEndCondition?t.boxEndCondition:this.defaultBoxEndCondition}defaultBoxEndCondition(t,e,n){const i=n[0]-e[0],s=n[1]-e[1];return i*i+s*s>=this.minArea_}getGeometry(){return this.box_.getGeometry()}handleDragEvent(t){this.box_.setPixels(this.startPixel_,t.pixel),this.dispatchEvent(new R(D,t.coordinate,t))}handleUpEvent(t){this.box_.setMap(null);const e=this.boxEndCondition_(t,this.startPixel_,t.pixel);return e&&this.onBoxEnd(t),this.dispatchEvent(new R(e?I:w,t.coordinate,t)),!1}handleDownEvent(t){return!!this.condition_(t)&&(this.startPixel_=t.pixel,this.box_.setMap(t.map),this.box_.setPixels(this.startPixel_,this.startPixel_),this.dispatchEvent(new R(x,t.coordinate,t)),!0)}onBoxEnd(t){}};const O=class extends M{constructor(t){super({condition:(t=t||{}).condition?t.condition:p.Kg,className:t.className||"ol-dragzoom",minArea:t.minArea}),this.duration_=void 0!==t.duration?t.duration:200,this.out_=void 0!==t.out&&t.out}onBoxEnd(t){const e=this.getMap().getView();let n=this.getGeometry();if(this.out_){const t=e.rotatedExtentForGeometry(n),i=e.getResolutionForExtentInternal(t),s=e.getResolution()/i;n=n.clone(),n.scale(s*s)}e.fitInternal(n,{duration:this.duration_,easing:o.vT})}};var P=n(6837),S=n(28686);const b=class extends l{constructor(t){super(),t=t||{},this.defaultCondition_=function(t){return(0,p.TS)(t)&&(0,p.tE)(t)},this.condition_=void 0!==t.condition?t.condition:this.defaultCondition_,this.duration_=void 0!==t.duration?t.duration:100,this.pixelDelta_=void 0!==t.pixelDelta?t.pixelDelta:128}handleEvent(t){let e=!1;if(t.type==P.A.KEYDOWN){const n=t.originalEvent,i=n.key;if(this.condition_(t)&&(i==S.A.DOWN||i==S.A.LEFT||i==S.A.RIGHT||i==S.A.UP)){const s=t.map.getView(),r=s.getResolution()*this.pixelDelta_;let a=0,h=0;i==S.A.DOWN?h=-r:i==S.A.LEFT?a=-r:i==S.A.RIGHT?a=r:h=r;const l=[a,h];(0,m.e$)(l,s.getRotation()),function(t,e,n){const i=t.getCenterInternal();if(i){const s=[i[0]+e[0],i[1]+e[1]];t.animateInternal({duration:void 0!==n?n:250,easing:o.sn,center:t.getConstrainedCenter(s)})}}(s,l,this.duration_),n.preventDefault(),e=!0}}return!e}};const C=class extends l{constructor(t){super(),t=t||{},this.condition_=t.condition?t.condition:function(t){return!(0,p.GB)(t)&&(0,p.tE)(t)},this.delta_=t.delta?t.delta:1,this.duration_=void 0!==t.duration?t.duration:100}handleEvent(t){let e=!1;if(t.type==P.A.KEYDOWN||t.type==P.A.KEYPRESS){const n=t.originalEvent,i=n.key;if(this.condition_(t)&&("+"===i||"-"===i)){const s=t.map,r="+"===i?this.delta_:-this.delta_;h(s.getView(),r,void 0,this.duration_),n.preventDefault(),e=!0}}return!e}};var L=n(4792),T=n(7771),Z=n(61597);const k=class extends l{constructor(t){super(t=t||{}),this.totalDelta_=0,this.lastDelta_=0,this.maxDelta_=void 0!==t.maxDelta?t.maxDelta:1,this.duration_=void 0!==t.duration?t.duration:250,this.timeout_=void 0!==t.timeout?t.timeout:80,this.useAnchor_=void 0===t.useAnchor||t.useAnchor,this.constrainResolution_=void 0!==t.constrainResolution&&t.constrainResolution;const e=t.condition?t.condition:p.Gk;this.condition_=t.onFocusOnly?(0,p.Q7)(p.eL,e):e,this.lastAnchor_=null,this.startTime_=void 0,this.timeoutId_,this.mode_=void 0,this.trackpadEventGap_=400,this.trackpadTimeoutId_,this.deltaPerZoom_=300}endInteraction_(){this.trackpadTimeoutId_=void 0;const t=this.getMap();if(!t)return;t.getView().endInteraction(void 0,this.lastDelta_?this.lastDelta_>0?1:-1:0,this.lastAnchor_)}handleEvent(t){if(!this.condition_(t))return!0;if(t.type!==P.A.WHEEL)return!0;const e=t.map,n=t.originalEvent;let i;if(n.preventDefault(),this.useAnchor_&&(this.lastAnchor_=t.coordinate),t.type==P.A.WHEEL&&(i=n.deltaY,T._p&&n.deltaMode===WheelEvent.DOM_DELTA_PIXEL&&(i/=T.cr),n.deltaMode===WheelEvent.DOM_DELTA_LINE&&(i*=40)),0===i)return!1;this.lastDelta_=i;const s=Date.now();void 0===this.startTime_&&(this.startTime_=s),(!this.mode_||s-this.startTime_>this.trackpadEventGap_)&&(this.mode_=Math.abs(i)<4?"trackpad":"wheel");const r=e.getView();if("trackpad"===this.mode_&&!r.getConstrainResolution()&&!this.constrainResolution_)return this.trackpadTimeoutId_?clearTimeout(this.trackpadTimeoutId_):(r.getAnimating()&&r.cancelAnimations(),r.beginInteraction()),this.trackpadTimeoutId_=setTimeout(this.endInteraction_.bind(this),this.timeout_),r.adjustZoom(-i/this.deltaPerZoom_,this.lastAnchor_),this.startTime_=s,!1;this.totalDelta_+=i;const o=Math.max(this.timeout_-(s-this.startTime_),0);return clearTimeout(this.timeoutId_),this.timeoutId_=setTimeout(this.handleWheelZoom_.bind(this,e),o),!1}handleWheelZoom_(t){const e=t.getView();e.getAnimating()&&e.cancelAnimations();let n=-(0,Z.qE)(this.totalDelta_,-this.maxDelta_*this.deltaPerZoom_,this.maxDelta_*this.deltaPerZoom_)/this.deltaPerZoom_;(e.getConstrainResolution()||this.constrainResolution_)&&(n=n?n>0?1:-1:0),h(e,n,this.lastAnchor_,this.duration_),this.mode_=void 0,this.totalDelta_=0,this.lastAnchor_=null,this.startTime_=void 0,this.timeoutId_=void 0}setMouseAnchor(t){this.useAnchor_=t,t||(this.lastAnchor_=null)}};const N=class extends g{constructor(t){const e=t=t||{};e.stopDown||(e.stopDown=_.W8),super(e),this.anchor_=null,this.lastAngle_=void 0,this.rotating_=!1,this.rotationDelta_=0,this.threshold_=void 0!==t.threshold?t.threshold:.3,this.duration_=void 0!==t.duration?t.duration:250}handleDragEvent(t){let e=0;const n=this.targetPointers[0],i=this.targetPointers[1],s=Math.atan2(i.clientY-n.clientY,i.clientX-n.clientX);if(void 0!==this.lastAngle_){const t=s-this.lastAngle_;this.rotationDelta_+=t,!this.rotating_&&Math.abs(this.rotationDelta_)>this.threshold_&&(this.rotating_=!0),e=t}this.lastAngle_=s;const r=t.map,o=r.getView();o.getConstraints().rotation!==y.b8&&(this.anchor_=r.getCoordinateFromPixelInternal(r.getEventPixel(u(this.targetPointers))),this.rotating_&&(r.render(),o.adjustRotationInternal(e,this.anchor_)))}handleUpEvent(t){if(this.targetPointers.length<2){return t.map.getView().endInteraction(this.duration_),!1}return!0}handleDownEvent(t){if(this.targetPointers.length>=2){const e=t.map;return this.anchor_=null,this.lastAngle_=void 0,this.rotating_=!1,this.rotationDelta_=0,this.handlingDownUpSequence||e.getView().beginInteraction(),!0}return!1}};const K=class extends g{constructor(t){const e=t=t||{};e.stopDown||(e.stopDown=_.W8),super(e),this.anchor_=null,this.duration_=void 0!==t.duration?t.duration:400,this.lastDistance_=void 0,this.lastScaleDelta_=1}handleDragEvent(t){let e=1;const n=this.targetPointers[0],i=this.targetPointers[1],s=n.clientX-i.clientX,r=n.clientY-i.clientY,o=Math.sqrt(s*s+r*r);void 0!==this.lastDistance_&&(e=this.lastDistance_/o),this.lastDistance_=o;const a=t.map,h=a.getView();1!=e&&(this.lastScaleDelta_=e),this.anchor_=a.getCoordinateFromPixelInternal(a.getEventPixel(u(this.targetPointers))),a.render(),h.adjustResolutionInternal(e,this.anchor_)}handleUpEvent(t){if(this.targetPointers.length<2){const e=t.map.getView(),n=this.lastScaleDelta_>1?1:-1;return e.endInteraction(this.duration_,n),!1}return!0}handleDownEvent(t){if(this.targetPointers.length>=2){const e=t.map;return this.anchor_=null,this.lastDistance_=void 0,this.lastScaleDelta_=1,this.handlingDownUpSequence||e.getView().beginInteraction(),!0}return!1}};function U(t){t=t||{};const e=new i.A,n=new L.A(-.005,.05,100);(void 0===t.altShiftDragRotate||t.altShiftDragRotate)&&e.push(new A);(void 0===t.doubleClickZoom||t.doubleClickZoom)&&e.push(new c({delta:t.zoomDelta,duration:t.zoomDuration}));(void 0===t.dragPan||t.dragPan)&&e.push(new v({onFocusOnly:t.onFocusOnly,kinetic:n}));(void 0===t.pinchRotate||t.pinchRotate)&&e.push(new N);(void 0===t.pinchZoom||t.pinchZoom)&&e.push(new K({duration:t.zoomDuration}));(void 0===t.keyboard||t.keyboard)&&(e.push(new b),e.push(new C({delta:t.zoomDelta,duration:t.zoomDuration})));(void 0===t.mouseWheelZoom||t.mouseWheelZoom)&&e.push(new k({onFocusOnly:t.onFocusOnly,duration:t.zoomDuration}));return(void 0===t.shiftDragZoom||t.shiftDragZoom)&&e.push(new O({duration:t.zoomDuration})),e}},58620:(t,e,n)=>{n.d(e,{A:()=>l});var i=n(34120),s=n(75332),r=n(4087),o=n(90588),a=n(61597);class h extends i.A{constructor(t){super(),this.on,this.once,this.un,this.background_=t.background;const e=Object.assign({},t);"object"==typeof t.properties&&(delete e.properties,Object.assign(e,t.properties)),e[s.A.OPACITY]=void 0!==t.opacity?t.opacity:1,(0,o.v)("number"==typeof e[s.A.OPACITY],"Layer opacity must be a number"),e[s.A.VISIBLE]=void 0===t.visible||t.visible,e[s.A.Z_INDEX]=t.zIndex,e[s.A.MAX_RESOLUTION]=void 0!==t.maxResolution?t.maxResolution:1/0,e[s.A.MIN_RESOLUTION]=void 0!==t.minResolution?t.minResolution:0,e[s.A.MIN_ZOOM]=void 0!==t.minZoom?t.minZoom:-1/0,e[s.A.MAX_ZOOM]=void 0!==t.maxZoom?t.maxZoom:1/0,this.className_=void 0!==e.className?e.className:"ol-layer",delete e.className,this.setProperties(e),this.state_=null}getBackground(){return this.background_}getClassName(){return this.className_}getLayerState(t){const e=this.state_||{layer:this,managed:void 0===t||t},n=this.getZIndex();return e.opacity=(0,a.qE)(Math.round(100*this.getOpacity())/100,0,1),e.visible=this.getVisible(),e.extent=this.getExtent(),e.zIndex=void 0!==n||e.managed?n:1/0,e.maxResolution=this.getMaxResolution(),e.minResolution=Math.max(this.getMinResolution(),0),e.minZoom=this.getMinZoom(),e.maxZoom=this.getMaxZoom(),this.state_=e,e}getLayersArray(t){return(0,r.b0)()}getLayerStatesArray(t){return(0,r.b0)()}getExtent(){return this.get(s.A.EXTENT)}getMaxResolution(){return this.get(s.A.MAX_RESOLUTION)}getMinResolution(){return this.get(s.A.MIN_RESOLUTION)}getMinZoom(){return this.get(s.A.MIN_ZOOM)}getMaxZoom(){return this.get(s.A.MAX_ZOOM)}getOpacity(){return this.get(s.A.OPACITY)}getSourceState(){return(0,r.b0)()}getVisible(){return this.get(s.A.VISIBLE)}getZIndex(){return this.get(s.A.Z_INDEX)}setBackground(t){this.background_=t,this.changed()}setExtent(t){this.set(s.A.EXTENT,t)}setMaxResolution(t){this.set(s.A.MAX_RESOLUTION,t)}setMinResolution(t){this.set(s.A.MIN_RESOLUTION,t)}setMaxZoom(t){this.set(s.A.MAX_ZOOM,t)}setMinZoom(t){this.set(s.A.MIN_ZOOM,t)}setOpacity(t){(0,o.v)("number"==typeof t,"Layer opacity must be a number"),this.set(s.A.OPACITY,t)}setVisible(t){this.set(s.A.VISIBLE,t)}setZIndex(t){this.set(s.A.Z_INDEX,t)}disposeInternal(){this.state_&&(this.state_.layer=null,this.state_=null),super.disposeInternal()}}const l=h},16323:(t,e,n)=>{n.d(e,{A:()=>l});var i=n(60764),s=n(35341),r=n(29276),o=n(77048);const a="renderOrder";class h extends i.A{constructor(t){t=t||{};const e=Object.assign({},t);delete e.style,delete e.renderBuffer,delete e.updateWhileAnimating,delete e.updateWhileInteracting,super(e),this.declutter_=t.declutter?String(t.declutter):void 0,this.renderBuffer_=void 0!==t.renderBuffer?t.renderBuffer:100,this.style_=null,this.styleFunction_=void 0,this.setStyle(t.style),this.updateWhileAnimating_=void 0!==t.updateWhileAnimating&&t.updateWhileAnimating,this.updateWhileInteracting_=void 0!==t.updateWhileInteracting&&t.updateWhileInteracting}getDeclutter(){return this.declutter_}getFeatures(t){return super.getFeatures(t)}getRenderBuffer(){return this.renderBuffer_}getRenderOrder(){return this.get(a)}getStyle(){return this.style_}getStyleFunction(){return this.styleFunction_}getUpdateWhileAnimating(){return this.updateWhileAnimating_}getUpdateWhileInteracting(){return this.updateWhileInteracting_}renderDeclutter(t,e){const n=this.getDeclutter();n in t.declutter==!1&&(t.declutter[n]=new s(9)),this.getRenderer().renderDeclutter(t,e)}setRenderOrder(t){this.set(a,t)}setStyle(t){this.style_=function(t){if(void 0===t)return r.d1;if(!t)return null;if("function"==typeof t)return t;if(t instanceof r.Ay)return t;if(!Array.isArray(t))return(0,o.u7)([t]);if(0===t.length)return[];const e=t.length,n=t[0];if(n instanceof r.Ay){const n=new Array(e);for(let i=0;i<e;++i){const e=t[i];if(!(e instanceof r.Ay))throw new Error("Expected a list of style instances");n[i]=e}return n}if("style"in n){const n=new Array(e);for(let i=0;i<e;++i){const e=t[i];if(!("style"in e))throw new Error("Expected a list of rules with a style property");n[i]=e}return(0,o.i7)(n)}const i=t;return(0,o.u7)(i)}(t),this.styleFunction_=null===t?void 0:(0,r.mC)(this.style_),this.changed()}}const l=h},35598:(t,e,n)=>{n.d(e,{A:()=>v,i:()=>_});var i=n(58620),s=n(50071),r=n(32135),o=n(1685),a=n(6837),h=n(28450),l=n(90588),d=n(43530),c=n(70915),u=n(4087),g=n(9438);class _ extends o.Ay{constructor(t,e){super(t),this.layer=e}}const p="layers";class m extends i.A{constructor(t){t=t||{};const e=Object.assign({},t);delete e.layers;let n=t.layers;super(e),this.on,this.once,this.un,this.layersListenerKeys_=[],this.listenerKeys_={},this.addChangeListener(p,this.handleLayersChanged_),n?Array.isArray(n)?n=new s.A(n.slice(),{unique:!0}):(0,l.v)("function"==typeof n.getArray,"Expected `layers` to be an array or a `Collection`"):n=new s.A(void 0,{unique:!0}),this.setLayers(n)}handleLayerChange_(){this.changed()}handleLayersChanged_(){this.layersListenerKeys_.forEach(g.JH),this.layersListenerKeys_.length=0;const t=this.getLayers();this.layersListenerKeys_.push((0,g.KT)(t,r.A.ADD,this.handleLayersAdd_,this),(0,g.KT)(t,r.A.REMOVE,this.handleLayersRemove_,this));for(const t in this.listenerKeys_)this.listenerKeys_[t].forEach(g.JH);(0,d.I)(this.listenerKeys_);const e=t.getArray();for(let t=0,n=e.length;t<n;t++){const n=e[t];this.registerLayerListeners_(n),this.dispatchEvent(new _("addlayer",n))}this.changed()}registerLayerListeners_(t){const e=[(0,g.KT)(t,h.A.PROPERTYCHANGE,this.handleLayerChange_,this),(0,g.KT)(t,a.A.CHANGE,this.handleLayerChange_,this)];t instanceof m&&e.push((0,g.KT)(t,"addlayer",this.handleLayerGroupAdd_,this),(0,g.KT)(t,"removelayer",this.handleLayerGroupRemove_,this)),this.listenerKeys_[(0,u.v6)(t)]=e}handleLayerGroupAdd_(t){this.dispatchEvent(new _("addlayer",t.layer))}handleLayerGroupRemove_(t){this.dispatchEvent(new _("removelayer",t.layer))}handleLayersAdd_(t){const e=t.element;this.registerLayerListeners_(e),this.dispatchEvent(new _("addlayer",e)),this.changed()}handleLayersRemove_(t){const e=t.element,n=(0,u.v6)(e);this.listenerKeys_[n].forEach(g.JH),delete this.listenerKeys_[n],this.dispatchEvent(new _("removelayer",e)),this.changed()}getLayers(){return this.get(p)}setLayers(t){const e=this.getLayers();if(e){const t=e.getArray();for(let e=0,n=t.length;e<n;++e)this.dispatchEvent(new _("removelayer",t[e]))}this.set(p,t)}getLayersArray(t){return t=void 0!==t?t:[],this.getLayers().forEach((function(e){e.getLayersArray(t)})),t}getLayerStatesArray(t){const e=void 0!==t?t:[],n=e.length;this.getLayers().forEach((function(t){t.getLayerStatesArray(e)}));const i=this.getLayerState();let s=i.zIndex;t||void 0!==i.zIndex||(s=0);for(let t=n,r=e.length;t<r;t++){const n=e[t];n.opacity*=i.opacity,n.visible=n.visible&&i.visible,n.maxResolution=Math.min(n.maxResolution,i.maxResolution),n.minResolution=Math.max(n.minResolution,i.minResolution),n.minZoom=Math.max(n.minZoom,i.minZoom),n.maxZoom=Math.min(n.maxZoom,i.maxZoom),void 0!==i.extent&&(void 0!==n.extent?n.extent=(0,c._N)(n.extent,i.extent):n.extent=i.extent),void 0===n.zIndex&&(n.zIndex=s)}return e}getSourceState(){return"ready"}}const v=m},60764:(t,e,n)=>{n.d(e,{A:()=>g,l:()=>u});var i=n(58620),s=n(6837),r=n(75332),o=n(83984),a=n(42054),h=n(90588),l=n(70915),d=n(9438);class c extends i.A{constructor(t){const e=Object.assign({},t);delete e.source,super(e),this.on,this.once,this.un,this.mapPrecomposeKey_=null,this.mapRenderKey_=null,this.sourceChangeKey_=null,this.renderer_=null,this.sourceReady_=!1,this.rendered=!1,t.render&&(this.render=t.render),t.map&&this.setMap(t.map),this.addChangeListener(r.A.SOURCE,this.handleSourcePropertyChange_);const n=t.source?t.source:null;this.setSource(n)}getLayersArray(t){return(t=t||[]).push(this),t}getLayerStatesArray(t){return(t=t||[]).push(this.getLayerState()),t}getSource(){return this.get(r.A.SOURCE)||null}getRenderSource(){return this.getSource()}getSourceState(){const t=this.getSource();return t?t.getState():"undefined"}handleSourceChange_(){this.changed(),this.sourceReady_||"ready"!==this.getSource().getState()||(this.sourceReady_=!0,this.dispatchEvent("sourceready"))}handleSourcePropertyChange_(){this.sourceChangeKey_&&((0,d.JH)(this.sourceChangeKey_),this.sourceChangeKey_=null),this.sourceReady_=!1;const t=this.getSource();t&&(this.sourceChangeKey_=(0,d.KT)(t,s.A.CHANGE,this.handleSourceChange_,this),"ready"===t.getState()&&(this.sourceReady_=!0,setTimeout((()=>{this.dispatchEvent("sourceready")}),0))),this.changed()}getFeatures(t){return this.renderer_?this.renderer_.getFeatures(t):Promise.resolve([])}getData(t){return this.renderer_&&this.rendered?this.renderer_.getData(t):null}isVisible(t){let e;const n=this.getMapInternal();let i;!t&&n&&(t=n.getView()),e=t instanceof a.Ay?{viewState:t.getState(),extent:t.calculateExtent()}:t,!e.layerStatesArray&&n&&(e.layerStatesArray=n.getLayerGroup().getLayerStatesArray()),i=e.layerStatesArray?e.layerStatesArray.find((t=>t.layer===this)):this.getLayerState();const s=this.getExtent();return u(i,e.viewState)&&(!s||(0,l.HY)(s,e.extent))}getAttributions(t){if(!this.isVisible(t))return[];let e;const n=this.getSource();if(n&&(e=n.getAttributions()),!e)return[];let i=e(t instanceof a.Ay?t.getViewStateAndExtent():t);return Array.isArray(i)||(i=[i]),i}render(t,e){const n=this.getRenderer();return n.prepareFrame(t)?(this.rendered=!0,n.renderFrame(t,e)):null}unrender(){this.rendered=!1}getDeclutter(){}renderDeclutter(t,e){}renderDeferred(t){const e=this.getRenderer();e&&e.renderDeferred(t)}setMapInternal(t){t||this.unrender(),this.set(r.A.MAP,t)}getMapInternal(){return this.get(r.A.MAP)}setMap(t){this.mapPrecomposeKey_&&((0,d.JH)(this.mapPrecomposeKey_),this.mapPrecomposeKey_=null),t||this.changed(),this.mapRenderKey_&&((0,d.JH)(this.mapRenderKey_),this.mapRenderKey_=null),t&&(this.mapPrecomposeKey_=(0,d.KT)(t,o.A.PRECOMPOSE,(function(t){const e=t.frameState.layerStatesArray,n=this.getLayerState(!1);(0,h.v)(!e.some((function(t){return t.layer===n.layer})),"A layer can only be added to the map once. Use either `layer.setMap()` or `map.addLayer()`, not both."),e.push(n)}),this),this.mapRenderKey_=(0,d.KT)(this,s.A.CHANGE,t.render,t),this.changed())}setSource(t){this.set(r.A.SOURCE,t)}getRenderer(){return this.renderer_||(this.renderer_=this.createRenderer()),this.renderer_}hasRenderer(){return!!this.renderer_}createRenderer(){return null}disposeInternal(){this.renderer_&&(this.renderer_.dispose(),delete this.renderer_),this.setSource(null),super.disposeInternal()}}function u(t,e){if(!t.visible)return!1;const n=e.resolution;if(n<t.minResolution||n>=t.maxResolution)return!1;const i=e.zoom;return i>t.minZoom&&i<=t.maxZoom}const g=c},75332:(t,e,n)=>{n.d(e,{A:()=>i});const i={OPACITY:"opacity",VISIBLE:"visible",EXTENT:"extent",Z_INDEX:"zIndex",MAX_RESOLUTION:"maxResolution",MIN_RESOLUTION:"minResolution",MAX_ZOOM:"maxZoom",MIN_ZOOM:"minZoom",SOURCE:"source",MAP:"map"}},82986:(t,e,n)=>{n.d(e,{A:()=>o});var i=n(16323),s=n(32348);class r extends i.A{constructor(t){super(t)}createRenderer(){return new s.A(this)}}const o=r},31105:(t,e,n)=>{n.d(e,{A:()=>l});var i=n(16323),s=n(13939);const r="preload",o="useInterimTilesOnError";var a=n(90588);class h extends i.A{constructor(t){t=t||{};const e=Object.assign({},t);delete e.preload,delete e.useInterimTilesOnError,super(e),this.on,this.once,this.un;const n=t.renderMode||"hybrid";(0,a.v)("hybrid"==n||"vector"==n,"`renderMode` must be `'hybrid'` or `'vector'`"),this.renderMode_=n,this.setPreload(t.preload?t.preload:0),this.setUseInterimTilesOnError(void 0===t.useInterimTilesOnError||t.useInterimTilesOnError),this.getBackground,this.setBackground}createRenderer(){return new s.A(this)}getFeatures(t){return super.getFeatures(t)}getRenderMode(){return this.renderMode_}getPreload(){return this.get(r)}getUseInterimTilesOnError(){return this.get(o)}setPreload(t){this.set(r,t)}setUseInterimTilesOnError(t){this.set(o,t)}}const l=h},60942:(t,e,n)=>{n.d(e,{Q7:()=>i});n(9687);function i(t,e){return[[-1/0,-1/0,1/0,1/0]]}},61597:(t,e,n)=>{function i(t,e,n){return Math.min(Math.max(t,e),n)}function s(t,e,n,i,s,o){const a=s-n,h=o-i;if(0!==a||0!==h){const r=((t-n)*a+(e-i)*h)/(a*a+h*h);r>1?(n=s,i=o):r>0&&(n+=a*r,i+=h*r)}return r(t,e,n,i)}function r(t,e,n,i){const s=n-t,r=i-e;return s*s+r*r}function o(t){const e=t.length;for(let n=0;n<e;n++){let i=n,s=Math.abs(t[n][n]);for(let r=n+1;r<e;r++){const e=Math.abs(t[r][n]);e>s&&(s=e,i=r)}if(0===s)return null;const r=t[i];t[i]=t[n],t[n]=r;for(let i=n+1;i<e;i++){const s=-t[i][n]/t[n][n];for(let r=n;r<e+1;r++)n==r?t[i][r]=0:t[i][r]+=s*t[n][r]}}const n=new Array(e);for(let i=e-1;i>=0;i--){n[i]=t[i][e]/t[i][i];for(let s=i-1;s>=0;s--)t[s][e]-=t[s][i]*n[i]}return n}function a(t){return t*Math.PI/180}function h(t,e){const n=t%e;return n*e<0?n+e:n}function l(t,e,n){return t+n*(e-t)}function d(t,e){const n=Math.pow(10,e);return Math.round(t*n)/n}function c(t,e){return Math.floor(d(t,e))}function u(t,e){return Math.ceil(d(t,e))}n.d(e,{Cc:()=>l,KU:()=>o,Mg:()=>d,Q1:()=>s,RI:()=>c,eh:()=>a,hG:()=>r,mk:()=>u,qE:()=>i,xP:()=>h})},43530:(t,e,n)=>{function i(t){for(const e in t)delete t[e]}function s(t){let e;for(e in t)return!1;return!e}n.d(e,{I:()=>i,p:()=>s})}}]);