(self.webpackChunkdovotori_portfolio=self.webpackChunkdovotori_portfolio||[]).push([[353],{31564:(t,e,i)=>{"use strict";i.d(e,{U2:()=>o,IH:()=>s});var n={};function o(t){return n[t]||n[t.replace(/urn:(x-)?ogc:def:crs:EPSG:(.*:)?(\w+)$/,"EPSG:$3")]||null}function s(t,e){n[t]=e}},84110:(t,e,i)=>{"use strict";i.d(e,{IH:()=>o,U2:()=>s});var n={};function o(t,e,i){var o=t.getCode(),s=e.getCode();o in n||(n[o]={}),n[o][s]=i}function s(t,e){var i;return t in n&&e in n[t]&&(i=n[t][e]),i}},35415:(t,e,i)=>{"use strict";i.d(e,{u3:()=>a});var n=i(76798),o=i(82359),s=i(43631),r=i(38178);function a(t){var e,i=t.frameState,a=(0,o.Jp)(t.inversePixelTransform.slice(),i.coordinateToPixelTransform),l=(0,s.se)(i.viewState.resolution,i.pixelRatio),h=(0,r.Cs)();return h&&(e=(0,r.WO)(h,i.viewState.projection)),new n.Z(t.context,i.pixelRatio,i.extent,a,i.viewState.rotation,l,e)}},7960:(t,e,i)=>{"use strict";i.d(e,{Z:()=>a});var n,o=i(80967),s=i(40353),r=(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});const a=function(t){function e(e){var i=t.call(this)||this;return i.geometry_=null,i.element_=document.createElement("div"),i.element_.style.position="absolute",i.element_.style.pointerEvents="auto",i.element_.className="ol-box "+e,i.map_=null,i.startPixel_=null,i.endPixel_=null,i}return r(e,t),e.prototype.disposeInternal=function(){this.setMap(null)},e.prototype.render_=function(){var t=this.startPixel_,e=this.endPixel_,i="px",n=this.element_.style;n.left=Math.min(t[0],e[0])+i,n.top=Math.min(t[1],e[1])+i,n.width=Math.abs(e[0]-t[0])+i,n.height=Math.abs(e[1]-t[1])+i},e.prototype.setMap=function(t){if(this.map_){this.map_.getOverlayContainer().removeChild(this.element_);var e=this.element_.style;e.left="inherit",e.top="inherit",e.width="inherit",e.height="inherit"}this.map_=t,this.map_&&this.map_.getOverlayContainer().appendChild(this.element_)},e.prototype.setPixels=function(t,e){this.startPixel_=t,this.endPixel_=e,this.createOrUpdateGeometry(),this.render_()},e.prototype.createOrUpdateGeometry=function(){var t=this.startPixel_,e=this.endPixel_,i=[t,[t[0],e[1]],e,[e[0],t[1]]].map(this.map_.getCoordinateFromPixelInternal,this.map_);i[4]=i[0].slice(),this.geometry_?this.geometry_.setCoordinates([i]):this.geometry_=new s.ZP([i])},e.prototype.getGeometry=function(){return this.geometry_},e}(o.Z)},41173:(t,e,i)=>{"use strict";i.d(e,{Z:()=>r});var n,o=i(9520),s=(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});const r=function(t){function e(e,i,n,o){var s=t.call(this,e)||this;return s.inversePixelTransform=i,s.frameState=n,s.context=o,s}return s(e,t),e}(o.ZP)},97208:(t,e,i)=>{"use strict";i.d(e,{Z:()=>n});const n={PRERENDER:"prerender",POSTRENDER:"postrender",PRECOMPOSE:"precompose",POSTCOMPOSE:"postcompose",RENDERCOMPLETE:"rendercomplete"}},64889:(t,e,i)=>{"use strict";i.d(e,{Z:()=>n});const n=function(){function t(){}return t.prototype.drawCustom=function(t,e,i){},t.prototype.drawGeometry=function(t){},t.prototype.setStyle=function(t){},t.prototype.drawCircle=function(t,e){},t.prototype.drawFeature=function(t,e){},t.prototype.drawGeometryCollection=function(t,e){},t.prototype.drawLineString=function(t,e){},t.prototype.drawMultiLineString=function(t,e){},t.prototype.drawMultiPoint=function(t,e){},t.prototype.drawMultiPolygon=function(t,e){},t.prototype.drawPoint=function(t,e){},t.prototype.drawPolygon=function(t,e){},t.prototype.drawText=function(t,e){},t.prototype.setFillStrokeStyle=function(t,e){},t.prototype.setImageStyle=function(t,e){},t.prototype.setTextStyle=function(t,e){},t}()},68509:(t,e,i)=>{"use strict";i.d(e,{Df:()=>c,bL:()=>u,mb:()=>_,X9:()=>f,He:()=>p,rc:()=>d,V4:()=>g,Tx:()=>y,PH:()=>x,ru:()=>S,oB:()=>v,yC:()=>m,sG:()=>T,Qx:()=>L,fk:()=>E,Kd:()=>b,gs:()=>R,qs:()=>D,_f:()=>Z,QP:()=>F});var n=i(58493),o=i(66575),s=i(91358),r=i(13580),a=i(85386),l=i(67644),h=i(82359),c="10px sans-serif",u="#000",_="round",f=[],p=0,d="round",g=10,y="#000",x="center",S="middle",v=[0,0,0,0],m=1,T=new n.ZP;(new o.Z).setSize=function(){console.warn("labelCache is deprecated.")};var O,I,C=null,k={},L=function(){var t,e,i="32px ",n=["monospace","serif"],o=n.length,s="wmytzilWMYTZIL@#/&?$%10";function a(t,r,a){for(var l=!0,h=0;h<o;++h){var c=n[h];if(e=P(t+" "+r+" "+i+c,s),a!=c){var u=P(t+" "+r+" "+i+a+","+c,s);l=l&&u!=e}}return!!l}function h(){for(var e=!0,i=T.getKeys(),n=0,o=i.length;n<o;++n){var s=i[n];T.get(s)<100&&(a.apply(this,s.split("\n"))?((0,r.ZH)(k),C=null,O=void 0,T.set(s,100)):(T.set(s,T.get(s)+1,!0),e=!1))}e&&(clearInterval(t),t=void 0)}return function(e){var i=(0,l.p)(e);if(i)for(var n=i.families,o=0,s=n.length;o<s;++o){var r=n[o],c=i.style+"\n"+i.weight+"\n"+r;void 0===T.get(c)&&(T.set(c,100,!0),a(i.style,i.weight,r)||(T.set(c,0,!0),void 0===t&&(t=setInterval(h,32))))}}}(),E=function(t){var e=k[t];if(null==e){if(s.Id){var i=(0,l.p)(t),n=w(t,"Žg");e=(isNaN(Number(i.lineHeight))?1.2:Number(i.lineHeight))*(n.actualBoundingBoxAscent+n.actualBoundingBoxDescent)}else I||((I=document.createElement("div")).innerHTML="M",I.style.margin="0 !important",I.style.padding="0 !important",I.style.position="absolute !important",I.style.left="-99999px !important"),I.style.font=t,document.body.appendChild(I),e=I.offsetHeight,document.body.removeChild(I);k[t]=e}return e};function w(t,e){return C||(C=(0,a.E4)(1,1)),t!=O&&(C.font=t,O=C.font),C.measureText(e)}function P(t,e){return w(t,e).width}function b(t,e,i){if(e in i)return i[e];var n=P(t,e);return i[e]=n,n}function R(t,e,i){for(var n=e.length,o=0,s=0;s<n;++s){var r=P(t,e[s]);o=Math.max(o,r),i.push(r)}return o}function D(t,e,i,n){0!==e&&(t.translate(i,n),t.rotate(e),t.translate(-i,-n))}function Z(t,e,i,n,o,s,r,a,l,h,c){t.save(),1!==i&&(t.globalAlpha*=i),e&&t.setTransform.apply(t,e),n.contextInstructions?(t.translate(l,h),t.scale(c[0],c[1]),function(t,e){for(var i=t.contextInstructions,n=0,o=i.length;n<o;n+=2)Array.isArray(i[n+1])?e[i[n]].apply(e,i[n+1]):e[i[n]]=i[n+1]}(n,t)):c[0]<0||c[1]<0?(t.translate(l,h),t.scale(c[0],c[1]),t.drawImage(n,o,s,r,a,0,0,r,a)):t.drawImage(n,o,s,r,a,l,h,r*c[0],a*c[1]),t.restore()}var M=null;function F(t){return s.Id?(0,h.BB)(t):(M||(M=(0,a.E4)(1,1).canvas),M.style.transform=(0,h.BB)(t),M.style.transform)}},80567:(t,e,i)=>{"use strict";i.d(e,{Z:()=>p});var n,o=i(68186),s=i(28795),r=i(34178),a=i(64889),l=i(45120),h=i(21915),c=i(68509),u=i(79682),_=i(86204),f=(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});const p=function(t){function e(e,i,n,o){var s=t.call(this)||this;return s.tolerance=e,s.maxExtent=i,s.pixelRatio=o,s.maxLineWidth=0,s.resolution=n,s.beginGeometryInstruction1_=null,s.beginGeometryInstruction2_=null,s.bufferedMaxExtent_=null,s.instructions=[],s.coordinates=[],s.tmpCoordinate_=[],s.hitDetectionInstructions=[],s.state={},s}return f(e,t),e.prototype.applyPixelRatio=function(t){var e=this.pixelRatio;return 1==e?t:t.map((function(t){return t*e}))},e.prototype.appendFlatPointCoordinates=function(t,e){for(var i=this.getBufferedMaxExtent(),n=this.tmpCoordinate_,o=this.coordinates,s=o.length,r=0,a=t.length;r<a;r+=e)n[0]=t[r],n[1]=t[r+1],(0,h.b8)(i,n)&&(o[s++]=n[0],o[s++]=n[1]);return s},e.prototype.appendFlatLineCoordinates=function(t,e,i,n,o,s){var a=this.coordinates,l=a.length,c=this.getBufferedMaxExtent();s&&(e+=n);var u,_,f,p=t[e],d=t[e+1],g=this.tmpCoordinate_,y=!0;for(u=e+n;u<i;u+=n)g[0]=t[u],g[1]=t[u+1],(f=(0,h.pX)(c,g))!==_?(y&&(a[l++]=p,a[l++]=d,y=!1),a[l++]=g[0],a[l++]=g[1]):f===r.Z.INTERSECTING?(a[l++]=g[0],a[l++]=g[1],y=!1):y=!0,p=g[0],d=g[1],_=f;return(o&&y||u===e+n)&&(a[l++]=p,a[l++]=d),l},e.prototype.drawCustomCoordinates_=function(t,e,i,n,o){for(var s=0,r=i.length;s<r;++s){var a=i[s],l=this.appendFlatLineCoordinates(t,e,a,n,!1,!1);o.push(l),e=a}return e},e.prototype.drawCustom=function(t,e,i){this.beginGeometry(t,e);var n,r,a,l,h,c=t.getType(),u=t.getStride(),f=this.coordinates.length;if(c==s.Z.MULTI_POLYGON){n=t.getOrientedFlatCoordinates(),l=[];var p=t.getEndss();h=0;for(var d=0,g=p.length;d<g;++d){var y=[];h=this.drawCustomCoordinates_(n,h,p[d],u,y),l.push(y)}this.instructions.push([o.ZP.CUSTOM,f,l,t,i,_.ug])}else c==s.Z.POLYGON||c==s.Z.MULTI_LINE_STRING?(a=[],n=c==s.Z.POLYGON?t.getOrientedFlatCoordinates():t.getFlatCoordinates(),h=this.drawCustomCoordinates_(n,0,t.getEnds(),u,a),this.instructions.push([o.ZP.CUSTOM,f,a,t,i,_.o1])):c==s.Z.LINE_STRING||c==s.Z.CIRCLE?(n=t.getFlatCoordinates(),r=this.appendFlatLineCoordinates(n,0,n.length,u,!1,!1),this.instructions.push([o.ZP.CUSTOM,f,r,t,i,_.Ml])):c==s.Z.MULTI_POINT?(n=t.getFlatCoordinates(),(r=this.appendFlatPointCoordinates(n,u))>f&&this.instructions.push([o.ZP.CUSTOM,f,r,t,i,_.Ml])):c==s.Z.POINT&&(n=t.getFlatCoordinates(),this.coordinates.push(n[0],n[1]),r=this.coordinates.length,this.instructions.push([o.ZP.CUSTOM,f,r,t,i]));this.endGeometry(e)},e.prototype.beginGeometry=function(t,e){this.beginGeometryInstruction1_=[o.ZP.BEGIN_GEOMETRY,e,0,t],this.instructions.push(this.beginGeometryInstruction1_),this.beginGeometryInstruction2_=[o.ZP.BEGIN_GEOMETRY,e,0,t],this.hitDetectionInstructions.push(this.beginGeometryInstruction2_)},e.prototype.finish=function(){return{instructions:this.instructions,hitDetectionInstructions:this.hitDetectionInstructions,coordinates:this.coordinates}},e.prototype.reverseHitDetectionInstructions=function(){var t,e=this.hitDetectionInstructions;e.reverse();var i,n,s=e.length,r=-1;for(t=0;t<s;++t)(n=(i=e[t])[0])==o.ZP.END_GEOMETRY?r=t:n==o.ZP.BEGIN_GEOMETRY&&(i[2]=t,(0,u.FZ)(this.hitDetectionInstructions,r,t),r=-1)},e.prototype.setFillStrokeStyle=function(t,e){var i=this.state;if(t){var n=t.getColor();i.fillStyle=(0,l.y)(n||c.bL)}else i.fillStyle=void 0;if(e){var o=e.getColor();i.strokeStyle=(0,l.y)(o||c.Tx);var s=e.getLineCap();i.lineCap=void 0!==s?s:c.mb;var r=e.getLineDash();i.lineDash=r?r.slice():c.X9;var a=e.getLineDashOffset();i.lineDashOffset=a||c.He;var h=e.getLineJoin();i.lineJoin=void 0!==h?h:c.rc;var u=e.getWidth();i.lineWidth=void 0!==u?u:c.yC;var _=e.getMiterLimit();i.miterLimit=void 0!==_?_:c.V4,i.lineWidth>this.maxLineWidth&&(this.maxLineWidth=i.lineWidth,this.bufferedMaxExtent_=null)}else i.strokeStyle=void 0,i.lineCap=void 0,i.lineDash=null,i.lineDashOffset=void 0,i.lineJoin=void 0,i.lineWidth=void 0,i.miterLimit=void 0},e.prototype.createFill=function(t){var e=t.fillStyle,i=[o.ZP.SET_FILL_STYLE,e];return"string"!=typeof e&&i.push(!0),i},e.prototype.applyStroke=function(t){this.instructions.push(this.createStroke(t))},e.prototype.createStroke=function(t){return[o.ZP.SET_STROKE_STYLE,t.strokeStyle,t.lineWidth*this.pixelRatio,t.lineCap,t.lineJoin,t.miterLimit,this.applyPixelRatio(t.lineDash),t.lineDashOffset*this.pixelRatio]},e.prototype.updateFillStyle=function(t,e){var i=t.fillStyle;"string"==typeof i&&t.currentFillStyle==i||(void 0!==i&&this.instructions.push(e.call(this,t)),t.currentFillStyle=i)},e.prototype.updateStrokeStyle=function(t,e){var i=t.strokeStyle,n=t.lineCap,o=t.lineDash,s=t.lineDashOffset,r=t.lineJoin,a=t.lineWidth,l=t.miterLimit;(t.currentStrokeStyle!=i||t.currentLineCap!=n||o!=t.currentLineDash&&!(0,u.fS)(t.currentLineDash,o)||t.currentLineDashOffset!=s||t.currentLineJoin!=r||t.currentLineWidth!=a||t.currentMiterLimit!=l)&&(void 0!==i&&e.call(this,t),t.currentStrokeStyle=i,t.currentLineCap=n,t.currentLineDash=o,t.currentLineDashOffset=s,t.currentLineJoin=r,t.currentLineWidth=a,t.currentMiterLimit=l)},e.prototype.endGeometry=function(t){this.beginGeometryInstruction1_[2]=this.instructions.length,this.beginGeometryInstruction1_=null,this.beginGeometryInstruction2_[2]=this.hitDetectionInstructions.length,this.beginGeometryInstruction2_=null;var e=[o.ZP.END_GEOMETRY,t];this.instructions.push(e),this.hitDetectionInstructions.push(e)},e.prototype.getBufferedMaxExtent=function(){if(!this.bufferedMaxExtent_&&(this.bufferedMaxExtent_=(0,h.d9)(this.maxExtent),this.maxLineWidth>0)){var t=this.resolution*(this.maxLineWidth+1)/2;(0,h.f3)(this.bufferedMaxExtent_,t,this.bufferedMaxExtent_)}return this.bufferedMaxExtent_},e}(a.Z)},95965:(t,e,i)=>{"use strict";i.d(e,{Z:()=>g});var n,o=i(80567),s=i(68186),r=(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});const a=function(t){function e(e,i,n,o){var s=t.call(this,e,i,n,o)||this;return s.hitDetectionImage_=null,s.image_=null,s.imagePixelRatio_=void 0,s.anchorX_=void 0,s.anchorY_=void 0,s.height_=void 0,s.opacity_=void 0,s.originX_=void 0,s.originY_=void 0,s.rotateWithView_=void 0,s.rotation_=void 0,s.scale_=void 0,s.width_=void 0,s.declutterImageWithText_=void 0,s}return r(e,t),e.prototype.drawPoint=function(t,e){if(this.image_){this.beginGeometry(t,e);var i=t.getFlatCoordinates(),n=t.getStride(),o=this.coordinates.length,r=this.appendFlatPointCoordinates(i,n);this.instructions.push([s.ZP.DRAW_IMAGE,o,r,this.image_,this.anchorX_*this.imagePixelRatio_,this.anchorY_*this.imagePixelRatio_,Math.ceil(this.height_*this.imagePixelRatio_),this.opacity_,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,[this.scale_[0]*this.pixelRatio/this.imagePixelRatio_,this.scale_[1]*this.pixelRatio/this.imagePixelRatio_],Math.ceil(this.width_*this.imagePixelRatio_),this.declutterImageWithText_]),this.hitDetectionInstructions.push([s.ZP.DRAW_IMAGE,o,r,this.hitDetectionImage_,this.anchorX_,this.anchorY_,this.height_,this.opacity_,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,this.scale_,this.width_,this.declutterImageWithText_]),this.endGeometry(e)}},e.prototype.drawMultiPoint=function(t,e){if(this.image_){this.beginGeometry(t,e);var i=t.getFlatCoordinates(),n=t.getStride(),o=this.coordinates.length,r=this.appendFlatPointCoordinates(i,n);this.instructions.push([s.ZP.DRAW_IMAGE,o,r,this.image_,this.anchorX_*this.imagePixelRatio_,this.anchorY_*this.imagePixelRatio_,Math.ceil(this.height_*this.imagePixelRatio_),this.opacity_,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,[this.scale_[0]*this.pixelRatio/this.imagePixelRatio_,this.scale_[1]*this.pixelRatio/this.imagePixelRatio_],Math.ceil(this.width_*this.imagePixelRatio_),this.declutterImageWithText_]),this.hitDetectionInstructions.push([s.ZP.DRAW_IMAGE,o,r,this.hitDetectionImage_,this.anchorX_,this.anchorY_,this.height_,this.opacity_,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,this.scale_,this.width_,this.declutterImageWithText_]),this.endGeometry(e)}},e.prototype.finish=function(){return this.reverseHitDetectionInstructions(),this.anchorX_=void 0,this.anchorY_=void 0,this.hitDetectionImage_=null,this.image_=null,this.imagePixelRatio_=void 0,this.height_=void 0,this.scale_=void 0,this.opacity_=void 0,this.originX_=void 0,this.originY_=void 0,this.rotateWithView_=void 0,this.rotation_=void 0,this.width_=void 0,t.prototype.finish.call(this)},e.prototype.setImageStyle=function(t,e){var i=t.getAnchor(),n=t.getSize(),o=t.getHitDetectionImage(),s=t.getImage(this.pixelRatio),r=t.getOrigin();this.imagePixelRatio_=t.getPixelRatio(this.pixelRatio),this.anchorX_=i[0],this.anchorY_=i[1],this.hitDetectionImage_=o,this.image_=s,this.height_=n[1],this.opacity_=t.getOpacity(),this.originX_=r[0],this.originY_=r[1],this.rotateWithView_=t.getRotateWithView(),this.rotation_=t.getRotation(),this.scale_=t.getScaleArray(),this.width_=n[0],this.declutterImageWithText_=e},e}(o.Z);var l=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(e,i)};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();const h=function(t){function e(e,i,n,o){return t.call(this,e,i,n,o)||this}return l(e,t),e.prototype.drawFlatCoordinates_=function(t,e,i,n){var o=this.coordinates.length,r=this.appendFlatLineCoordinates(t,e,i,n,!1,!1),a=[s.ZP.MOVE_TO_LINE_TO,o,r];return this.instructions.push(a),this.hitDetectionInstructions.push(a),i},e.prototype.drawLineString=function(t,e){var i=this.state,n=i.strokeStyle,o=i.lineWidth;if(void 0!==n&&void 0!==o){this.updateStrokeStyle(i,this.applyStroke),this.beginGeometry(t,e),this.hitDetectionInstructions.push([s.ZP.SET_STROKE_STYLE,i.strokeStyle,i.lineWidth,i.lineCap,i.lineJoin,i.miterLimit,i.lineDash,i.lineDashOffset],s.$O);var r=t.getFlatCoordinates(),a=t.getStride();this.drawFlatCoordinates_(r,0,r.length,a),this.hitDetectionInstructions.push(s.Yc),this.endGeometry(e)}},e.prototype.drawMultiLineString=function(t,e){var i=this.state,n=i.strokeStyle,o=i.lineWidth;if(void 0!==n&&void 0!==o){this.updateStrokeStyle(i,this.applyStroke),this.beginGeometry(t,e),this.hitDetectionInstructions.push([s.ZP.SET_STROKE_STYLE,i.strokeStyle,i.lineWidth,i.lineCap,i.lineJoin,i.miterLimit,i.lineDash,i.lineDashOffset],s.$O);for(var r=t.getEnds(),a=t.getFlatCoordinates(),l=t.getStride(),h=0,c=0,u=r.length;c<u;++c)h=this.drawFlatCoordinates_(a,h,r[c],l);this.hitDetectionInstructions.push(s.Yc),this.endGeometry(e)}},e.prototype.finish=function(){var e=this.state;return null!=e.lastStroke&&e.lastStroke!=this.coordinates.length&&this.instructions.push(s.Yc),this.reverseHitDetectionInstructions(),this.state=null,t.prototype.finish.call(this)},e.prototype.applyStroke=function(e){null!=e.lastStroke&&e.lastStroke!=this.coordinates.length&&(this.instructions.push(s.Yc),e.lastStroke=this.coordinates.length),e.lastStroke=0,t.prototype.applyStroke.call(this,e),this.instructions.push(s.$O)},e}(o.Z);var c=i(68509),u=i(62418),_=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(e,i)};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();const f=function(t){function e(e,i,n,o){return t.call(this,e,i,n,o)||this}return _(e,t),e.prototype.drawFlatCoordinatess_=function(t,e,i,n){var o=this.state,r=void 0!==o.fillStyle,a=void 0!==o.strokeStyle,l=i.length;this.instructions.push(s.$O),this.hitDetectionInstructions.push(s.$O);for(var h=0;h<l;++h){var c=i[h],u=this.coordinates.length,_=this.appendFlatLineCoordinates(t,e,c,n,!0,!a),f=[s.ZP.MOVE_TO_LINE_TO,u,_];this.instructions.push(f),this.hitDetectionInstructions.push(f),a&&(this.instructions.push(s.s3),this.hitDetectionInstructions.push(s.s3)),e=c}return r&&(this.instructions.push(s.gO),this.hitDetectionInstructions.push(s.gO)),a&&(this.instructions.push(s.Yc),this.hitDetectionInstructions.push(s.Yc)),e},e.prototype.drawCircle=function(t,e){var i=this.state,n=i.fillStyle,o=i.strokeStyle;if(void 0!==n||void 0!==o){this.setFillStrokeStyles_(),this.beginGeometry(t,e),void 0!==i.fillStyle&&this.hitDetectionInstructions.push([s.ZP.SET_FILL_STYLE,c.bL]),void 0!==i.strokeStyle&&this.hitDetectionInstructions.push([s.ZP.SET_STROKE_STYLE,i.strokeStyle,i.lineWidth,i.lineCap,i.lineJoin,i.miterLimit,i.lineDash,i.lineDashOffset]);var r=t.getFlatCoordinates(),a=t.getStride(),l=this.coordinates.length;this.appendFlatLineCoordinates(r,0,r.length,a,!1,!1);var h=[s.ZP.CIRCLE,l];this.instructions.push(s.$O,h),this.hitDetectionInstructions.push(s.$O,h),void 0!==i.fillStyle&&(this.instructions.push(s.gO),this.hitDetectionInstructions.push(s.gO)),void 0!==i.strokeStyle&&(this.instructions.push(s.Yc),this.hitDetectionInstructions.push(s.Yc)),this.endGeometry(e)}},e.prototype.drawPolygon=function(t,e){var i=this.state,n=i.fillStyle,o=i.strokeStyle;if(void 0!==n||void 0!==o){this.setFillStrokeStyles_(),this.beginGeometry(t,e),void 0!==i.fillStyle&&this.hitDetectionInstructions.push([s.ZP.SET_FILL_STYLE,c.bL]),void 0!==i.strokeStyle&&this.hitDetectionInstructions.push([s.ZP.SET_STROKE_STYLE,i.strokeStyle,i.lineWidth,i.lineCap,i.lineJoin,i.miterLimit,i.lineDash,i.lineDashOffset]);var r=t.getEnds(),a=t.getOrientedFlatCoordinates(),l=t.getStride();this.drawFlatCoordinatess_(a,0,r,l),this.endGeometry(e)}},e.prototype.drawMultiPolygon=function(t,e){var i=this.state,n=i.fillStyle,o=i.strokeStyle;if(void 0!==n||void 0!==o){this.setFillStrokeStyles_(),this.beginGeometry(t,e),void 0!==i.fillStyle&&this.hitDetectionInstructions.push([s.ZP.SET_FILL_STYLE,c.bL]),void 0!==i.strokeStyle&&this.hitDetectionInstructions.push([s.ZP.SET_STROKE_STYLE,i.strokeStyle,i.lineWidth,i.lineCap,i.lineJoin,i.miterLimit,i.lineDash,i.lineDashOffset]);for(var r=t.getEndss(),a=t.getOrientedFlatCoordinates(),l=t.getStride(),h=0,u=0,_=r.length;u<_;++u)h=this.drawFlatCoordinatess_(a,h,r[u],l);this.endGeometry(e)}},e.prototype.finish=function(){this.reverseHitDetectionInstructions(),this.state=null;var e=this.tolerance;if(0!==e)for(var i=this.coordinates,n=0,o=i.length;n<o;++n)i[n]=(0,u.uZ)(i[n],e);return t.prototype.finish.call(this)},e.prototype.setFillStrokeStyles_=function(){var t=this.state;void 0!==t.fillStyle&&this.updateFillStyle(t,this.createFill),void 0!==t.strokeStyle&&this.updateStrokeStyle(t,this.applyStroke)},e}(o.Z);var p=i(66854),d={Circle:f,Default:o.Z,Image:a,LineString:h,Polygon:f,Text:p.Z};const g=function(){function t(t,e,i,n){this.tolerance_=t,this.maxExtent_=e,this.pixelRatio_=n,this.resolution_=i,this.buildersByZIndex_={}}return t.prototype.finish=function(){var t={};for(var e in this.buildersByZIndex_){t[e]=t[e]||{};var i=this.buildersByZIndex_[e];for(var n in i){var o=i[n].finish();t[e][n]=o}}return t},t.prototype.getBuilder=function(t,e){var i=void 0!==t?t.toString():"0",n=this.buildersByZIndex_[i];void 0===n&&(n={},this.buildersByZIndex_[i]=n);var o=n[e];void 0===o&&(o=new(0,d[e])(this.tolerance_,this.maxExtent_,this.resolution_,this.pixelRatio_),n[e]=o);return o},t}()},61456:(t,e,i)=>{"use strict";i.d(e,{Z:()=>n});const n={CIRCLE:"Circle",DEFAULT:"Default",IMAGE:"Image",LINE_STRING:"LineString",POLYGON:"Polygon",TEXT:"Text"}},24073:(t,e,i)=>{"use strict";i.d(e,{Z:()=>E});var n=i(61456),o=i(68186),s=i(66854),r=i(91358),a=i(82359),l=i(21915),h=i(68509),c=i(25769),u=i(79682),_=i(4027),f=i(17882),p=(0,l.lJ)(),d=[],g=[],y=[],x=[];function S(t){return t[3].declutterBox}var v=new RegExp("["+String.fromCharCode(1425)+"-"+String.fromCharCode(2303)+String.fromCharCode(64285)+"-"+String.fromCharCode(65023)+String.fromCharCode(65136)+"-"+String.fromCharCode(65276)+String.fromCharCode(67584)+"-"+String.fromCharCode(69631)+String.fromCharCode(124928)+"-"+String.fromCharCode(126975)+"]");function m(t,e){return"start"!==e&&"end"!==e||v.test(t)||(e="start"===e?"left":"right"),s.I[e]}const T=function(){function t(t,e,i,n,o){this.overlaps=i,this.pixelRatio=e,this.resolution=t,this.alignFill_,this.instructions=n.instructions,this.coordinates=n.coordinates,this.coordinateCache_={},this.renderBuffer_=o,this.renderedTransform_=(0,a.Ue)(),this.hitDetectionInstructions=n.hitDetectionInstructions,this.pixelCoordinates_=null,this.viewRotation_=0,this.fillStates=n.fillStates||{},this.strokeStates=n.strokeStates||{},this.textStates=n.textStates||{},this.widths_={},this.labels_={}}return t.prototype.createLabel=function(t,e,i,n){var o=t+e+i+n;if(this.labels_[o])return this.labels_[o];var s=n?this.strokeStates[n]:null,a=i?this.fillStates[i]:null,l=this.textStates[e],c=this.pixelRatio,u=[l.scale[0]*c,l.scale[1]*c],_=m(t,l.textAlign||h.PH),f=n&&s.lineWidth?s.lineWidth:0,p=t.split("\n"),d=p.length,g=[],y=(0,h.gs)(l.font,p,g),x=(0,h.fk)(l.font),S=y+f,v=[],T=(S+2)*u[0],O=(x*d+f)*u[1],I={width:T<0?Math.floor(T):Math.ceil(T),height:O<0?Math.floor(O):Math.ceil(O),contextInstructions:v};(1==u[0]&&1==u[1]||v.push("scale",u),v.push("font",l.font),n)&&(v.push("strokeStyle",s.strokeStyle),v.push("lineWidth",f),v.push("lineCap",s.lineCap),v.push("lineJoin",s.lineJoin),v.push("miterLimit",s.miterLimit),(r.Id?OffscreenCanvasRenderingContext2D:CanvasRenderingContext2D).prototype.setLineDash&&(v.push("setLineDash",[s.lineDash]),v.push("lineDashOffset",s.lineDashOffset)));i&&v.push("fillStyle",a.fillStyle),v.push("textBaseline","middle"),v.push("textAlign","center");var C,k=.5-_,L=_*S+k*f;if(n)for(C=0;C<d;++C)v.push("strokeText",[p[C],L+k*g[C],.5*(f+x)+C*x]);if(i)for(C=0;C<d;++C)v.push("fillText",[p[C],L+k*g[C],.5*(f+x)+C*x]);return this.labels_[o]=I,I},t.prototype.replayTextBackground_=function(t,e,i,n,o,s,r){t.beginPath(),t.moveTo.apply(t,e),t.lineTo.apply(t,i),t.lineTo.apply(t,n),t.lineTo.apply(t,o),t.lineTo.apply(t,e),s&&(this.alignFill_=s[2],this.fill_(t)),r&&(this.setStrokeStyle_(t,r),t.stroke())},t.prototype.calculateImageOrLabelDimensions_=function(t,e,i,n,o,s,r,h,c,u,_,f,S,v,m,T){var O,I=i-(r*=f[0]),C=n-(h*=f[1]),k=o+c>t?t-c:o,L=s+u>e?e-u:s,E=v[3]+k*f[0]+v[1],w=v[0]+L*f[1]+v[2],P=I-v[3],b=C-v[0];return(m||0!==_)&&(d[0]=P,x[0]=P,d[1]=b,g[1]=b,g[0]=P+E,y[0]=g[0],y[1]=b+w,x[1]=y[1]),0!==_?(O=(0,a.qC)((0,a.Ue)(),i,n,1,1,_,-i,-n),(0,a.nn)(O,d),(0,a.nn)(O,g),(0,a.nn)(O,y),(0,a.nn)(O,x),(0,l.T9)(Math.min(d[0],g[0],y[0],x[0]),Math.min(d[1],g[1],y[1],x[1]),Math.max(d[0],g[0],y[0],x[0]),Math.max(d[1],g[1],y[1],x[1]),p)):(0,l.T9)(Math.min(P,P+E),Math.min(b,b+w),Math.max(P,P+E),Math.max(b,b+w),p),S&&(I=Math.round(I),C=Math.round(C)),{drawImageX:I,drawImageY:C,drawImageW:k,drawImageH:L,originX:c,originY:u,declutterBox:{minX:p[0],minY:p[1],maxX:p[2],maxY:p[3],value:T},canvasTransform:O,scale:f}},t.prototype.replayImageOrLabel_=function(t,e,i,n,o,s,r){var a=!(!s&&!r),l=n.declutterBox,c=t.canvas,u=r?r[2]*n.scale[0]/2:0;return l.minX-u<=c.width/e&&l.maxX+u>=0&&l.minY-u<=c.height/e&&l.maxY+u>=0&&(a&&this.replayTextBackground_(t,d,g,y,x,s,r),(0,h._f)(t,n.canvasTransform,o,i,n.originX,n.originY,n.drawImageW,n.drawImageH,n.drawImageX,n.drawImageY,n.scale)),!0},t.prototype.fill_=function(t){if(this.alignFill_){var e=(0,a.nn)(this.renderedTransform_,[0,0]),i=512*this.pixelRatio;t.save(),t.translate(e[0]%i,e[1]%i),t.rotate(this.viewRotation_)}t.fill(),this.alignFill_&&t.restore()},t.prototype.setStrokeStyle_=function(t,e){t.strokeStyle=e[1],t.lineWidth=e[2],t.lineCap=e[3],t.lineJoin=e[4],t.miterLimit=e[5],t.setLineDash&&(t.lineDashOffset=e[7],t.setLineDash(e[6]))},t.prototype.drawLabelWithPointPlacement_=function(t,e,i,n){var o=this.textStates[e],r=this.createLabel(t,e,n,i),a=this.strokeStates[i],l=this.pixelRatio,c=m(t,o.textAlign||h.PH),u=s.I[o.textBaseline||h.ru],_=a&&a.lineWidth?a.lineWidth:0;return{label:r,anchorX:c*(r.width/l-2*o.scale[0])+2*(.5-c)*_,anchorY:u*r.height/l+2*(.5-u)*_}},t.prototype.execute_=function(t,e,i,n,r,p,d,g){var y;this.pixelCoordinates_&&(0,u.fS)(i,this.renderedTransform_)?y=this.pixelCoordinates_:(this.pixelCoordinates_||(this.pixelCoordinates_=[]),y=(0,f.vT)(this.coordinates,0,this.coordinates.length,2,i,this.pixelCoordinates_),(0,a.lk)(this.renderedTransform_,i));for(var x,v,m,T,O,I,C,k,L,E,w,P,b,R,D,Z,M=0,F=n.length,G=0,W=0,N=0,A=null,Y=null,B=this.coordinateCache_,X=this.viewRotation_,K=Math.round(1e12*Math.atan2(-i[1],i[0]))/1e12,H={context:t,pixelRatio:this.pixelRatio,resolution:this.resolution,rotation:X},J=this.instructions!=n||this.overlaps?0:200;M<F;){var U=n[M];switch(U[0]){case o.ZP.BEGIN_GEOMETRY:b=U[1],Z=U[3],b.getGeometry()?void 0===d||(0,l.kK)(d,Z.getExtent())?++M:M=U[2]+1:M=U[2];break;case o.ZP.BEGIN_PATH:W>J&&(this.fill_(t),W=0),N>J&&(t.stroke(),N=0),W||N||(t.beginPath(),T=NaN,O=NaN),++M;break;case o.ZP.CIRCLE:var V=y[G=U[1]],j=y[G+1],q=y[G+2]-V,$=y[G+3]-j,z=Math.sqrt(q*q+$*$);t.moveTo(V+z,j),t.arc(V,j,z,0,2*Math.PI,!0),++M;break;case o.ZP.CLOSE_PATH:t.closePath(),++M;break;case o.ZP.CUSTOM:G=U[1],x=U[2];var Q=U[3],tt=U[4],et=6==U.length?U[5]:void 0;H.geometry=Q,H.feature=b,M in B||(B[M]=[]);var it=B[M];et?et(y,G,x,2,it):(it[0]=y[G],it[1]=y[G+1],it.length=2),tt(it,H),++M;break;case o.ZP.DRAW_IMAGE:G=U[1],x=U[2],k=U[3],v=U[4],m=U[5];var nt=U[6],ot=U[7],st=U[8],rt=U[9],at=U[10],lt=U[11],ht=U[12],ct=U[13],ut=U[14];if(!k&&U.length>=19){L=U[18],E=U[19],w=U[20],P=U[21];var _t=this.drawLabelWithPointPlacement_(L,E,w,P);k=_t.label,U[3]=k;var ft=U[22];v=(_t.anchorX-ft)*this.pixelRatio,U[4]=v;var pt=U[23];m=(_t.anchorY-pt)*this.pixelRatio,U[5]=m,nt=k.height,U[6]=nt,ct=k.width,U[13]=ct}var dt=void 0;U.length>24&&(dt=U[24]);var gt=void 0,yt=void 0,xt=void 0;U.length>16?(gt=U[15],yt=U[16],xt=U[17]):(gt=h.oB,yt=!1,xt=!1),at&&K?lt+=X:at||K||(lt-=X);for(var St=0;G<x;G+=2)if(!(dt&&dt[St++]<ct/this.pixelRatio)){var vt=[t,e,k,Ut=this.calculateImageOrLabelDimensions_(k.width,k.height,y[G],y[G+1],ct,nt,v,m,st,rt,lt,ht,r,gt,yt||xt,b),ot,yt?A:null,xt?Y:null],mt=void 0,Tt=void 0;if(g&&ut){if(!ut[G]){ut[G]=vt;continue}if(mt=ut[G],delete ut[G],Tt=S(mt),g.collides(Tt))continue}g&&g.collides(Ut.declutterBox)||(mt&&(g&&g.insert(Tt),this.replayImageOrLabel_.apply(this,mt)),g&&g.insert(Ut.declutterBox),this.replayImageOrLabel_.apply(this,vt))}++M;break;case o.ZP.DRAW_CHARS:var Ot=U[1],It=U[2],Ct=U[3],kt=U[4];P=U[5];var Lt=U[6],Et=U[7],wt=U[8];w=U[9];var Pt=U[10];L=U[11],E=U[12];var bt=[U[13],U[13]],Rt=this.textStates[E],Dt=Rt.font,Zt=[Rt.scale[0]*Et,Rt.scale[1]*Et],Mt=void 0;Dt in this.widths_?Mt=this.widths_[Dt]:(Mt={},this.widths_[Dt]=Mt);var Ft=(0,_.W)(y,Ot,It,2),Gt=Math.abs(Zt[0])*(0,h.Kd)(Dt,L,Mt);if(kt||Gt<=Ft){var Wt=this.textStates[E].textAlign,Nt=(Ft-Gt)*s.I[Wt],At=(0,c.q)(y,Ot,It,2,L,Nt,Lt,Math.abs(Zt[0]),h.Kd,Dt,Mt,K?0:this.viewRotation_);t:if(At){var Yt=[],Bt=void 0,Xt=void 0,Kt=void 0,Ht=void 0,Jt=void 0;if(w)for(Bt=0,Xt=At.length;Bt<Xt;++Bt){Kt=(Jt=At[Bt])[4],Ht=this.createLabel(Kt,E,"",w),v=Jt[2]+(Zt[0]<0?-Pt:Pt),m=Ct*Ht.height+2*(.5-Ct)*Pt*Zt[1]/Zt[0]-wt;var Ut=this.calculateImageOrLabelDimensions_(Ht.width,Ht.height,Jt[0],Jt[1],Ht.width,Ht.height,v,m,0,0,Jt[3],bt,!1,h.oB,!1,b);if(g&&g.collides(Ut.declutterBox))break t;Yt.push([t,e,Ht,Ut,1,null,null])}if(P)for(Bt=0,Xt=At.length;Bt<Xt;++Bt){Kt=(Jt=At[Bt])[4],Ht=this.createLabel(Kt,E,P,""),v=Jt[2],m=Ct*Ht.height-wt;Ut=this.calculateImageOrLabelDimensions_(Ht.width,Ht.height,Jt[0],Jt[1],Ht.width,Ht.height,v,m,0,0,Jt[3],bt,!1,h.oB,!1,b);if(g&&g.collides(Ut.declutterBox))break t;Yt.push([t,e,Ht,Ut,1,null,null])}g&&g.load(Yt.map(S));for(var Vt=0,jt=Yt.length;Vt<jt;++Vt)this.replayImageOrLabel_.apply(this,Yt[Vt])}}++M;break;case o.ZP.END_GEOMETRY:if(void 0!==p){var qt=p(b=U[1],Z);if(qt)return qt}++M;break;case o.ZP.FILL:J?W++:this.fill_(t),++M;break;case o.ZP.MOVE_TO_LINE_TO:for(G=U[1],x=U[2],R=y[G],C=(D=y[G+1])+.5|0,(I=R+.5|0)===T&&C===O||(t.moveTo(R,D),T=I,O=C),G+=2;G<x;G+=2)I=(R=y[G])+.5|0,C=(D=y[G+1])+.5|0,G!=x-2&&I===T&&C===O||(t.lineTo(R,D),T=I,O=C);++M;break;case o.ZP.SET_FILL_STYLE:A=U,this.alignFill_=U[2],W&&(this.fill_(t),W=0,N&&(t.stroke(),N=0)),t.fillStyle=U[1],++M;break;case o.ZP.SET_STROKE_STYLE:Y=U,N&&(t.stroke(),N=0),this.setStrokeStyle_(t,U),++M;break;case o.ZP.STROKE:J?N++:t.stroke(),++M;break;default:++M}}W&&this.fill_(t),N&&t.stroke()},t.prototype.execute=function(t,e,i,n,o,s){this.viewRotation_=n,this.execute_(t,e,i,this.instructions,o,void 0,void 0,s)},t.prototype.executeHitDetection=function(t,e,i,n,o){return this.viewRotation_=i,this.execute_(t,1,e,this.hitDetectionInstructions,!0,n,o)},t}();var O=i(85386),I=i(13580),C=[n.Z.POLYGON,n.Z.CIRCLE,n.Z.LINE_STRING,n.Z.IMAGE,n.Z.TEXT,n.Z.DEFAULT],k=function(){function t(t,e,i,n,o,s){this.maxExtent_=t,this.overlaps_=n,this.pixelRatio_=i,this.resolution_=e,this.renderBuffer_=s,this.executorsByZIndex_={},this.hitDetectionContext_=null,this.hitDetectionTransform_=(0,a.Ue)(),this.createExecutors_(o)}return t.prototype.clip=function(t,e){var i=this.getClipCoords(e);t.beginPath(),t.moveTo(i[0],i[1]),t.lineTo(i[2],i[3]),t.lineTo(i[4],i[5]),t.lineTo(i[6],i[7]),t.clip()},t.prototype.createExecutors_=function(t){for(var e in t){var i=this.executorsByZIndex_[e];void 0===i&&(i={},this.executorsByZIndex_[e]=i);var n=t[e],o=[this.renderBuffer_||0,this.renderBuffer_||0];for(var s in n){var r=n[s];i[s]=new T(this.resolution_,this.pixelRatio_,this.overlaps_,r,o)}}},t.prototype.hasExecutors=function(t){for(var e in this.executorsByZIndex_)for(var i=this.executorsByZIndex_[e],n=0,o=t.length;n<o;++n)if(t[n]in i)return!0;return!1},t.prototype.forEachFeatureAtCoordinate=function(t,e,i,o,s,r){var h=2*(o=Math.round(o))+1,c=(0,a.qC)(this.hitDetectionTransform_,o+.5,o+.5,1/e,-1/e,-i,-t[0],-t[1]),_=!this.hitDetectionContext_;_&&(this.hitDetectionContext_=(0,O.E4)(h,h));var f,p=this.hitDetectionContext_;p.canvas.width!==h||p.canvas.height!==h?(p.canvas.width=h,p.canvas.height=h):_||p.clearRect(0,0,h,h),void 0!==this.renderBuffer_&&(f=(0,l.lJ)(),(0,l.Wj)(f,t),(0,l.f3)(f,e*(this.renderBuffer_+o),f));var d,g=function(t){if(void 0!==L[t])return L[t];for(var e=2*t+1,i=t*t,n=new Array(i+1),o=0;o<=t;++o)for(var s=0;s<=t;++s){var r=o*o+s*s;if(r>i)break;var a=n[r];a||(a=[],n[r]=a),a.push(4*((t+o)*e+(t+s))+3),o>0&&a.push(4*((t-o)*e+(t+s))+3),s>0&&(a.push(4*((t+o)*e+(t-s))+3),o>0&&a.push(4*((t-o)*e+(t-s))+3))}for(var l=[],h=(o=0,n.length);o<h;++o)n[o]&&l.push.apply(l,n[o]);return L[t]=l,l}(o);function y(t,e){for(var i=p.getImageData(0,0,h,h).data,a=0,l=g.length;a<l;a++)if(i[g[a]]>0){if(!r||d!==n.Z.IMAGE&&d!==n.Z.TEXT||-1!==r.indexOf(t)){var c=(g[a]-3)/4,u=o-c%h,_=o-(c/h|0),f=s(t,e,u*u+_*_);if(f)return f}p.clearRect(0,0,h,h);break}}var x,S,v,m,T,I=Object.keys(this.executorsByZIndex_).map(Number);for(I.sort(u.kK),x=I.length-1;x>=0;--x){var k=I[x].toString();for(v=this.executorsByZIndex_[k],S=C.length-1;S>=0;--S)if(void 0!==(m=v[d=C[S]])&&(T=m.executeHitDetection(p,c,i,y,f)))return T}},t.prototype.getClipCoords=function(t){var e=this.maxExtent_;if(!e)return null;var i=e[0],n=e[1],o=e[2],s=e[3],r=[i,n,i,s,o,s,o,n];return(0,f.vT)(r,0,8,2,t,r),r},t.prototype.isEmpty=function(){return(0,I.xb)(this.executorsByZIndex_)},t.prototype.execute=function(t,e,i,n,o,s,r){var a=Object.keys(this.executorsByZIndex_).map(Number);a.sort(u.kK),this.maxExtent_&&(t.save(),this.clip(t,i));var l,h,c,_,f,p,d=s||C;for(r&&a.reverse(),l=0,h=a.length;l<h;++l){var g=a[l].toString();for(f=this.executorsByZIndex_[g],c=0,_=d.length;c<_;++c){void 0!==(p=f[d[c]])&&p.execute(t,e,i,n,o,r)}}this.maxExtent_&&t.restore()},t}(),L={};const E=k},76798:(t,e,i)=>{"use strict";i.d(e,{Z:()=>p});var n,o=i(28795),s=i(64889),r=i(45120),a=i(82359),l=i(68509),h=i(79682),c=i(21915),u=i(17882),_=i(32538),f=(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});const p=function(t){function e(e,i,n,o,s,r,l){var h=t.call(this)||this;return h.context_=e,h.pixelRatio_=i,h.extent_=n,h.transform_=o,h.viewRotation_=s,h.squaredTolerance_=r,h.userTransform_=l,h.contextFillState_=null,h.contextStrokeState_=null,h.contextTextState_=null,h.fillState_=null,h.strokeState_=null,h.image_=null,h.imageAnchorX_=0,h.imageAnchorY_=0,h.imageHeight_=0,h.imageOpacity_=0,h.imageOriginX_=0,h.imageOriginY_=0,h.imageRotateWithView_=!1,h.imageRotation_=0,h.imageScale_=[0,0],h.imageWidth_=0,h.text_="",h.textOffsetX_=0,h.textOffsetY_=0,h.textRotateWithView_=!1,h.textRotation_=0,h.textScale_=[0,0],h.textFillState_=null,h.textStrokeState_=null,h.textState_=null,h.pixelCoordinates_=[],h.tmpLocalTransform_=(0,a.Ue)(),h}return f(e,t),e.prototype.drawImages_=function(t,e,i,n){if(this.image_){var o=(0,u.vT)(t,e,i,2,this.transform_,this.pixelCoordinates_),s=this.context_,r=this.tmpLocalTransform_,l=s.globalAlpha;1!=this.imageOpacity_&&(s.globalAlpha=l*this.imageOpacity_);var h=this.imageRotation_;this.imageRotateWithView_&&(h+=this.viewRotation_);for(var c=0,_=o.length;c<_;c+=2){var f=o[c]-this.imageAnchorX_,p=o[c+1]-this.imageAnchorY_;if(0!==h||1!=this.imageScale_[0]||1!=this.imageScale_[1]){var d=f+this.imageAnchorX_,g=p+this.imageAnchorY_;(0,a.qC)(r,d,g,1,1,h,-d,-g),s.setTransform.apply(s,r),s.translate(d,g),s.scale(this.imageScale_[0],this.imageScale_[1]),s.drawImage(this.image_,this.imageOriginX_,this.imageOriginY_,this.imageWidth_,this.imageHeight_,-this.imageAnchorX_,-this.imageAnchorY_,this.imageWidth_,this.imageHeight_),s.setTransform(1,0,0,1,0,0)}else s.drawImage(this.image_,this.imageOriginX_,this.imageOriginY_,this.imageWidth_,this.imageHeight_,f,p,this.imageWidth_,this.imageHeight_)}1!=this.imageOpacity_&&(s.globalAlpha=l)}},e.prototype.drawText_=function(t,e,i,n){if(this.textState_&&""!==this.text_){this.textFillState_&&this.setContextFillState_(this.textFillState_),this.textStrokeState_&&this.setContextStrokeState_(this.textStrokeState_),this.setContextTextState_(this.textState_);var o=(0,u.vT)(t,e,i,n,this.transform_,this.pixelCoordinates_),s=this.context_,r=this.textRotation_;for(this.textRotateWithView_&&(r+=this.viewRotation_);e<i;e+=n){var l=o[e]+this.textOffsetX_,h=o[e+1]+this.textOffsetY_;if(0!==r||1!=this.textScale_[0]||1!=this.textScale_[1]){var c=(0,a.qC)(this.tmpLocalTransform_,l,h,1,1,r,-l,-h);s.setTransform.apply(s,c),s.translate(l,h),s.scale(this.textScale_[0],this.textScale_[1]),this.textStrokeState_&&s.strokeText(this.text_,0,0),this.textFillState_&&s.fillText(this.text_,0,0),s.setTransform(1,0,0,1,0,0)}else this.textStrokeState_&&s.strokeText(this.text_,l,h),this.textFillState_&&s.fillText(this.text_,l,h)}}},e.prototype.moveToLineTo_=function(t,e,i,n,o){var s=this.context_,r=(0,u.vT)(t,e,i,n,this.transform_,this.pixelCoordinates_);s.moveTo(r[0],r[1]);var a=r.length;o&&(a-=2);for(var l=2;l<a;l+=2)s.lineTo(r[l],r[l+1]);return o&&s.closePath(),i},e.prototype.drawRings_=function(t,e,i,n){for(var o=0,s=i.length;o<s;++o)e=this.moveToLineTo_(t,e,i[o],n,!0);return e},e.prototype.drawCircle=function(t){if((0,c.kK)(this.extent_,t.getExtent())){if(this.fillState_||this.strokeState_){this.fillState_&&this.setContextFillState_(this.fillState_),this.strokeState_&&this.setContextStrokeState_(this.strokeState_);var e=(0,_.Kr)(t,this.transform_,this.pixelCoordinates_),i=e[2]-e[0],n=e[3]-e[1],o=Math.sqrt(i*i+n*n),s=this.context_;s.beginPath(),s.arc(e[0],e[1],o,0,2*Math.PI),this.fillState_&&s.fill(),this.strokeState_&&s.stroke()}""!==this.text_&&this.drawText_(t.getCenter(),0,2,2)}},e.prototype.setStyle=function(t){this.setFillStrokeStyle(t.getFill(),t.getStroke()),this.setImageStyle(t.getImage()),this.setTextStyle(t.getText())},e.prototype.setTransform=function(t){this.transform_=t},e.prototype.drawGeometry=function(t){switch(t.getType()){case o.Z.POINT:this.drawPoint(t);break;case o.Z.LINE_STRING:this.drawLineString(t);break;case o.Z.POLYGON:this.drawPolygon(t);break;case o.Z.MULTI_POINT:this.drawMultiPoint(t);break;case o.Z.MULTI_LINE_STRING:this.drawMultiLineString(t);break;case o.Z.MULTI_POLYGON:this.drawMultiPolygon(t);break;case o.Z.GEOMETRY_COLLECTION:this.drawGeometryCollection(t);break;case o.Z.CIRCLE:this.drawCircle(t)}},e.prototype.drawFeature=function(t,e){var i=e.getGeometryFunction()(t);i&&(0,c.kK)(this.extent_,i.getExtent())&&(this.setStyle(e),this.drawGeometry(i))},e.prototype.drawGeometryCollection=function(t){for(var e=t.getGeometriesArray(),i=0,n=e.length;i<n;++i)this.drawGeometry(e[i])},e.prototype.drawPoint=function(t){this.squaredTolerance_&&(t=t.simplifyTransformed(this.squaredTolerance_,this.userTransform_));var e=t.getFlatCoordinates(),i=t.getStride();this.image_&&this.drawImages_(e,0,e.length,i),""!==this.text_&&this.drawText_(e,0,e.length,i)},e.prototype.drawMultiPoint=function(t){this.squaredTolerance_&&(t=t.simplifyTransformed(this.squaredTolerance_,this.userTransform_));var e=t.getFlatCoordinates(),i=t.getStride();this.image_&&this.drawImages_(e,0,e.length,i),""!==this.text_&&this.drawText_(e,0,e.length,i)},e.prototype.drawLineString=function(t){if(this.squaredTolerance_&&(t=t.simplifyTransformed(this.squaredTolerance_,this.userTransform_)),(0,c.kK)(this.extent_,t.getExtent())){if(this.strokeState_){this.setContextStrokeState_(this.strokeState_);var e=this.context_,i=t.getFlatCoordinates();e.beginPath(),this.moveToLineTo_(i,0,i.length,t.getStride(),!1),e.stroke()}if(""!==this.text_){var n=t.getFlatMidpoint();this.drawText_(n,0,2,2)}}},e.prototype.drawMultiLineString=function(t){this.squaredTolerance_&&(t=t.simplifyTransformed(this.squaredTolerance_,this.userTransform_));var e=t.getExtent();if((0,c.kK)(this.extent_,e)){if(this.strokeState_){this.setContextStrokeState_(this.strokeState_);var i=this.context_,n=t.getFlatCoordinates(),o=0,s=t.getEnds(),r=t.getStride();i.beginPath();for(var a=0,l=s.length;a<l;++a)o=this.moveToLineTo_(n,o,s[a],r,!1);i.stroke()}if(""!==this.text_){var h=t.getFlatMidpoints();this.drawText_(h,0,h.length,2)}}},e.prototype.drawPolygon=function(t){if(this.squaredTolerance_&&(t=t.simplifyTransformed(this.squaredTolerance_,this.userTransform_)),(0,c.kK)(this.extent_,t.getExtent())){if(this.strokeState_||this.fillState_){this.fillState_&&this.setContextFillState_(this.fillState_),this.strokeState_&&this.setContextStrokeState_(this.strokeState_);var e=this.context_;e.beginPath(),this.drawRings_(t.getOrientedFlatCoordinates(),0,t.getEnds(),t.getStride()),this.fillState_&&e.fill(),this.strokeState_&&e.stroke()}if(""!==this.text_){var i=t.getFlatInteriorPoint();this.drawText_(i,0,2,2)}}},e.prototype.drawMultiPolygon=function(t){if(this.squaredTolerance_&&(t=t.simplifyTransformed(this.squaredTolerance_,this.userTransform_)),(0,c.kK)(this.extent_,t.getExtent())){if(this.strokeState_||this.fillState_){this.fillState_&&this.setContextFillState_(this.fillState_),this.strokeState_&&this.setContextStrokeState_(this.strokeState_);var e=this.context_,i=t.getOrientedFlatCoordinates(),n=0,o=t.getEndss(),s=t.getStride();e.beginPath();for(var r=0,a=o.length;r<a;++r){var l=o[r];n=this.drawRings_(i,n,l,s)}this.fillState_&&e.fill(),this.strokeState_&&e.stroke()}if(""!==this.text_){var h=t.getFlatInteriorPoints();this.drawText_(h,0,h.length,2)}}},e.prototype.setContextFillState_=function(t){var e=this.context_,i=this.contextFillState_;i?i.fillStyle!=t.fillStyle&&(i.fillStyle=t.fillStyle,e.fillStyle=t.fillStyle):(e.fillStyle=t.fillStyle,this.contextFillState_={fillStyle:t.fillStyle})},e.prototype.setContextStrokeState_=function(t){var e=this.context_,i=this.contextStrokeState_;i?(i.lineCap!=t.lineCap&&(i.lineCap=t.lineCap,e.lineCap=t.lineCap),e.setLineDash&&((0,h.fS)(i.lineDash,t.lineDash)||e.setLineDash(i.lineDash=t.lineDash),i.lineDashOffset!=t.lineDashOffset&&(i.lineDashOffset=t.lineDashOffset,e.lineDashOffset=t.lineDashOffset)),i.lineJoin!=t.lineJoin&&(i.lineJoin=t.lineJoin,e.lineJoin=t.lineJoin),i.lineWidth!=t.lineWidth&&(i.lineWidth=t.lineWidth,e.lineWidth=t.lineWidth),i.miterLimit!=t.miterLimit&&(i.miterLimit=t.miterLimit,e.miterLimit=t.miterLimit),i.strokeStyle!=t.strokeStyle&&(i.strokeStyle=t.strokeStyle,e.strokeStyle=t.strokeStyle)):(e.lineCap=t.lineCap,e.setLineDash&&(e.setLineDash(t.lineDash),e.lineDashOffset=t.lineDashOffset),e.lineJoin=t.lineJoin,e.lineWidth=t.lineWidth,e.miterLimit=t.miterLimit,e.strokeStyle=t.strokeStyle,this.contextStrokeState_={lineCap:t.lineCap,lineDash:t.lineDash,lineDashOffset:t.lineDashOffset,lineJoin:t.lineJoin,lineWidth:t.lineWidth,miterLimit:t.miterLimit,strokeStyle:t.strokeStyle})},e.prototype.setContextTextState_=function(t){var e=this.context_,i=this.contextTextState_,n=t.textAlign?t.textAlign:l.PH;i?(i.font!=t.font&&(i.font=t.font,e.font=t.font),i.textAlign!=n&&(i.textAlign=n,e.textAlign=n),i.textBaseline!=t.textBaseline&&(i.textBaseline=t.textBaseline,e.textBaseline=t.textBaseline)):(e.font=t.font,e.textAlign=n,e.textBaseline=t.textBaseline,this.contextTextState_={font:t.font,textAlign:n,textBaseline:t.textBaseline})},e.prototype.setFillStrokeStyle=function(t,e){if(t){var i=t.getColor();this.fillState_={fillStyle:(0,r.y)(i||l.bL)}}else this.fillState_=null;if(e){var n=e.getColor(),o=e.getLineCap(),s=e.getLineDash(),a=e.getLineDashOffset(),h=e.getLineJoin(),c=e.getWidth(),u=e.getMiterLimit();this.strokeState_={lineCap:void 0!==o?o:l.mb,lineDash:s||l.X9,lineDashOffset:a||l.He,lineJoin:void 0!==h?h:l.rc,lineWidth:this.pixelRatio_*(void 0!==c?c:l.yC),miterLimit:void 0!==u?u:l.V4,strokeStyle:(0,r.y)(n||l.Tx)}}else this.strokeState_=null},e.prototype.setImageStyle=function(t){if(t){var e=t.getSize();if(e){var i=t.getAnchor(),n=t.getImage(1),o=t.getOrigin(),s=t.getScaleArray();this.imageAnchorX_=i[0],this.imageAnchorY_=i[1],this.imageHeight_=e[1],this.image_=n,this.imageOpacity_=t.getOpacity(),this.imageOriginX_=o[0],this.imageOriginY_=o[1],this.imageRotateWithView_=t.getRotateWithView(),this.imageRotation_=t.getRotation(),this.imageScale_=[this.pixelRatio_*s[0],this.pixelRatio_*s[1]],this.imageWidth_=e[0]}else this.image_=null}else this.image_=null},e.prototype.setTextStyle=function(t){if(t){var e=t.getFill();if(e){var i=e.getColor();this.textFillState_={fillStyle:(0,r.y)(i||l.bL)}}else this.textFillState_=null;var n=t.getStroke();if(n){var o=n.getColor(),s=n.getLineCap(),a=n.getLineDash(),h=n.getLineDashOffset(),c=n.getLineJoin(),u=n.getWidth(),_=n.getMiterLimit();this.textStrokeState_={lineCap:void 0!==s?s:l.mb,lineDash:a||l.X9,lineDashOffset:h||l.He,lineJoin:void 0!==c?c:l.rc,lineWidth:void 0!==u?u:l.yC,miterLimit:void 0!==_?_:l.V4,strokeStyle:(0,r.y)(o||l.Tx)}}else this.textStrokeState_=null;var f=t.getFont(),p=t.getOffsetX(),d=t.getOffsetY(),g=t.getRotateWithView(),y=t.getRotation(),x=t.getScaleArray(),S=t.getText(),v=t.getTextAlign(),m=t.getTextBaseline();this.textState_={font:void 0!==f?f:l.Df,textAlign:void 0!==v?v:l.PH,textBaseline:void 0!==m?m:l.ru},this.text_=void 0!==S?S:"",this.textOffsetX_=void 0!==p?this.pixelRatio_*p:0,this.textOffsetY_=void 0!==d?this.pixelRatio_*d:0,this.textRotateWithView_=void 0!==g&&g,this.textRotation_=void 0!==y?y:0,this.textScale_=[this.pixelRatio_*x[0],this.pixelRatio_*x[1]]}else this.text_=""},e}(s.Z)},68186:(t,e,i)=>{"use strict";i.d(e,{gO:()=>o,Yc:()=>s,$O:()=>r,s3:()=>a,ZP:()=>l});var n={BEGIN_GEOMETRY:0,BEGIN_PATH:1,CIRCLE:2,CLOSE_PATH:3,CUSTOM:4,DRAW_CHARS:5,DRAW_IMAGE:6,END_GEOMETRY:7,FILL:8,MOVE_TO_LINE_TO:9,SET_FILL_STYLE:10,SET_STROKE_STYLE:11,STROKE:12},o=[n.FILL],s=[n.STROKE],r=[n.BEGIN_PATH],a=[n.CLOSE_PATH];const l=n},66854:(t,e,i)=>{"use strict";i.d(e,{I:()=>p,Z:()=>d});var n,o=i(80567),s=i(68186),r=i(28795),a=i(78288),l=i(45120),h=i(68509),c=i(49179),u=i(21915),_=i(7853),f=(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),p={left:0,end:0,center:.5,right:1,start:1,top:0,middle:.5,hanging:.2,alphabetic:.8,ideographic:.8,bottom:1};const d=function(t){function e(e,i,n,o){var s=t.call(this,e,i,n,o)||this;return s.labels_=null,s.text_="",s.textOffsetX_=0,s.textOffsetY_=0,s.textRotateWithView_=void 0,s.textRotation_=0,s.textFillState_=null,s.fillStates={},s.textStrokeState_=null,s.strokeStates={},s.textState_={},s.textStates={},s.textKey_="",s.fillKey_="",s.strokeKey_="",s.declutterImageWithText_=void 0,s}return f(e,t),e.prototype.finish=function(){var e=t.prototype.finish.call(this);return e.textStates=this.textStates,e.fillStates=this.fillStates,e.strokeStates=this.strokeStates,e},e.prototype.drawText=function(t,e){var i=this.textFillState_,n=this.textStrokeState_,o=this.textState_;if(""!==this.text_&&o&&(i||n)){var l=this.coordinates,c=l.length,f=t.getType(),p=null,d=t.getStride();if(o.placement!==a.Z.LINE||f!=r.Z.LINE_STRING&&f!=r.Z.MULTI_LINE_STRING&&f!=r.Z.POLYGON&&f!=r.Z.MULTI_POLYGON){var g=o.overflow?null:[];switch(f){case r.Z.POINT:case r.Z.MULTI_POINT:p=t.getFlatCoordinates();break;case r.Z.LINE_STRING:p=t.getFlatMidpoint();break;case r.Z.CIRCLE:p=t.getCenter();break;case r.Z.MULTI_LINE_STRING:p=t.getFlatMidpoints(),d=2;break;case r.Z.POLYGON:p=t.getFlatInteriorPoint(),o.overflow||g.push(p[2]/this.resolution),d=3;break;case r.Z.MULTI_POLYGON:var y=t.getFlatInteriorPoints();p=[];for(L=0,E=y.length;L<E;L+=3)o.overflow||g.push(y[L+2]/this.resolution),p.push(y[L],y[L+1]);if(0===p.length)return;d=2}if((M=this.appendFlatPointCoordinates(p,d))===c)return;this.saveTextStates_(),(o.backgroundFill||o.backgroundStroke)&&(this.setFillStrokeStyle(o.backgroundFill,o.backgroundStroke),o.backgroundFill&&(this.updateFillStyle(this.state,this.createFill),this.hitDetectionInstructions.push(this.createFill(this.state))),o.backgroundStroke&&(this.updateStrokeStyle(this.state,this.applyStroke),this.hitDetectionInstructions.push(this.createStroke(this.state)))),this.beginGeometry(t,e);var x=o.padding;if(x!=h.oB&&(o.scale[0]<0||o.scale[1]<0)){var S=o.padding[0],v=o.padding[1],m=o.padding[2],T=o.padding[3];o.scale[0]<0&&(v=-v,T=-T),o.scale[1]<0&&(S=-S,m=-m),x=[S,v,m,T]}var O=this.pixelRatio;this.instructions.push([s.ZP.DRAW_IMAGE,c,M,null,NaN,NaN,NaN,1,0,0,this.textRotateWithView_,this.textRotation_,[1,1],NaN,this.declutterImageWithText_,x==h.oB?h.oB:x.map((function(t){return t*O})),!!o.backgroundFill,!!o.backgroundStroke,this.text_,this.textKey_,this.strokeKey_,this.fillKey_,this.textOffsetX_,this.textOffsetY_,g]);var I=1/O;this.hitDetectionInstructions.push([s.ZP.DRAW_IMAGE,c,M,null,NaN,NaN,NaN,1,0,0,this.textRotateWithView_,this.textRotation_,[I,I],NaN,this.declutterImageWithText_,x,!!o.backgroundFill,!!o.backgroundStroke,this.text_,this.textKey_,this.strokeKey_,this.fillKey_,this.textOffsetX_,this.textOffsetY_,g]),this.endGeometry(e)}else{if(!(0,u.kK)(this.getBufferedMaxExtent(),t.getExtent()))return;var C=void 0;if(p=t.getFlatCoordinates(),f==r.Z.LINE_STRING)C=[p.length];else if(f==r.Z.MULTI_LINE_STRING)C=t.getEnds();else if(f==r.Z.POLYGON)C=t.getEnds().slice(0,1);else if(f==r.Z.MULTI_POLYGON){var k=t.getEndss();C=[];for(var L=0,E=k.length;L<E;++L)C.push(k[L][0])}this.beginGeometry(t,e);for(var w=o.textAlign,P=0,b=void 0,R=0,D=C.length;R<D;++R){if(null==w){var Z=(0,_._)(o.maxAngle,p,P,C[R],d);P=Z[0],b=Z[1]}else b=C[R];for(var L=P;L<b;L+=d)l.push(p[L],p[L+1]);var M=l.length;P=C[R],this.drawChars_(c,M),c=M}this.endGeometry(e)}}},e.prototype.saveTextStates_=function(){var t=this.textStrokeState_,e=this.textState_,i=this.textFillState_,n=this.strokeKey_;t&&(n in this.strokeStates||(this.strokeStates[n]={strokeStyle:t.strokeStyle,lineCap:t.lineCap,lineDashOffset:t.lineDashOffset,lineWidth:t.lineWidth,lineJoin:t.lineJoin,miterLimit:t.miterLimit,lineDash:t.lineDash}));var o=this.textKey_;o in this.textStates||(this.textStates[o]={font:e.font,textAlign:e.textAlign||h.PH,textBaseline:e.textBaseline||h.ru,scale:e.scale});var s=this.fillKey_;i&&(s in this.fillStates||(this.fillStates[s]={fillStyle:i.fillStyle}))},e.prototype.drawChars_=function(t,e){var i=this.textStrokeState_,n=this.textState_,o=this.strokeKey_,r=this.textKey_,a=this.fillKey_;this.saveTextStates_();var l=this.pixelRatio,h=p[n.textBaseline],c=this.textOffsetY_*l,u=this.text_,_=i?i.lineWidth*Math.abs(n.scale[0])/2:0;this.instructions.push([s.ZP.DRAW_CHARS,t,e,h,n.overflow,a,n.maxAngle,l,c,o,_*l,u,r,1]),this.hitDetectionInstructions.push([s.ZP.DRAW_CHARS,t,e,h,n.overflow,a,n.maxAngle,1,c,o,_,u,r,1/l])},e.prototype.setTextStyle=function(t,e){var i,n,o;if(t){var s=t.getFill();s?((n=this.textFillState_)||(n={},this.textFillState_=n),n.fillStyle=(0,l.y)(s.getColor()||h.bL)):(n=null,this.textFillState_=n);var r=t.getStroke();if(r){(o=this.textStrokeState_)||(o={},this.textStrokeState_=o);var a=r.getLineDash(),u=r.getLineDashOffset(),_=r.getWidth(),f=r.getMiterLimit();o.lineCap=r.getLineCap()||h.mb,o.lineDash=a?a.slice():h.X9,o.lineDashOffset=void 0===u?h.He:u,o.lineJoin=r.getLineJoin()||h.rc,o.lineWidth=void 0===_?h.yC:_,o.miterLimit=void 0===f?h.V4:f,o.strokeStyle=(0,l.y)(r.getColor()||h.Tx)}else o=null,this.textStrokeState_=o;i=this.textState_;var p=t.getFont()||h.Df;(0,h.Qx)(p);var d=t.getScaleArray();i.overflow=t.getOverflow(),i.font=p,i.maxAngle=t.getMaxAngle(),i.placement=t.getPlacement(),i.textAlign=t.getTextAlign(),i.textBaseline=t.getTextBaseline()||h.ru,i.backgroundFill=t.getBackgroundFill(),i.backgroundStroke=t.getBackgroundStroke(),i.padding=t.getPadding()||h.oB,i.scale=void 0===d?[1,1]:d;var g=t.getOffsetX(),y=t.getOffsetY(),x=t.getRotateWithView(),S=t.getRotation();this.text_=t.getText()||"",this.textOffsetX_=void 0===g?0:g,this.textOffsetY_=void 0===y?0:y,this.textRotateWithView_=void 0!==x&&x,this.textRotation_=void 0===S?0:S,this.strokeKey_=o?("string"==typeof o.strokeStyle?o.strokeStyle:(0,c.sq)(o.strokeStyle))+o.lineCap+o.lineDashOffset+"|"+o.lineWidth+o.lineJoin+o.miterLimit+"["+o.lineDash.join()+"]":"",this.textKey_=i.font+i.scale+(i.textAlign||"?")+(i.textBaseline||"?"),this.fillKey_=n?"string"==typeof n.fillStyle?n.fillStyle:"|"+(0,c.sq)(n.fillStyle):""}else this.text_="";this.declutterImageWithText_=e},e}(o.Z)},17356:(t,e,i)=>{"use strict";i.d(e,{T:()=>c,i:()=>u});var n=i(76798),o=i(28795),s=i(94814),r=i(8732),a=i(85386),l=i(21915),h=i(79682);function c(t,e,i,c,u,_,f){var p=t[0]/2,d=t[1]/2,g=(0,a.E4)(p,d);g.imageSmoothingEnabled=!1;for(var y=g.canvas,x=new n.Z(g,.5,u,null,f),S=i.length,v=Math.floor(16777215/S),m={},T=1;T<=S;++T){var O=i[T-1],I=O.getStyleFunction()||c;if(c){var C=I(O,_);if(C){Array.isArray(C)||(C=[C]);for(var k="#"+("000000"+(T*v).toString(16)).slice(-6),L=0,E=C.length;L<E;++L){var w=C[L],P=w.clone(),b=P.getFill();b&&b.setColor(k);var R=P.getStroke();R&&R.setColor(k),P.setText(void 0);var D=w.getImage();if(D){var Z=D.getImageSize();if(!Z)continue;var M=document.createElement("canvas");M.width=Z[0],M.height=Z[1];var F=M.getContext("2d",{alpha:!1});F.fillStyle=k;var G=F.canvas;F.fillRect(0,0,G.width,G.height);var W=Z?Z[0]:G.width,N=Z?Z[1]:G.height;(0,a.E4)(W,N).drawImage(G,0,0),P.setImage(new r.Z({img:G,imgSize:Z,anchor:D.getAnchor(),anchorXUnits:s.Z.PIXELS,anchorYUnits:s.Z.PIXELS,offset:D.getOrigin(),size:D.getSize(),opacity:D.getOpacity(),scale:D.getScale(),rotation:D.getRotation(),rotateWithView:D.getRotateWithView()}))}var A=Number(P.getZIndex());(K=m[A])||(K={},m[A]=K,K[o.Z.POLYGON]=[],K[o.Z.CIRCLE]=[],K[o.Z.LINE_STRING]=[],K[o.Z.POINT]=[]);var Y=P.getGeometryFunction()(O);Y&&(0,l.kK)(u,Y.getExtent())&&K[Y.getType().replace("Multi","")].push(Y,P)}}}}for(var B=Object.keys(m).map(Number).sort(h.kK),X=(T=0,B.length);T<X;++T){var K=m[B[T]];for(var H in K){var J=K[H];for(L=0,E=J.length;L<E;L+=2){x.setStyle(J[L+1]);for(var U=0,V=e.length;U<V;++U)x.setTransform(e[U]),x.drawGeometry(J[L])}}}return g.getImageData(0,0,y.width,y.height)}function u(t,e,i){var n=[];if(i){var o=4*(Math.round(t[0]/2)+Math.round(t[1]/2)*i.width),s=i.data[o],r=i.data[o+1],a=i.data[o+2]+256*(r+256*s),l=Math.floor(16777215/e.length);a&&a%l==0&&n.push(e[a/l-1])}return n}}}]);