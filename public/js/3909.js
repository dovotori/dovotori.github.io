"use strict";(self.webpackChunkdovotori=self.webpackChunkdovotori||[]).push([[3909],{33909(t,i,s){s.r(i),s.d(i,{default:()=>d});var e=s(17556);function o(t,i,s){this.x=0,this.y=0,this.z=0,(t||i||s)&&(this.x=t,this.y=i,this.z=s)}function n(){this.position=new o(0,0,0),this.vitesse=new o(1,1,1),this.radius=100,this.strength=-10,this.ramp=1}function h(){this.position=new o(0,0,0),this.velocity=new o(0,0,0)}function c(){this.subpaths=[],this.isLoaded=!1}function p(){this.length=1,this.stiffness=.6,this.damping=.9}o.prototype.init=function(){this.x=0,this.y=0,this.z=0},o.prototype.normaliser=function(){const t=Math.sqrt(this.x**2+this.y**2+this.z**2);0!==t&&(this.x/=t,this.y/=t,this.z/=t)},o.prototype.afficher=function(){alert(`v: ${this.x} ${this.y} ${this.z}`)},o.prototype.produitVectoriel=function(t,i){this.x=t.y*i.z-t.z*i.y,this.y=t.z*i.x-t.x*i.z,this.z=t.x*i.y-t.y*i.x},o.prototype.produitScalaire=(t,i)=>t.x*i.x+t.y*i.y+t.z*i.z,o.prototype.set=function(t,i,s){this.x=t,this.y=i,this.z=s},o.prototype.egale=function(t){this.x=t.x,this.y=t.y,this.z=t.z},o.prototype.moins=function(t){const i=new o;return i.x=this.x-t.x,i.y=this.y-t.y,i.z=this.z-t.z,i},o.prototype.multiply=function(t){this.x*=t,this.y*=t,this.z*=t},o.prototype.addVector=function(t){this.x+=t.x,this.y+=t.y,this.z+=t.z},o.prototype.distance=function(t){return Math.sqrt((t.y-this.y)*(t.y-this.y)+(t.x-this.x)*(t.x-this.x))},n.prototype.update=function(t,i){(this.position.x<0||this.position.x>t)&&(this.vitesse.x*=-1),(this.position.y<0||this.position.y>i)&&(this.vitesse.y*=-1),this.position.x+=this.vitesse.x,this.position.y+=this.vitesse.y},n.prototype.draw=function(){context.fillRect(this.position.x-5,this.position.y-5,10,10)},n.prototype.attract=function(t){const i=this.position.x-t.position.x,s=this.position.y-t.position.y,e=this.position.z-t.position.z,o=Math.sqrt(i*i+s*s+e*e);if(o>0&&o<this.radius){let n=1/(o/this.radius)**(.5*this.ramp)-1;n=this.strength*n/this.radius,t.velocity.x+=i*n,t.velocity.y+=s*n,t.velocity.z+=e*n}},n.prototype.setPosition=function(t,i,s){this.position.set(t,i,s)},h.damping=.3,h.minX=0,h.minY=0,h.minZ=0,h.maxX=1e3,h.maxY=1e3,h.maxZ=1e3,h.prototype.update=function(t,i,s){t||(this.position.x+=this.velocity.x),i||(this.position.y+=this.velocity.y),s||(this.position.z+=this.velocity.z),this.position.x<h.minX&&(this.position.x=h.minX-(this.position.x-h.minX),this.velocity.x*=-1),this.position.x>h.maxX&&(this.position.x=h.maxX-(this.position.x-h.maxX),this.velocity.x*=-1),this.position.y<h.minY&&(this.position.y=h.minY-(this.position.y-h.minY),this.velocity.y*=-1),this.position.y>h.maxY&&(this.position.y=h.maxY-(this.position.y-h.maxY),this.velocity.y*=-1),this.position.z<h.minZ&&(this.position.z=h.minZ-(this.position.z-h.minZ),this.velocity.z*=-1),this.position.z>h.maxZ&&(this.position.z=h.maxZ-(this.position.z-h.maxZ),this.velocity.z*=-1),this.velocity.multiply(h.damping)},h.prototype.draw=function(){context.fillRect(this.position.x,this.position.y,1,1)},h.setBox=(t,i,s,e,o,n)=>{h.minX=t,h.minY=i,h.minZ=s,h.maxX=e,h.maxY=o,h.maxZ=n},h.prototype.setPosition=function(t,i,s){this.position.set(t,i,s)},c.prototype.setup=function(t){const i=t.getElementsByTagName("path");this.isLoaded=!1,this.subpaths=[];for(let t=0;t<i.length;t++){let s=i[t].getAttribute("d");const e=[];let o=0;for(let t=0;t<s.length;t++){const i=s.charAt(t);0===i.search(/[mMAaLlCcSsQqVvHhTZz]/g)&&(e[o]=i,o++)}s=s.replace(/[mMAaLlCcsSsQqVvHhTZz]/g,"*");const n=s.split("*"),h=[];for(let t=1;t<n.length;t++){n[t]=n[t].replace(/,/g," "),n[t]=n[t].replace(/-/g," -"),h[t-1]=[];const i=n[t].split(" ");o=0;for(let s=0;s<i.length;s++)i[s].length>0&&(h[t-1][o]=parseFloat(i[s]),o++)}let c=[],p=0,l=0,a=0;for(let t=0;t<e.length;t++){let i=0,s=!1,o=!1,n=!1,r=!1;switch(e[t]){case"M":case"L":s=!1,i=2;break;case"m":case"l":s=!0,i=2;break;case"H":s=!1,i=1,o=!0;break;case"h":s=!0,i=1,o=!0;break;case"V":s=!1,i=1,n=!0;break;case"v":s=!0,i=1,n=!0;break;case"S":s=!1,i=4;break;case"s":s=!0,i=4;break;case"C":s=!1,i=6;break;case"c":s=!0,i=6;break;case"Z":case"z":r=!0}const y=h[t];if(r)c.length>0&&c.push([...c[0]]);else if(o){if(!y||y.length<i)continue;for(let t=0;t<y.length;t+=i){let i;i=s?p+y[t]:y[t],p=i;const e=l;c.push([i,e]),a+=2}}else if(n){if(!y||y.length<i)continue;for(let t=0;t<y.length;t+=i){let i;i=s?l+y[t]:y[t],l=i;const e=p;c.push([e,i]),a+=2}}else if(y&&!(y.length<i)&&0!==i)for(let o=0;o<=y.length-i;o+=i){let n,h;!s||a<2?(n=y[o+i-2],h=y[o+i-1]):(n=p+y[o+i-2],h=l+y[o+i-1]),p=n,l=h,"M"!==e[t]&&"m"!==e[t]||(c.length>0&&this.subpaths.push(c),c=[]),c.push([n,h]),a+=2}}c.length>0&&this.subpaths.push(c)}this.isLoaded=!0},c.prototype.getPoints=function(){return this.subpaths},c.prototype.isReady=function(){return this.isLoaded},p.prototype.update=function(t,i){let s=new o(0,0,0);const e=new o(0,0,0);let n=new o(0,0,0);s=t.moins(i.position),s.normaliser(),s.multiply(-1*this.length),e.egale(t),e.addVector(s),n=e.moins(i.position),n.multiply(this.stiffness),n.multiply(1-this.damping),i.velocity.addVector(n)};const l=new n;let a=null,r=[],y=[];const u=[];let f=0,g=null,m=0,x=Date.now();const d=async()=>{const t=document.querySelector("#embed-svg");function i(){a.width=window.innerWidth,a.height=window.innerHeight,h.setBox(0,0,0,a.width,a.height,1e3)}a=document.querySelector("#canvas-svg"),i(),g=a.getContext("2d"),window.addEventListener("resize",(()=>{i()})),t.onload=()=>{const i=t.getSVGDocument().getElementsByTagName("svg")[0];m=(0,e.cy)(Math.min(a.width,a.height),0,1e4,0,1600);const s=function(t){const i=new c;return i.setup(t),i.getPoints()}(i),o=s.flat(),n=(t=>{let i=400,s=400;const e=t.getAttribute("viewBox");if(e){const t=e.split(/\s+|,/).map(parseFloat);4===t.length&&(i=t[2],s=t[3])}return Number.isNaN(i)&&(i=400),Number.isNaN(s)&&(s=400),{width:i,height:s}})(i),f=a.getBoundingClientRect(),g=Math.min(f.width/n.width,f.height/n.height);let x=1/0,d=1/0,z=-1/0,b=-1/0;for(let t=0;t<o.length;t++){const[i,s]=o[t];i<x&&(x=i),i>z&&(z=i),s<d&&(d=s),s>b&&(b=s)}const k=(z-x)*g,Z=(b-d)*g,S=(a.width-k)/2-x*g,X=(a.height-Z)/2-d*g;u.length=0;for(let t=0;t<o.length;t++)u[2*t]=o[t][0]*g+S,u[2*t+1]=o[t][1]*g+X;h.setBox(-100,-100,0,a.width+100,a.height+100,0);const Y=function(t){l.setPosition(0,0,0);let i=0;const s=[],e=[];for(let o=0;o<t.length;o+=2,i++)s[i]=new h,s[i].setPosition(t[o],t[o+1],0),e[i]=new p;return{nodes:s,springs:e}}(u);r=Y.nodes,y=Y.springs,window.addEventListener("mousemove",w,!1),window.requestAnimationFrame(v)},t.src=(0,e.Pl)("/svg/leaf3.svg")};function w(t){t.preventDefault();const i=a.getBoundingClientRect();let s=t.clientX-i.left,o=t.clientY-i.top;s=(0,e.cy)(s,0,a.offsetWidth,0,a.width),o=(0,e.cy)(o,0,a.offsetHeight,0,a.height),l.setPosition(s,o,0)}function v(){const t=Date.now();t-x>25&&(g.clearRect(0,0,a.width,a.height),g.fillStyle="#fff",function(){for(let t=0;t<r.length;t++)l.attract(r[t]),r[t].update(!1,!1,!0),z(t)}(),function(){let t=0;for(let i=0;i<u.length;i+=2,t++){const s=u[i],e=u[i+1];g.fillRect(s,e,4,4);const n=r[t].position.x,h=r[t].position.y;g.fillRect(n-2,h-2,4,4),g.strokeStyle="rgba(255, 255, 255, 0.8)",g.beginPath(),g.moveTo(s+2,e+2),g.lineTo(n,h),g.stroke();const c=new o(s,e,0);y[t].update(c,r[t])}}(),x=t),window.requestAnimationFrame(v)}function z(t){const i=m+Math.cos(f)*(m/8);f+=1e-4;for(let s=0;s<r.length;s++){const o=r[t].position.distance(r[s].position);if(o>1&&o<i){let n=0;n=o>i/2?(0,e.cy)(o,i/2,i,1,.2):(0,e.cy)(o,0,i/2,.2,1),g.strokeStyle=`rgba(255, 255, 255, ${n})`,g.beginPath(),g.moveTo(r[t].position.x,r[t].position.y),g.lineTo(r[s].position.x,r[s].position.y),g.stroke()}}g.strokeStyle="#fff"}}}]);