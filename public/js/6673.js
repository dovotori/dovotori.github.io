"use strict";(self.webpackChunkdovotori=self.webpackChunkdovotori||[]).push([[6673],{25176:(e,t,r)=>{r.d(t,{$N:()=>s,K5:()=>l,Q5:()=>o,Si:()=>n,XI:()=>a,nT:()=>i});const n="ol-hidden",o="ol-selectable",a="ol-unselectable",s="ol-control",i="ol-collapsed",u=new RegExp(["^\\s*(?=(?:(?:[-a-z]+\\s*){0,2}(italic|oblique))?)","(?=(?:(?:[-a-z]+\\s*){0,2}(small-caps))?)","(?=(?:(?:[-a-z]+\\s*){0,2}(bold(?:er)?|lighter|[1-9]00 ))?)","(?:(?:normal|\\1|\\2|\\3)\\s*){0,3}((?:xx?-)?","(?:small|large)|medium|smaller|larger|[\\.\\d]+(?:\\%|in|[cem]m|ex|p[ctx]))","(?:\\s*\\/\\s*(normal|[\\.\\d]+(?:\\%|in|[cem]m|ex|p[ctx])?))","?\\s*([-,\\\"\\'\\sa-z]+?)\\s*$"].join(""),"i"),c=["style","variant","weight","size","lineHeight","family"],l=function(e){const t=e.match(u);if(!t)return null;const r={lineHeight:"normal",size:"1.2em",style:"normal",weight:"normal",variant:"normal"};for(let e=0,n=c.length;e<n;++e){const n=t[e+1];void 0!==n&&(r[c[e]]=n)}return r.families=r.family.split(/,\s?/),r}},68711:(e,t,r)=>{r.d(t,{DK:()=>c,Gq:()=>u,WM:()=>p,Y:()=>o,Yg:()=>i,fo:()=>l,gS:()=>f,lr:()=>s});var n=r(7771);function o(e,t,r,o){let a;return a=r&&r.length?r.shift():n.Wl?new OffscreenCanvas(e||300,t||300):document.createElement("canvas"),e&&(a.width=e),t&&(a.height=t),a.getContext("2d",o)}let a;function s(){return a||(a=o(1,1)),a}function i(e){const t=e.canvas;t.width=1,t.height=1,e.clearRect(0,0,1,1)}function u(e){let t=e.offsetWidth;const r=getComputedStyle(e);return t+=parseInt(r.marginLeft,10)+parseInt(r.marginRight,10),t}function c(e){let t=e.offsetHeight;const r=getComputedStyle(e);return t+=parseInt(r.marginTop,10)+parseInt(r.marginBottom,10),t}function l(e,t){const r=t.parentNode;r&&r.replaceChild(e,t)}function f(e){for(;e.lastChild;)e.lastChild.remove()}function p(e,t){const r=e.childNodes;for(let n=0;;++n){const o=r[n],a=t[n];if(!o&&!a)break;o!==a&&(o?a?e.insertBefore(a,o):(e.removeChild(o),--n):e.appendChild(a))}}},93474:(e,t,r)=>{function n(e){return Math.pow(e,3)}function o(e){return 1-n(1-e)}function a(e){return 3*e*e-2*e*e*e}function s(e){return e}r.d(t,{T9:()=>a,a6:()=>n,sn:()=>s,vT:()=>o})},9438:(e,t,r)=>{r.d(t,{JH:()=>s,Jz:()=>a,KT:()=>o});var n=r(43530);function o(e,t,r,n,o){if(o){const o=r;r=function(){e.removeEventListener(t,r),o.apply(n??this,arguments)}}else n&&n!==e&&(r=r.bind(n));const a={target:e,type:t,listener:r};return e.addEventListener(t,r),a}function a(e,t,r,n){return o(e,t,r,n,!0)}function s(e){e&&e.target&&(e.target.removeEventListener(e.type,e.listener),(0,n.I)(e))}},1685:(e,t,r)=>{r.d(t,{Ay:()=>n});const n=class{constructor(e){this.propagationStopped,this.defaultPrevented,this.type=e,this.target=null}preventDefault(){this.defaultPrevented=!0}stopPropagation(){this.propagationStopped=!0}}},6837:(e,t,r)=>{r.d(t,{A:()=>n});const n={CHANGE:"change",ERROR:"error",BLUR:"blur",CLEAR:"clear",CONTEXTMENU:"contextmenu",CLICK:"click",DBLCLICK:"dblclick",DRAGENTER:"dragenter",DRAGOVER:"dragover",DROP:"drop",FOCUS:"focus",KEYDOWN:"keydown",KEYPRESS:"keypress",LOAD:"load",RESIZE:"resize",TOUCHMOVE:"touchmove",WHEEL:"wheel"}},28686:(e,t,r)=>{r.d(t,{A:()=>n});const n={LEFT:"ArrowLeft",UP:"ArrowUp",RIGHT:"ArrowRight",DOWN:"ArrowDown"}},79332:(e,t,r)=>{r.d(t,{A:()=>u});var n=r(90025),o=r(1685),a=r(74238),s=r(43530);class i extends n.A{constructor(e){super(),this.eventTarget_=e,this.pendingRemovals_=null,this.dispatching_=null,this.listeners_=null}addEventListener(e,t){if(!e||!t)return;const r=this.listeners_||(this.listeners_={}),n=r[e]||(r[e]=[]);n.includes(t)||n.push(t)}dispatchEvent(e){const t="string"==typeof e,r=t?e:e.type,n=this.listeners_&&this.listeners_[r];if(!n)return;const s=t?new o.Ay(e):e;s.target||(s.target=this.eventTarget_||this);const i=this.dispatching_||(this.dispatching_={}),u=this.pendingRemovals_||(this.pendingRemovals_={});let c;r in i||(i[r]=0,u[r]=0),++i[r];for(let e=0,t=n.length;e<t;++e)if(c="handleEvent"in n[e]?n[e].handleEvent(s):n[e].call(this,s),!1===c||s.propagationStopped){c=!1;break}if(0==--i[r]){let e=u[r];for(delete u[r];e--;)this.removeEventListener(r,a.tV);delete i[r]}return c}disposeInternal(){this.listeners_&&(0,s.I)(this.listeners_)}getListeners(e){return this.listeners_&&this.listeners_[e]||void 0}hasListener(e){return!!this.listeners_&&(e?e in this.listeners_:Object.keys(this.listeners_).length>0)}removeEventListener(e,t){if(!this.listeners_)return;const r=this.listeners_[e];if(!r)return;const n=r.indexOf(t);-1!==n&&(this.pendingRemovals_&&e in this.pendingRemovals_?(r[n]=a.tV,++this.pendingRemovals_[e]):(r.splice(n,1),0===r.length&&delete this.listeners_[e]))}}const u=i},58704:(e,t,r)=>{r.d(t,{A4:()=>g,GB:()=>p,Gk:()=>c,IO:()=>i,Kg:()=>h,Q7:()=>s,TS:()=>f,at:()=>l,eL:()=>u,fs:()=>y,tE:()=>d});var n=r(74238),o=r(7771),a=r(90588);function s(e){const t=arguments;return function(e){let r=!0;for(let n=0,o=t.length;n<o&&(r=r&&t[n](e),r);++n);return r}}const i=function(e){const t=e.originalEvent;return t.altKey&&!(t.metaKey||t.ctrlKey)&&t.shiftKey},u=function(e){const t=e.map.getTargetElement(),r=t.getRootNode();return!(r instanceof ShadowRoot?r.host:t).hasAttribute("tabindex")||function(e){const t=e.map.getTargetElement(),r=t.getRootNode(),n=e.map.getOwnerDocument().activeElement;return r instanceof ShadowRoot?r.host.contains(n):t.contains(n)}(e)},c=n.rT,l=function(e){const t=e.originalEvent;return 0==t.button&&!(o.j&&o.ew&&t.ctrlKey)},f=function(e){const t=e.originalEvent;return!t.altKey&&!(t.metaKey||t.ctrlKey)&&!t.shiftKey},p=function(e){const t=e.originalEvent;return o.ew?t.metaKey:t.ctrlKey},h=function(e){const t=e.originalEvent;return!t.altKey&&!(t.metaKey||t.ctrlKey)&&t.shiftKey},d=function(e){const t=e.originalEvent,r=t.target.tagName;return"INPUT"!==r&&"SELECT"!==r&&"TEXTAREA"!==r&&!t.target.isContentEditable},g=function(e){const t=e.originalEvent;return(0,a.v)(void 0!==t,"mapBrowserEvent must originate from a pointer event"),"mouse"==t.pointerType},y=function(e){const t=e.originalEvent;return(0,a.v)(void 0!==t,"mapBrowserEvent must originate from a pointer event"),t.isPrimary&&0===t.button}},409:(e,t,r)=>{r.d(t,{A:()=>a,n:()=>s});var n=r(49825),o=r(89352);function a(){return{variables:{},properties:{},resolution:NaN,featureId:null,geometryType:""}}function s(e,t,r){return i((0,n.qg)(e,t,r),r)}function i(e,t){if(e instanceof n._D){if(e.type===n.mE&&"string"==typeof e.value){const t=(0,o.sH)(e.value);return function(){return t}}return function(){return e.value}}const r=e.operator;switch(r){case n.ZD.Number:case n.ZD.String:case n.ZD.Coalesce:return function(e,t){const r=e.operator,o=e.args.length,a=new Array(o);for(let r=0;r<o;++r)a[r]=i(e.args[r],t);switch(r){case n.ZD.Coalesce:return e=>{for(let t=0;t<o;++t){const r=a[t](e);if(null!=r)return r}throw new Error("Expected one of the values to be non-null")};case n.ZD.Number:case n.ZD.String:return e=>{for(let t=0;t<o;++t){const n=a[t](e);if(typeof n===r)return n}throw new Error(`Expected one of the values to be a ${r}`)};default:throw new Error(`Unsupported assertion operator ${r}`)}}(e,t);case n.ZD.Get:case n.ZD.Var:case n.ZD.Has:return function(e){const t=e.args[0],r=t.value;switch(e.operator){case n.ZD.Get:return t=>{const n=e.args;let o=t.properties[r];for(let e=1,t=n.length;e<t;++e){o=o[n[e].value]}return o};case n.ZD.Var:return e=>e.variables[r];case n.ZD.Has:return t=>{const n=e.args;if(!(r in t.properties))return!1;let o=t.properties[r];for(let e=1,t=n.length;e<t;++e){const t=n[e].value;if(!o||!Object.hasOwn(o,t))return!1;o=o[t]}return!0};default:throw new Error(`Unsupported accessor operator ${e.operator}`)}}(e);case n.ZD.Id:return e=>e.featureId;case n.ZD.GeometryType:return e=>e.geometryType;case n.ZD.Concat:{const r=e.args.map((e=>i(e,t)));return e=>"".concat(...r.map((t=>t(e).toString())))}case n.ZD.Resolution:return e=>e.resolution;case n.ZD.Any:case n.ZD.All:case n.ZD.Between:case n.ZD.In:case n.ZD.Not:return function(e,t){const r=e.operator,o=e.args.length,a=new Array(o);for(let r=0;r<o;++r)a[r]=i(e.args[r],t);switch(r){case n.ZD.Any:return e=>{for(let t=0;t<o;++t)if(a[t](e))return!0;return!1};case n.ZD.All:return e=>{for(let t=0;t<o;++t)if(!a[t](e))return!1;return!0};case n.ZD.Between:return e=>{const t=a[0](e),r=a[1](e),n=a[2](e);return t>=r&&t<=n};case n.ZD.In:return e=>{const t=a[0](e);for(let r=1;r<o;++r)if(t===a[r](e))return!0;return!1};case n.ZD.Not:return e=>!a[0](e);default:throw new Error(`Unsupported logical operator ${r}`)}}(e,t);case n.ZD.Equal:case n.ZD.NotEqual:case n.ZD.LessThan:case n.ZD.LessThanOrEqualTo:case n.ZD.GreaterThan:case n.ZD.GreaterThanOrEqualTo:return function(e,t){const r=e.operator,o=i(e.args[0],t),a=i(e.args[1],t);switch(r){case n.ZD.Equal:return e=>o(e)===a(e);case n.ZD.NotEqual:return e=>o(e)!==a(e);case n.ZD.LessThan:return e=>o(e)<a(e);case n.ZD.LessThanOrEqualTo:return e=>o(e)<=a(e);case n.ZD.GreaterThan:return e=>o(e)>a(e);case n.ZD.GreaterThanOrEqualTo:return e=>o(e)>=a(e);default:throw new Error(`Unsupported comparison operator ${r}`)}}(e,t);case n.ZD.Multiply:case n.ZD.Divide:case n.ZD.Add:case n.ZD.Subtract:case n.ZD.Clamp:case n.ZD.Mod:case n.ZD.Pow:case n.ZD.Abs:case n.ZD.Floor:case n.ZD.Ceil:case n.ZD.Round:case n.ZD.Sin:case n.ZD.Cos:case n.ZD.Atan:case n.ZD.Sqrt:return function(e,t){const r=e.operator,o=e.args.length,a=new Array(o);for(let r=0;r<o;++r)a[r]=i(e.args[r],t);switch(r){case n.ZD.Multiply:return e=>{let t=1;for(let r=0;r<o;++r)t*=a[r](e);return t};case n.ZD.Divide:return e=>a[0](e)/a[1](e);case n.ZD.Add:return e=>{let t=0;for(let r=0;r<o;++r)t+=a[r](e);return t};case n.ZD.Subtract:return e=>a[0](e)-a[1](e);case n.ZD.Clamp:return e=>{const t=a[0](e),r=a[1](e);if(t<r)return r;const n=a[2](e);return t>n?n:t};case n.ZD.Mod:return e=>a[0](e)%a[1](e);case n.ZD.Pow:return e=>Math.pow(a[0](e),a[1](e));case n.ZD.Abs:return e=>Math.abs(a[0](e));case n.ZD.Floor:return e=>Math.floor(a[0](e));case n.ZD.Ceil:return e=>Math.ceil(a[0](e));case n.ZD.Round:return e=>Math.round(a[0](e));case n.ZD.Sin:return e=>Math.sin(a[0](e));case n.ZD.Cos:return e=>Math.cos(a[0](e));case n.ZD.Atan:return 2===o?e=>Math.atan2(a[0](e),a[1](e)):e=>Math.atan(a[0](e));case n.ZD.Sqrt:return e=>Math.sqrt(a[0](e));default:throw new Error(`Unsupported numeric operator ${r}`)}}(e,t);case n.ZD.Case:return function(e,t){const r=e.args.length,n=new Array(r);for(let o=0;o<r;++o)n[o]=i(e.args[o],t);return e=>{for(let t=0;t<r-1;t+=2){if(n[t](e))return n[t+1](e)}return n[r-1](e)}}(e,t);case n.ZD.Match:return function(e,t){const r=e.args.length,n=new Array(r);for(let o=0;o<r;++o)n[o]=i(e.args[o],t);return e=>{const t=n[0](e);for(let o=1;o<r;o+=2)if(t===n[o](e))return n[o+1](e);return n[r-1](e)}}(e,t);case n.ZD.Interpolate:return function(e,t){const r=e.args.length,n=new Array(r);for(let o=0;o<r;++o)n[o]=i(e.args[o],t);return e=>{const t=n[0](e),a=n[1](e);let s,i;for(let l=2;l<r;l+=2){const r=n[l](e);let f=n[l+1](e);const p=Array.isArray(f);if(p&&(f=(0,o.fu)(f)),r>=a)return 2===l?f:p?c(t,a,s,i,r,f):u(t,a,s,i,r,f);s=r,i=f}return i}}(e,t);case n.ZD.ToString:return function(e,t){const r=e.operator,a=e.args.length,s=new Array(a);for(let r=0;r<a;++r)s[r]=i(e.args[r],t);if(r===n.ZD.ToString)return t=>{const r=s[0](t);return e.args[0].type===n.mE?(0,o.dI)(r):r.toString()};throw new Error(`Unsupported convert operator ${r}`)}(e,t);default:throw new Error(`Unsupported operator ${r}`)}}function u(e,t,r,n,o,a){const s=o-r;if(0===s)return n;const i=t-r;return n+(1===e?i/s:(Math.pow(e,i)-1)/(Math.pow(e,s)-1))*(a-n)}function c(e,t,r,n,a,s){if(0===a-r)return n;const i=(0,o.eE)(n),c=(0,o.eE)(s);let l=c[2]-i[2];l>180?l-=360:l<-180&&(l+=360);const f=[u(e,t,r,i[0],a,c[0]),u(e,t,r,i[1],a,c[1]),i[2]+u(e,t,r,0,a,l),u(e,t,r,n[3],a,s[3])];return(0,o.S8)((0,o.cD)(f))}},49825:(e,t,r)=>{r.d(t,{Fq:()=>f,SR:()=>A,T8:()=>i,Ye:()=>j,ZD:()=>T,_D:()=>E,cT:()=>c,mE:()=>l,qg:()=>v,wl:()=>u});var n=r(66514),o=r(89352),a=r(6782);let s=0;const i=1<<s++,u=1<<s++,c=1<<s++,l=1<<s++,f=1<<s++,p=1<<s++,h=Math.pow(2,6)-1,d={[i]:"boolean",[u]:"number",[c]:"string",[l]:"color",[f]:"number[]",[p]:"size"},g=Object.keys(d).map(Number).sort(n.V_);function y(e){const t=[];for(const r of g)m(e,r)&&t.push(d[r]);return 0===t.length?"untyped":t.length<3?t.join(" or "):t.slice(0,-1).join(", ")+", or "+t[t.length-1]}function m(e,t){return(e&t)===t}function w(e,t){return e===t}class E{constructor(e,t){if(!function(e){return e in d}(e))throw new Error(`literal expressions must have a specific type, got ${y(e)}`);this.type=e,this.value=t}}class b{constructor(e,t,...r){this.type=e,this.operator=t,this.args=r}}function A(){return{variables:new Set,properties:new Set,featureId:!1,geometryType:!1}}function v(e,t,r){switch(typeof e){case"boolean":if(w(t,c))return new E(c,e?"true":"false");if(!m(t,i))throw new Error(`got a boolean, but expected ${y(t)}`);return new E(i,e);case"number":if(w(t,p))return new E(p,(0,a.xq)(e));if(w(t,i))return new E(i,!!e);if(w(t,c))return new E(c,e.toString());if(!m(t,u))throw new Error(`got a number, but expected ${y(t)}`);return new E(u,e);case"string":if(w(t,l))return new E(l,(0,o.sH)(e));if(w(t,i))return new E(i,!!e);if(!m(t,c))throw new Error(`got a string, but expected ${y(t)}`);return new E(c,e)}if(!Array.isArray(e))throw new Error("expression must be an array or a primitive value");if(0===e.length)throw new Error("empty expression");if("string"==typeof e[0])return function(e,t,r){const n=e[0],o=D[n];if(!o)throw new Error(`unknown operator: ${n}`);return o(e,t,r)}(e,t,r);for(const t of e)if("number"!=typeof t)throw new Error("expected an array of numbers");if(w(t,p)){if(2!==e.length)throw new Error(`expected an array of two values for a size, got ${e.length}`);return new E(p,e)}if(w(t,l)){if(3===e.length)return new E(l,[...e,1]);if(4===e.length)return new E(l,e);throw new Error(`expected an array of 3 or 4 values for a color, got ${e.length}`)}if(!m(t,f))throw new Error(`got an array of numbers, but expected ${y(t)}`);return new E(f,e)}const T={Get:"get",Var:"var",Concat:"concat",GeometryType:"geometry-type",LineMetric:"line-metric",Any:"any",All:"all",Not:"!",Resolution:"resolution",Zoom:"zoom",Time:"time",Equal:"==",NotEqual:"!=",GreaterThan:">",GreaterThanOrEqualTo:">=",LessThan:"<",LessThanOrEqualTo:"<=",Multiply:"*",Divide:"/",Add:"+",Subtract:"-",Clamp:"clamp",Mod:"%",Pow:"^",Abs:"abs",Floor:"floor",Ceil:"ceil",Round:"round",Sin:"sin",Cos:"cos",Atan:"atan",Sqrt:"sqrt",Match:"match",Between:"between",Interpolate:"interpolate",Coalesce:"coalesce",Case:"case",In:"in",Number:"number",String:"string",Array:"array",Color:"color",Id:"id",Band:"band",Palette:"palette",ToString:"to-string",Has:"has"},D={[T.Get]:M(P(1,1/0),C),[T.Var]:M(P(1,1),(function(e,t,r){const n=e[1];if("string"!=typeof n)throw new Error("expected a string argument for var operation");return r.variables.add(n),[new E(c,n)]})),[T.Has]:M(P(1,1/0),C),[T.Id]:M((function(e,t,r){r.featureId=!0}),O),[T.Concat]:M(P(2,1/0),x(c)),[T.GeometryType]:M((function(e,t,r){r.geometryType=!0}),O),[T.LineMetric]:M(O),[T.Resolution]:M(O),[T.Zoom]:M(O),[T.Time]:M(O),[T.Any]:M(P(2,1/0),x(i)),[T.All]:M(P(2,1/0),x(i)),[T.Not]:M(P(1,1),x(i)),[T.Equal]:M(P(2,2),x(h)),[T.NotEqual]:M(P(2,2),x(h)),[T.GreaterThan]:M(P(2,2),x(u)),[T.GreaterThanOrEqualTo]:M(P(2,2),x(u)),[T.LessThan]:M(P(2,2),x(u)),[T.LessThanOrEqualTo]:M(P(2,2),x(u)),[T.Multiply]:M(P(2,1/0),Z),[T.Coalesce]:M(P(2,1/0),Z),[T.Divide]:M(P(2,2),x(u)),[T.Add]:M(P(2,1/0),x(u)),[T.Subtract]:M(P(2,2),x(u)),[T.Clamp]:M(P(3,3),x(u)),[T.Mod]:M(P(2,2),x(u)),[T.Pow]:M(P(2,2),x(u)),[T.Abs]:M(P(1,1),x(u)),[T.Floor]:M(P(1,1),x(u)),[T.Ceil]:M(P(1,1),x(u)),[T.Round]:M(P(1,1),x(u)),[T.Sin]:M(P(1,1),x(u)),[T.Cos]:M(P(1,1),x(u)),[T.Atan]:M(P(1,2),x(u)),[T.Sqrt]:M(P(1,1),x(u)),[T.Match]:M(P(4,1/0),S,(function(e,t,r){const n=e.length-1,o=c|u|i,a=v(e[1],o,r),s=v(e[e.length-1],t,r),l=new Array(n-2);for(let t=0;t<n-2;t+=2){try{const n=v(e[t+2],a.type,r);l[t]=n}catch(e){throw new Error(`failed to parse argument ${t+1} of match expression: ${e.message}`)}try{const n=v(e[t+3],s.type,r);l[t+1]=n}catch(e){throw new Error(`failed to parse argument ${t+2} of match expression: ${e.message}`)}}return[a,...l,s]})),[T.Between]:M(P(3,3),x(u)),[T.Interpolate]:M(P(6,1/0),S,(function(e,t,r){const n=e[1];let o;switch(n[0]){case"linear":o=1;break;case"exponential":const e=n[1];if("number"!=typeof e||e<=0)throw new Error(`expected a number base for exponential interpolation, got ${JSON.stringify(e)} instead`);o=e;break;default:throw new Error(`invalid interpolation type: ${JSON.stringify(n)}`)}const a=new E(u,o);let s;try{s=v(e[2],u,r)}catch(e){throw new Error(`failed to parse argument 1 in interpolate expression: ${e.message}`)}const i=new Array(e.length-3);for(let n=0;n<i.length;n+=2){try{const t=v(e[n+3],u,r);i[n]=t}catch(e){throw new Error(`failed to parse argument ${n+2} for interpolate expression: ${e.message}`)}try{const o=v(e[n+4],t,r);i[n+1]=o}catch(e){throw new Error(`failed to parse argument ${n+3} for interpolate expression: ${e.message}`)}}return[a,s,...i]})),[T.Case]:M(P(3,1/0),(function(e,t,r){const n=e[0],o=e.length-1;if(o%2==0)throw new Error(`expected an odd number of arguments for ${n}, got ${o} instead`)}),(function(e,t,r){const n=v(e[e.length-1],t,r),o=new Array(e.length-1);for(let t=0;t<o.length-1;t+=2){try{const n=v(e[t+1],i,r);o[t]=n}catch(e){throw new Error(`failed to parse argument ${t} of case expression: ${e.message}`)}try{const a=v(e[t+2],n.type,r);o[t+1]=a}catch(e){throw new Error(`failed to parse argument ${t+1} of case expression: ${e.message}`)}}return o[o.length-1]=n,o})),[T.In]:M(P(2,2),(function(e,t,r){let n,o=e[2];if(!Array.isArray(o))throw new Error('the second argument for the "in" operator must be an array');if("string"==typeof o[0]){if("literal"!==o[0])throw new Error('for the "in" operator, a string array should be wrapped in a "literal" operator to disambiguate from expressions');if(!Array.isArray(o[1]))throw new Error('failed to parse "in" expression: the literal operator must be followed by an array');o=o[1],n=c}else n=u;const a=new Array(o.length);for(let e=0;e<a.length;e++)try{const t=v(o[e],n,r);a[e]=t}catch(t){throw new Error(`failed to parse haystack item ${e} for "in" expression: ${t.message}`)}return[v(e[1],n,r),...a]})),[T.Number]:M(P(1,1/0),x(h)),[T.String]:M(P(1,1/0),x(h)),[T.Array]:M(P(1,1/0),x(u)),[T.Color]:M(P(1,4),x(u)),[T.Band]:M(P(1,3),x(u)),[T.Palette]:M(P(2,2),(function(e,t,r){let n;try{n=v(e[1],u,r)}catch(e){throw new Error(`failed to parse first argument in palette expression: ${e.message}`)}const o=e[2];if(!Array.isArray(o))throw new Error("the second argument of palette must be an array");const a=new Array(o.length);for(let e=0;e<a.length;e++){let t;try{t=v(o[e],l,r)}catch(t){throw new Error(`failed to parse color at index ${e} in palette expression: ${t.message}`)}if(!(t instanceof E))throw new Error(`the palette color at index ${e} must be a literal value`);a[e]=t}return[n,...a]})),[T.ToString]:M(P(1,1),x(i|u|c|l))};function C(e,t,r){const n=e.length-1,o=new Array(n);for(let t=0;t<n;++t){const n=e[t+1];switch(typeof n){case"number":o[t]=new E(u,n);break;case"string":o[t]=new E(c,n);break;default:throw new Error(`expected a string key or numeric array index for a get operation, got ${n}`)}0===t&&r.properties.add(String(n))}return o}function O(e,t,r){const n=e[0];if(1!==e.length)throw new Error(`expected no arguments for ${n} operation`);return[]}function P(e,t){return function(r,n,o){const a=r[0],s=r.length-1;if(e===t){if(s!==e){throw new Error(`expected ${e} argument${1===e?"":"s"} for ${a}, got ${s}`)}}else if(s<e||s>t){throw new Error(`expected ${t===1/0?`${e} or more`:`${e} to ${t}`} arguments for ${a}, got ${s}`)}}}function Z(e,t,r){const n=e.length-1,o=new Array(n);for(let a=0;a<n;++a){const n=v(e[a+1],t,r);o[a]=n}return o}function x(e){return function(t,r,n){const o=t.length-1,a=new Array(o);for(let r=0;r<o;++r){const o=v(t[r+1],e,n);a[r]=o}return a}}function S(e,t,r){const n=e[0],o=e.length-1;if(o%2==1)throw new Error(`expected an even number of arguments for operation ${n}, got ${o} instead`)}function M(...e){return function(t,r,n){const o=t[0];let a;for(let o=0;o<e.length;o++){const s=e[o](t,r,n);if(o==e.length-1){if(!s)throw new Error("expected last argument validator to return the parsed args");a=s}}return new b(r,o,...a)}}function j(e){if(!e)return"";const t=e.getType();switch(t){case"Point":case"LineString":case"Polygon":return t;case"MultiPoint":case"MultiLineString":case"MultiPolygon":return t.substring(5);case"Circle":return"Polygon";case"GeometryCollection":return j(e.getGeometries()[0]);default:return""}}},70915:(e,t,r)=>{r.d(t,{$C:()=>E,$u:()=>$,Bg:()=>Z,HY:()=>N,Im:()=>F,Ld:()=>i,Li:()=>I,Mx:()=>R,N:()=>h,NW:()=>L,Oq:()=>x,Py:()=>M,QJ:()=>_,R:()=>D,R8:()=>b,RG:()=>G,Rj:()=>l,S5:()=>p,Tr:()=>o,UG:()=>T,Vy:()=>y,WU:()=>j,X$:()=>w,Ym:()=>u,_N:()=>S,aI:()=>m,aZ:()=>d,dP:()=>g,k_:()=>C,ms:()=>c,o8:()=>s,q1:()=>O,qF:()=>P,r:()=>a,sB:()=>v,vz:()=>f});var n=r(11580);function o(e){const t=p();for(let r=0,n=e.length;r<n;++r)E(t,e[r]);return t}function a(e,t,r){return r?(r[0]=e[0]-t,r[1]=e[1]-t,r[2]=e[2]+t,r[3]=e[3]+t,r):[e[0]-t,e[1]-t,e[2]+t,e[3]+t]}function s(e,t){return t?(t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t):e.slice()}function i(e,t,r){let n,o;return n=t<e[0]?e[0]-t:e[2]<t?t-e[2]:0,o=r<e[1]?e[1]-r:e[3]<r?r-e[3]:0,n*n+o*o}function u(e,t){return l(e,t[0],t[1])}function c(e,t){return e[0]<=t[0]&&t[2]<=e[2]&&e[1]<=t[1]&&t[3]<=e[3]}function l(e,t,r){return e[0]<=t&&t<=e[2]&&e[1]<=r&&r<=e[3]}function f(e,t){const r=e[0],o=e[1],a=e[2],s=e[3],i=t[0],u=t[1];let c=n.A.UNKNOWN;return i<r?c|=n.A.LEFT:i>a&&(c|=n.A.RIGHT),u<o?c|=n.A.BELOW:u>s&&(c|=n.A.ABOVE),c===n.A.UNKNOWN&&(c=n.A.INTERSECTING),c}function p(){return[1/0,1/0,-1/0,-1/0]}function h(e,t,r,n,o){return o?(o[0]=e,o[1]=t,o[2]=r,o[3]=n,o):[e,t,r,n]}function d(e){return h(1/0,1/0,-1/0,-1/0,e)}function g(e,t){const r=e[0],n=e[1];return h(r,n,r,n,t)}function y(e,t,r,n,o){return b(d(o),e,t,r,n)}function m(e,t){return e[0]==t[0]&&e[2]==t[2]&&e[1]==t[1]&&e[3]==t[3]}function w(e,t){return t[0]<e[0]&&(e[0]=t[0]),t[2]>e[2]&&(e[2]=t[2]),t[1]<e[1]&&(e[1]=t[1]),t[3]>e[3]&&(e[3]=t[3]),e}function E(e,t){t[0]<e[0]&&(e[0]=t[0]),t[0]>e[2]&&(e[2]=t[0]),t[1]<e[1]&&(e[1]=t[1]),t[1]>e[3]&&(e[3]=t[1])}function b(e,t,r,n,o){for(;r<n;r+=o)A(e,t[r],t[r+1]);return e}function A(e,t,r){e[0]=Math.min(e[0],t),e[1]=Math.min(e[1],r),e[2]=Math.max(e[2],t),e[3]=Math.max(e[3],r)}function v(e,t){let r;return r=t(D(e)),r||(r=t(C(e)),r||(r=t(j(e)),r||(r=t(M(e)),r||!1)))}function T(e){let t=0;return F(e)||(t=G(e)*x(e)),t}function D(e){return[e[0],e[1]]}function C(e){return[e[2],e[1]]}function O(e){return[(e[0]+e[2])/2,(e[1]+e[3])/2]}function P(e,t){let r;if("bottom-left"===t)r=D(e);else if("bottom-right"===t)r=C(e);else if("top-left"===t)r=M(e);else{if("top-right"!==t)throw new Error("Invalid corner");r=j(e)}return r}function Z(e,t,r,n,o){const[a,s,i,u,c,l,f,p]=function(e,t,r,n){const o=t*n[0]/2,a=t*n[1]/2,s=Math.cos(r),i=Math.sin(r),u=o*s,c=o*i,l=a*s,f=a*i,p=e[0],h=e[1];return[p-u+f,h-c-l,p-u-f,h-c+l,p+u-f,h+c+l,p+u+f,h+c-l,p-u+f,h-c-l]}(e,t,r,n);return h(Math.min(a,i,c,f),Math.min(s,u,l,p),Math.max(a,i,c,f),Math.max(s,u,l,p),o)}function x(e){return e[3]-e[1]}function S(e,t,r){const n=r||[1/0,1/0,-1/0,-1/0];return N(e,t)?(e[0]>t[0]?n[0]=e[0]:n[0]=t[0],e[1]>t[1]?n[1]=e[1]:n[1]=t[1],e[2]<t[2]?n[2]=e[2]:n[2]=t[2],e[3]<t[3]?n[3]=e[3]:n[3]=t[3]):d(n),n}function M(e){return[e[0],e[3]]}function j(e){return[e[2],e[3]]}function G(e){return e[2]-e[0]}function N(e,t){return e[0]<=t[2]&&e[2]>=t[0]&&e[1]<=t[3]&&e[3]>=t[1]}function F(e){return e[2]<e[0]||e[3]<e[1]}function $(e,t){return t?(t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t):e}function R(e,t,r){let o=!1;const a=f(e,t),s=f(e,r);if(a===n.A.INTERSECTING||s===n.A.INTERSECTING)o=!0;else{const i=e[0],u=e[1],c=e[2],l=e[3],f=t[0],p=t[1],h=r[0],d=r[1],g=(d-p)/(h-f);let y,m;s&n.A.ABOVE&&!(a&n.A.ABOVE)&&(y=h-(d-l)/g,o=y>=i&&y<=c),o||!(s&n.A.RIGHT)||a&n.A.RIGHT||(m=d-(h-c)*g,o=m>=u&&m<=l),o||!(s&n.A.BELOW)||a&n.A.BELOW||(y=h-(d-u)/g,o=y>=i&&y<=c),o||!(s&n.A.LEFT)||a&n.A.LEFT||(m=d-(h-i)*g,o=m>=u&&m<=l)}return o}function L(e,t,r,n){if(F(e))return d(r);let o=[];if(n>1){const t=e[2]-e[0],r=e[3]-e[1];for(let a=0;a<n;++a)o.push(e[0]+t*a/n,e[1],e[2],e[1]+r*a/n,e[2]-t*a/n,e[3],e[0],e[3]-r*a/n)}else o=[e[0],e[1],e[2],e[1],e[2],e[3],e[0],e[3]];t(o,o,2);const a=[],s=[];for(let e=0,t=o.length;e<t;e+=2)a.push(o[e]),s.push(o[e+1]);return function(e,t,r){return h(Math.min.apply(null,e),Math.min.apply(null,t),Math.max.apply(null,e),Math.max.apply(null,t),r)}(a,s,r)}function I(e,t){const r=t.getExtent(),n=O(e);if(t.canWrapX()&&(n[0]<r[0]||n[0]>=r[2])){const t=G(r),o=Math.floor((n[0]-r[0])/t)*t;e[0]-=o,e[2]-=o}return e}function _(e,t,r){if(t.canWrapX()){const n=t.getExtent();if(!isFinite(e[0])||!isFinite(e[2]))return[[n[0],e[1],n[2],e[3]]];I(e,t);const o=G(n);if(G(e)>o&&!r)return[[n[0],e[1],n[2],e[3]]];if(e[0]<n[0])return[[e[0]+o,e[1],n[2],e[3]],[n[0],e[1],e[2],e[3]]];if(e[2]>n[2])return[[e[0],e[1],n[2],e[3]],[n[0],e[1],e[2]-o,e[3]]]}return[e]}},11580:(e,t,r)=>{r.d(t,{A:()=>n});const n={UNKNOWN:0,INTERSECTING:1,ABOVE:2,RIGHT:4,BELOW:8,LEFT:16}},21142:(e,t,r)=>{r.d(t,{m8:()=>a,nF:()=>s});var n=r(74238);let o=!1;function a(e,t,r,n,a,s,i){const u=new XMLHttpRequest;u.open("GET","function"==typeof e?e(r,n,a):e,!0),"arraybuffer"==t.getType()&&(u.responseType="arraybuffer"),u.withCredentials=o,u.onload=function(e){if(!u.status||u.status>=200&&u.status<300){const e=t.getType();try{let n;"text"==e||"json"==e?n=u.responseText:"xml"==e?n=u.responseXML||u.responseText:"arraybuffer"==e&&(n=u.response),n?s(t.readFeatures(n,{extent:r,featureProjection:a}),t.readProjection(n)):i()}catch{i()}}else i()},u.onerror=i,u.send()}function s(e,t){return function(r,o,s,i,u){const c=this;a(e,t,r,o,s,(function(e,t){c.addFeatures(e),void 0!==i&&i(e)}),u||n.tV)}}},7912:(e,t,r)=>{r.d(t,{A:()=>P});var n=r(86717),o=r(24778),a=r(44294),s=r(11217),i=r(71064),u=r(30503),c=r(96702),l=r(2871),f=r(34338),p=r(4087),h=r(9687),d=r(83402);const g=class{constructor(){this.dataProjection=void 0,this.defaultFeatureProjection=void 0,this.featureClass=n.A,this.supportedMediaTypes=null}getReadOptions(e,t){if(t){let r=t.dataProjection?(0,h.Jt)(t.dataProjection):this.readProjection(e);t.extent&&r&&"tile-pixels"===r.getUnits()&&(r=(0,h.Jt)(r),r.setWorldExtent(t.extent)),t={dataProjection:r,featureProjection:t.featureProjection}}return this.adaptOptions(t)}adaptOptions(e){return Object.assign({dataProjection:this.dataProjection,featureProjection:this.defaultFeatureProjection,featureClass:this.featureClass},e)}getType(){return(0,p.b0)()}readFeature(e,t){return(0,p.b0)()}readFeatures(e,t){return(0,p.b0)()}readGeometry(e,t){return(0,p.b0)()}readProjection(e){return(0,p.b0)()}writeFeature(e,t){return(0,p.b0)()}writeFeatures(e,t){return(0,p.b0)()}writeGeometry(e,t){return(0,p.b0)()}};function y(e,t,r){const n=r?(0,h.Jt)(r.featureProjection):null,o=r?(0,h.Jt)(r.dataProjection):null;let a=e;if(n&&o&&!(0,h.tI)(n,o)){t&&(a=e.clone());const r=t?n:o,s=t?o:n;"tile-pixels"===r.getUnits()?a.transform(r,s):a.applyTransform((0,h.RG)(r,s))}if(t&&r&&void 0!==r.decimals){const t=Math.pow(10,r.decimals),n=function(e){for(let r=0,n=e.length;r<n;++r)e[r]=Math.round(e[r]*t)/t;return e};a===e&&(a=e.clone()),a.applyTransform(n)}return a}const m={Point:a.A,LineString:s.A,Polygon:i.Ay,MultiPoint:u.A,MultiLineString:c.A,MultiPolygon:l.A};function w(e,t){const r=e.geometry;if(!r)return[];if(Array.isArray(r))return r.map((t=>w({...e,geometry:t}))).flat();const n="MultiPolygon"===r.type?"Polygon":r.type;if("GeometryCollection"===n||"Circle"===n)throw new Error("Unsupported geometry type: "+n);const a=r.layout.length;return y(new o.Ay(n,"Polygon"===n?function(e,t,r){return Array.isArray(t[0])?((0,d.mb)(e,0,t,r)||(e=e.slice(),(0,d.NK)(e,0,t,r)),e):((0,d.PA)(e,0,t,r)||(e=e.slice(),(0,d.ug)(e,0,t,r)),e)}(r.flatCoordinates,r.ends,a):r.flatCoordinates,r.ends?.flat(),a,e.properties||{},e.id).enableSimplifyTransformed(),!1,t)}function E(e,t){if(!e)return null;if(Array.isArray(e)){const r=e.map((e=>E(e,t)));return new f.A(r)}return y(new(0,m[e.type])(e.flatCoordinates,e.layout,e.ends),!1,t)}function b(e){if("string"==typeof e){const t=JSON.parse(e);return t||null}return null!==e?e:null}const A=class extends g{constructor(){super()}getType(){return"json"}readFeature(e,t){return this.readFeatureFromObject(b(e),this.getReadOptions(e,t))}readFeatures(e,t){return this.readFeaturesFromObject(b(e),this.getReadOptions(e,t))}readFeatureFromObject(e,t){return(0,p.b0)()}readFeaturesFromObject(e,t){return(0,p.b0)()}readGeometry(e,t){return this.readGeometryFromObject(b(e),this.getReadOptions(e,t))}readGeometryFromObject(e,t){return(0,p.b0)()}readProjection(e){return this.readProjectionFromObject(b(e))}readProjectionFromObject(e){return(0,p.b0)()}writeFeature(e,t){return JSON.stringify(this.writeFeatureObject(e,t))}writeFeatureObject(e,t){return(0,p.b0)()}writeFeatures(e,t){return JSON.stringify(this.writeFeaturesObject(e,t))}writeFeaturesObject(e,t){return(0,p.b0)()}writeGeometry(e,t){return JSON.stringify(this.writeGeometryObject(e,t))}writeGeometryObject(e,t){return(0,p.b0)()}};var v=r(92497),T=r(62096),D=r(43530);function C(e,t){if(!e)return null;let r;switch(e.type){case"Point":r=function(e){const t=e.coordinates;return{type:"Point",flatCoordinates:t,layout:(0,T.p0)(t.length)}}(e);break;case"LineString":r=function(e){const t=e.coordinates,r=t.flat();return{type:"LineString",flatCoordinates:r,ends:[r.length],layout:(0,T.p0)(t[0]?.length||2)}}(e);break;case"Polygon":r=function(e){const t=e.coordinates,r=[],n=t[0]?.[0]?.length,o=(0,v.KG)(r,0,t,n);return{type:"Polygon",flatCoordinates:r,ends:o,layout:(0,T.p0)(n)}}(e);break;case"MultiPoint":r=function(e){const t=e.coordinates;return{type:"MultiPoint",flatCoordinates:t.flat(),layout:(0,T.p0)(t[0]?.length||2)}}(e);break;case"MultiLineString":r=function(e){const t=e.coordinates,r=t[0]?.[0]?.length||2,n=[],o=(0,v.KG)(n,0,t,r);return{type:"MultiLineString",flatCoordinates:n,ends:o,layout:(0,T.p0)(r)}}(e);break;case"MultiPolygon":r=function(e){const t=e.coordinates,r=[],n=t[0]?.[0]?.[0].length||2,o=(0,v.d6)(r,0,t,n);return{type:"MultiPolygon",flatCoordinates:r,ends:o,layout:(0,T.p0)(n)}}(e);break;case"GeometryCollection":r=function(e,t){const r=e.geometries.map((function(e){return C(e,t)}));return r}(e);break;default:throw new Error("Unsupported GeoJSON type: "+e.type)}return r}function O(e,t){const r=(e=y(e,!0,t)).getType();let n;switch(r){case"Point":n=function(e){return{type:"Point",coordinates:e.getCoordinates()}}(e);break;case"LineString":n=function(e){return{type:"LineString",coordinates:e.getCoordinates()}}(e);break;case"Polygon":n=function(e,t){let r;t&&(r=t.rightHanded);return{type:"Polygon",coordinates:e.getCoordinates(r)}}(e,t);break;case"MultiPoint":n=function(e){return{type:"MultiPoint",coordinates:e.getCoordinates()}}(e);break;case"MultiLineString":n=function(e){return{type:"MultiLineString",coordinates:e.getCoordinates()}}(e);break;case"MultiPolygon":n=function(e,t){let r;t&&(r=t.rightHanded);return{type:"MultiPolygon",coordinates:e.getCoordinates(r)}}(e,t);break;case"GeometryCollection":n=function(e,t){t=Object.assign({},t),delete t.featureProjection;const r=e.getGeometriesArray().map((function(e){return O(e,t)}));return{type:"GeometryCollection",geometries:r}}(e,t);break;case"Circle":n={type:"GeometryCollection",geometries:[]};break;default:throw new Error("Unsupported geometry type: "+r)}return n}const P=class extends A{constructor(e){e=e||{},super(),this.dataProjection=(0,h.Jt)(e.dataProjection?e.dataProjection:"EPSG:4326"),e.featureProjection&&(this.defaultFeatureProjection=(0,h.Jt)(e.featureProjection)),e.featureClass&&(this.featureClass=e.featureClass),this.geometryName_=e.geometryName,this.extractGeometryName_=e.extractGeometryName,this.supportedMediaTypes=["application/geo+json","application/vnd.geo+json"]}readFeatureFromObject(e,t){let r=null;r="Feature"===e.type?e:{type:"Feature",geometry:e,properties:null};const a=C(r.geometry,t);if(this.featureClass===o.Ay)return w({geometry:a,id:r.id,properties:r.properties},t);const s=new n.A;return this.geometryName_?s.setGeometryName(this.geometryName_):this.extractGeometryName_&&r.geometry_name&&s.setGeometryName(r.geometry_name),s.setGeometry(E(a,t)),"id"in r&&s.setId(r.id),r.properties&&s.setProperties(r.properties,!0),s}readFeaturesFromObject(e,t){let r=null;if("FeatureCollection"===e.type){r=[];const n=e.features;for(let e=0,o=n.length;e<o;++e){const o=this.readFeatureFromObject(n[e],t);o&&r.push(o)}}else r=[this.readFeatureFromObject(e,t)];return r.flat()}readGeometryFromObject(e,t){return function(e,t){const r=C(e,t);return E(r,t)}(e,t)}readProjectionFromObject(e){const t=e.crs;let r;if(t)if("name"==t.type)r=(0,h.Jt)(t.properties.name);else{if("EPSG"!==t.type)throw new Error("Unknown SRS type");r=(0,h.Jt)("EPSG:"+t.properties.code)}else r=this.dataProjection;return r}writeFeatureObject(e,t){t=this.adaptOptions(t);const r={type:"Feature",geometry:null,properties:null},n=e.getId();if(void 0!==n&&(r.id=n),!e.hasProperties())return r;const o=e.getProperties(),a=e.getGeometry();return a&&(r.geometry=O(a,t),delete o[e.getGeometryName()]),(0,D.p)(o)||(r.properties=o),r}writeFeaturesObject(e,t){t=this.adaptOptions(t);const r=[];for(let n=0,o=e.length;n<o;++n)r.push(this.writeFeatureObject(e[n],t));return{type:"FeatureCollection",features:r}}writeGeometryObject(e,t){return O(e,this.adaptOptions(t))}}}}]);