"use strict";(self.webpackChunkdovotori=self.webpackChunkdovotori||[]).push([[114],{58458:(t,e,i)=>{i.d(e,{Z:()=>l});var r=i(72971),s=i(74187),n=i(62369);class o extends r.Z{constructor(t){super(),this.projection=(0,n.U2)(t.projection),this.attributions_=a(t.attributions),this.attributionsCollapsible_=void 0===t.attributionsCollapsible||t.attributionsCollapsible,this.loading=!1,this.state_=void 0!==t.state?t.state:"ready",this.wrapX_=void 0!==t.wrapX&&t.wrapX,this.interpolate_=!!t.interpolate,this.viewResolver=null,this.viewRejector=null;const e=this;this.viewPromise_=new Promise((function(t,i){e.viewResolver=t,e.viewRejector=i}))}getAttributions(){return this.attributions_}getAttributionsCollapsible(){return this.attributionsCollapsible_}getProjection(){return this.projection}getResolutions(){return(0,s.O3)()}getView(){return this.viewPromise_}getState(){return this.state_}getWrapX(){return this.wrapX_}getInterpolate(){return this.interpolate_}refresh(){this.changed()}setAttributions(t){this.attributions_=a(t),this.changed()}setState(t){this.state_=t,this.changed()}}function a(t){return t?Array.isArray(t)?function(e){return t}:"function"==typeof t?t:function(e){return[t]}:null}const l=o},19711:(t,e,i)=>{i.d(e,{Z:()=>b});var r=i(78714),s=i(42071),n=i(291),o=i(85487),a=i(35990),l=i(39781),h=i(58458);const u="addfeature",c="changefeature",d="clear",g="removefeature",f="featuresloadstart",_="featuresloadend",p="featuresloaderror";var C=i(36885),E=i(34087),x=i(99515),F=i(28641),v=i(65537),m=i(74187),R=i(69374),T=i(65818),y=i(37537);class I extends n.ZP{constructor(t,e,i){super(t),this.feature=e,this.features=i}}class G extends h.Z{constructor(t){super({attributions:(t=t||{}).attributions,interpolate:!0,projection:void 0,state:"ready",wrapX:void 0===t.wrapX||t.wrapX}),this.on,this.once,this.un,this.loader_=C.Zn,this.format_=t.format,this.overlaps_=void 0===t.overlaps||t.overlaps,this.url_=t.url,void 0!==t.loader?this.loader_=t.loader:void 0!==this.url_&&((0,x.h)(this.format_,7),this.loader_=(0,y.Be)(this.url_,this.format_)),this.strategy_=void 0!==t.strategy?t.strategy:E.$6;const e=void 0===t.useSpatialIndex||t.useSpatialIndex;let i,s;this.featuresRtree_=e?new l.Z:null,this.loadedExtentsRtree_=new l.Z,this.loadingExtentsCount_=0,this.nullGeometryFeatures_={},this.idIndex_={},this.uidIndex_={},this.featureChangeKeys_={},this.featuresCollection_=null,Array.isArray(t.features)?s=t.features:t.features&&(i=t.features,s=i.getArray()),e||void 0!==i||(i=new r.Z(s)),void 0!==s&&this.addFeaturesInternal(s),void 0!==i&&this.bindFeaturesCollection_(i)}addFeature(t){this.addFeatureInternal(t),this.changed()}addFeatureInternal(t){const e=(0,m.sq)(t);if(!this.addToIndex_(e,t))return void(this.featuresCollection_&&this.featuresCollection_.remove(t));this.setupChangeEvents_(e,t);const i=t.getGeometry();if(i){const e=i.getExtent();this.featuresRtree_&&this.featuresRtree_.insert(e,t)}else this.nullGeometryFeatures_[e]=t;this.dispatchEvent(new I(u,t))}setupChangeEvents_(t,e){this.featureChangeKeys_[t]=[(0,T.oL)(e,o.Z.CHANGE,this.handleFeatureChange_,this),(0,T.oL)(e,a.Z.PROPERTYCHANGE,this.handleFeatureChange_,this)]}addToIndex_(t,e){let i=!0;const r=e.getId();return void 0!==r&&(r.toString()in this.idIndex_?i=!1:this.idIndex_[r.toString()]=e),i&&((0,x.h)(!(t in this.uidIndex_),30),this.uidIndex_[t]=e),i}addFeatures(t){this.addFeaturesInternal(t),this.changed()}addFeaturesInternal(t){const e=[],i=[],r=[];for(let e=0,r=t.length;e<r;e++){const r=t[e],s=(0,m.sq)(r);this.addToIndex_(s,r)&&i.push(r)}for(let t=0,s=i.length;t<s;t++){const s=i[t],n=(0,m.sq)(s);this.setupChangeEvents_(n,s);const o=s.getGeometry();if(o){const t=o.getExtent();e.push(t),r.push(s)}else this.nullGeometryFeatures_[n]=s}if(this.featuresRtree_&&this.featuresRtree_.load(e,r),this.hasListener(u))for(let t=0,e=i.length;t<e;t++)this.dispatchEvent(new I(u,i[t]))}bindFeaturesCollection_(t){let e=!1;this.addEventListener(u,(function(i){e||(e=!0,t.push(i.feature),e=!1)})),this.addEventListener(g,(function(i){e||(e=!0,t.remove(i.feature),e=!1)})),t.addEventListener(s.Z.ADD,function(t){e||(e=!0,this.addFeature(t.element),e=!1)}.bind(this)),t.addEventListener(s.Z.REMOVE,function(t){e||(e=!0,this.removeFeature(t.element),e=!1)}.bind(this)),this.featuresCollection_=t}clear(t){if(t){for(const t in this.featureChangeKeys_){this.featureChangeKeys_[t].forEach(T.bN)}this.featuresCollection_||(this.featureChangeKeys_={},this.idIndex_={},this.uidIndex_={})}else if(this.featuresRtree_){const t=function(t){this.removeFeatureInternal(t)}.bind(this);this.featuresRtree_.forEach(t);for(const t in this.nullGeometryFeatures_)this.removeFeatureInternal(this.nullGeometryFeatures_[t])}this.featuresCollection_&&this.featuresCollection_.clear(),this.featuresRtree_&&this.featuresRtree_.clear(),this.nullGeometryFeatures_={};const e=new I(d);this.dispatchEvent(e),this.changed()}forEachFeature(t){if(this.featuresRtree_)return this.featuresRtree_.forEach(t);this.featuresCollection_&&this.featuresCollection_.forEach(t)}forEachFeatureAtCoordinateDirect(t,e){const i=[t[0],t[1],t[0],t[1]];return this.forEachFeatureInExtent(i,(function(i){return i.getGeometry().intersectsCoordinate(t)?e(i):void 0}))}forEachFeatureInExtent(t,e){if(this.featuresRtree_)return this.featuresRtree_.forEachInExtent(t,e);this.featuresCollection_&&this.featuresCollection_.forEach(e)}forEachFeatureIntersectingExtent(t,e){return this.forEachFeatureInExtent(t,(function(i){if(i.getGeometry().intersectsExtent(t)){const t=e(i);if(t)return t}}))}getFeaturesCollection(){return this.featuresCollection_}getFeatures(){let t;return this.featuresCollection_?t=this.featuresCollection_.getArray().slice(0):this.featuresRtree_&&(t=this.featuresRtree_.getAll(),(0,R.x)(this.nullGeometryFeatures_)||(0,v.l7)(t,Object.values(this.nullGeometryFeatures_))),t}getFeaturesAtCoordinate(t){const e=[];return this.forEachFeatureAtCoordinateDirect(t,(function(t){e.push(t)})),e}getFeaturesInExtent(t,e){if(this.featuresRtree_){if(!(e&&e.canWrapX()&&this.getWrapX()))return this.featuresRtree_.getInExtent(t);const i=(0,F.MV)(t,e);return[].concat(...i.map((t=>this.featuresRtree_.getInExtent(t))))}return this.featuresCollection_?this.featuresCollection_.getArray().slice(0):[]}getClosestFeatureToCoordinate(t,e){const i=t[0],r=t[1];let s=null;const n=[NaN,NaN];let o=1/0;const a=[-1/0,-1/0,1/0,1/0];return e=e||C.uX,this.featuresRtree_.forEachInExtent(a,(function(t){if(e(t)){const e=t.getGeometry(),l=o;if(o=e.closestPointXY(i,r,n,o),o<l){s=t;const e=Math.sqrt(o);a[0]=i-e,a[1]=r-e,a[2]=i+e,a[3]=r+e}}})),s}getExtent(t){return this.featuresRtree_.getExtent(t)}getFeatureById(t){const e=this.idIndex_[t.toString()];return void 0!==e?e:null}getFeatureByUid(t){const e=this.uidIndex_[t];return void 0!==e?e:null}getFormat(){return this.format_}getOverlaps(){return this.overlaps_}getUrl(){return this.url_}handleFeatureChange_(t){const e=t.target,i=(0,m.sq)(e),r=e.getGeometry();if(r){const t=r.getExtent();i in this.nullGeometryFeatures_?(delete this.nullGeometryFeatures_[i],this.featuresRtree_&&this.featuresRtree_.insert(t,e)):this.featuresRtree_&&this.featuresRtree_.update(t,e)}else i in this.nullGeometryFeatures_||(this.featuresRtree_&&this.featuresRtree_.remove(e),this.nullGeometryFeatures_[i]=e);const s=e.getId();if(void 0!==s){const t=s.toString();this.idIndex_[t]!==e&&(this.removeFromIdIndex_(e),this.idIndex_[t]=e)}else this.removeFromIdIndex_(e),this.uidIndex_[i]=e;this.changed(),this.dispatchEvent(new I(c,e))}hasFeature(t){const e=t.getId();return void 0!==e?e in this.idIndex_:(0,m.sq)(t)in this.uidIndex_}isEmpty(){return this.featuresRtree_?this.featuresRtree_.isEmpty()&&(0,R.x)(this.nullGeometryFeatures_):!this.featuresCollection_||0===this.featuresCollection_.getLength()}loadFeatures(t,e,i){const r=this.loadedExtentsRtree_,s=this.strategy_(t,e,i);for(let t=0,n=s.length;t<n;++t){const n=s[t];r.forEachInExtent(n,(function(t){return(0,F.r4)(t.extent,n)}))||(++this.loadingExtentsCount_,this.dispatchEvent(new I(f)),this.loader_.call(this,n,e,i,function(t){--this.loadingExtentsCount_,this.dispatchEvent(new I(_,void 0,t))}.bind(this),function(){--this.loadingExtentsCount_,this.dispatchEvent(new I(p))}.bind(this)),r.insert(n,{extent:n.slice()}))}this.loading=!(this.loader_.length<4)&&this.loadingExtentsCount_>0}refresh(){this.clear(!0),this.loadedExtentsRtree_.clear(),super.refresh()}removeLoadedExtent(t){const e=this.loadedExtentsRtree_;let i;e.forEachInExtent(t,(function(e){if((0,F.fS)(e.extent,t))return i=e,!0})),i&&e.remove(i)}removeFeature(t){if(!t)return;const e=(0,m.sq)(t);e in this.nullGeometryFeatures_?delete this.nullGeometryFeatures_[e]:this.featuresRtree_&&this.featuresRtree_.remove(t);this.removeFeatureInternal(t)&&this.changed()}removeFeatureInternal(t){const e=(0,m.sq)(t),i=this.featureChangeKeys_[e];if(!i)return;i.forEach(T.bN),delete this.featureChangeKeys_[e];const r=t.getId();return void 0!==r&&delete this.idIndex_[r.toString()],delete this.uidIndex_[e],this.dispatchEvent(new I(g,t)),t}removeFromIdIndex_(t){let e=!1;for(const i in this.idIndex_)if(this.idIndex_[i]===t){delete this.idIndex_[i],e=!0;break}return e}setLoader(t){this.loader_=t}setUrl(t){(0,x.h)(this.format_,7),this.url_=t,this.setLoader((0,y.Be)(t,this.format_))}}const b=G},72338:(t,e,i)=>{i.d(e,{Z:()=>S});var r=i(85487),s=i(54759),n=i(11702),o=i(8738),a=i(37195);const l="tileloadstart",h="tileloadend",u="tileloaderror";var c=i(291),d=i(58458),g=i(74187),f=i(99515),_=i(62369),p=i(98634),C=i(57248),E=i(4307);class x extends d.Z{constructor(t){super({attributions:t.attributions,attributionsCollapsible:t.attributionsCollapsible,projection:t.projection,state:t.state,wrapX:t.wrapX,interpolate:t.interpolate}),this.on,this.once,this.un,this.opaque_=void 0!==t.opaque&&t.opaque,this.tilePixelRatio_=void 0!==t.tilePixelRatio?t.tilePixelRatio:1,this.tileGrid=void 0!==t.tileGrid?t.tileGrid:null;const e=[256,256];this.tileGrid&&(0,E.Pq)(this.tileGrid.getTileSize(this.tileGrid.getMinZoom()),e),this.tileCache=new n.Z(t.cacheSize||0),this.tmpSize=[0,0],this.key_=t.key||"",this.tileOptions={transition:t.transition,interpolate:t.interpolate},this.zDirection=t.zDirection?t.zDirection:0}canExpireCache(){return this.tileCache.canExpireCache()}expireCache(t,e){const i=this.getTileCacheForProjection(t);i&&i.expireCache(e)}forEachLoadedTile(t,e,i,r){const s=this.getTileCacheForProjection(t);if(!s)return!1;let n,o,l,h=!0;for(let t=i.minX;t<=i.maxX;++t)for(let u=i.minY;u<=i.maxY;++u)o=(0,p.lg)(e,t,u),l=!1,s.containsKey(o)&&(n=s.get(o),l=n.getState()===a.Z.LOADED,l&&(l=!1!==r(n))),l||(h=!1);return h}getGutterForProjection(t){return 0}getKey(){return this.key_}setKey(t){this.key_!==t&&(this.key_=t,this.changed())}getOpaque(t){return this.opaque_}getResolutions(){return this.tileGrid?this.tileGrid.getResolutions():null}getTile(t,e,i,r,s){return(0,g.O3)()}getTileGrid(){return this.tileGrid}getTileGridForProjection(t){return this.tileGrid?this.tileGrid:(0,C.X$)(t)}getTileCacheForProjection(t){const e=this.getProjection();return(0,f.h)(null===e||(0,_.OP)(e,t),68),this.tileCache}getTilePixelRatio(t){return this.tilePixelRatio_}getTilePixelSize(t,e,i){const r=this.getTileGridForProjection(i),s=this.getTilePixelRatio(e),n=(0,E.Pq)(r.getTileSize(t),this.tmpSize);return 1==s?n:(0,E.bA)(n,s,this.tmpSize)}getTileCoordForTileUrlFunction(t,e){e=void 0!==e?e:this.getProjection();const i=this.getTileGridForProjection(e);return this.getWrapX()&&e.isGlobal()&&(t=(0,C.Cf)(i,t,e)),(0,p.tE)(t,i)?t:null}clear(){this.tileCache.clear()}refresh(){this.clear(),super.refresh()}updateCacheSize(t,e){const i=this.getTileCacheForProjection(e);t>i.highWaterMark&&(i.highWaterMark=t)}useTile(t,e,i,r){}}class F extends c.ZP{constructor(t,e){super(t),this.tile=e}}const v=x;var m=i(67848);class R extends v{constructor(t){super({attributions:t.attributions,cacheSize:t.cacheSize,opaque:t.opaque,projection:t.projection,state:t.state,tileGrid:t.tileGrid,tilePixelRatio:t.tilePixelRatio,wrapX:t.wrapX,transition:t.transition,interpolate:t.interpolate,key:t.key,attributionsCollapsible:t.attributionsCollapsible,zDirection:t.zDirection}),this.generateTileUrlFunction_=this.tileUrlFunction===R.prototype.tileUrlFunction,this.tileLoadFunction=t.tileLoadFunction,t.tileUrlFunction&&(this.tileUrlFunction=t.tileUrlFunction),this.urls=null,t.urls?this.setUrls(t.urls):t.url&&this.setUrl(t.url),this.tileLoadingKeys_={}}getTileLoadFunction(){return this.tileLoadFunction}getTileUrlFunction(){return Object.getPrototypeOf(this).tileUrlFunction===this.tileUrlFunction?this.tileUrlFunction.bind(this):this.tileUrlFunction}getUrls(){return this.urls}handleTileChange(t){const e=t.target,i=(0,g.sq)(e),r=e.getState();let s;r==a.Z.LOADING?(this.tileLoadingKeys_[i]=!0,s=l):i in this.tileLoadingKeys_&&(delete this.tileLoadingKeys_[i],s=r==a.Z.ERROR?u:r==a.Z.LOADED?h:void 0),null!=s&&this.dispatchEvent(new F(s,e))}setTileLoadFunction(t){this.tileCache.clear(),this.tileLoadFunction=t,this.changed()}setTileUrlFunction(t,e){this.tileUrlFunction=t,this.tileCache.pruneExceptNewestZ(),void 0!==e?this.setKey(e):this.changed()}setUrl(t){const e=(0,m.Gk)(t);this.urls=e,this.setUrls(e)}setUrls(t){this.urls=t;const e=t.join("\n");this.generateTileUrlFunction_?this.setTileUrlFunction((0,m.uR)(t,this.tileGrid),e):this.setKey(e)}tileUrlFunction(t,e,i){}useTile(t,e,i){const r=(0,p.lg)(t,e,i);this.tileCache.containsKey(r)&&this.tileCache.get(r)}}const T=R;var y=i(82559),I=i(94768),G=i(28641),b=i(69374),Z=i(37537);const S=class extends T{constructor(t){const e=t.projection||"EPSG:3857",i=t.extent||(0,C.Tl)(e),r=t.tileGrid||(0,C.dl)({extent:i,maxResolution:t.maxResolution,maxZoom:void 0!==t.maxZoom?t.maxZoom:22,minZoom:t.minZoom,tileSize:t.tileSize||512});super({attributions:t.attributions,attributionsCollapsible:t.attributionsCollapsible,cacheSize:t.cacheSize,interpolate:!0,opaque:!1,projection:e,state:t.state,tileGrid:r,tileLoadFunction:t.tileLoadFunction?t.tileLoadFunction:L,tileUrlFunction:t.tileUrlFunction,url:t.url,urls:t.urls,wrapX:void 0===t.wrapX||t.wrapX,transition:t.transition,zDirection:void 0===t.zDirection?1:t.zDirection}),this.format_=t.format?t.format:null,this.sourceTileCache=new n.Z(this.tileCache.highWaterMark),this.overlaps_=null==t.overlaps||t.overlaps,this.tileClass=t.tileClass?t.tileClass:s.Z,this.tileGrids_={}}getFeaturesInExtent(t){const e=[],i=this.tileCache;if(0===i.getCount())return e;const r=(0,p.Ul)(i.peekFirstKey())[0],s=this.tileGrid;return i.forEach((function(i){if(i.tileCoord[0]!==r||i.getState()!==a.Z.LOADED)return;const n=i.getSourceTiles();for(let i=0,r=n.length;i<r;++i){const r=n[i],o=r.tileCoord;if((0,G.kK)(t,s.getTileCoordExtent(o))){const i=r.getFeatures();if(i)for(let r=0,s=i.length;r<s;++r){const s=i[r],n=s.getGeometry();(0,G.kK)(t,n.getExtent())&&e.push(s)}}}})),e}getOverlaps(){return this.overlaps_}clear(){this.tileCache.clear(),this.sourceTileCache.clear()}expireCache(t,e){const i=this.getTileCacheForProjection(t),r=Object.keys(e).reduce(((t,e)=>{const r=(0,p.MY)(e),s=i.peek(r);if(s){const e=s.sourceTiles;for(let i=0,r=e.length;i<r;++i)t[e[i].getKey()]=!0}return t}),{});super.expireCache(t,e),this.sourceTileCache.expireCache(r)}getSourceTiles(t,e,i){if(i.getState()===a.Z.IDLE){i.setState(a.Z.LOADING);const s=i.wrappedTileCoord,n=this.getTileGridForProjection(e),o=n.getTileCoordExtent(s),l=s[0],h=n.getResolution(l);(0,G.f3)(o,-h,o);const u=this.tileGrid,c=u.getExtent();c&&(0,G.Ed)(o,c,o);const d=u.getZForResolution(h,this.zDirection);u.forEachTileCoord(o,d,(s=>{const n=this.tileUrlFunction(s,t,e),o=this.sourceTileCache.containsKey(n)?this.sourceTileCache.get(n):new this.tileClass(s,n?a.Z.IDLE:a.Z.EMPTY,n,this.format_,this.tileLoadFunction);i.sourceTiles.push(o);const l=o.getState();if(l<a.Z.LOADED){const t=e=>{this.handleTileChange(e);const s=o.getState();if(s===a.Z.LOADED||s===a.Z.ERROR){const e=o.getKey();e in i.errorTileKeys?o.getState()===a.Z.LOADED&&delete i.errorTileKeys[e]:i.loadingSourceTiles--,s===a.Z.ERROR?i.errorTileKeys[e]=!0:o.removeEventListener(r.Z.CHANGE,t),0===i.loadingSourceTiles&&i.setState((0,b.x)(i.errorTileKeys)?a.Z.LOADED:a.Z.ERROR)}};o.addEventListener(r.Z.CHANGE,t),i.loadingSourceTiles++}l===a.Z.IDLE&&(o.extent=u.getTileCoordExtent(s),o.projection=e,o.resolution=u.getResolution(s[0]),this.sourceTileCache.set(n,o),o.load())})),i.loadingSourceTiles||i.setState(i.sourceTiles.some((t=>t.getState()===a.Z.ERROR))?a.Z.ERROR:a.Z.LOADED)}return i.sourceTiles}getTile(t,e,i,r,s){const n=(0,p.lg)(t,e,i),o=this.getKey();let l;if(this.tileCache.containsKey(n)&&(l=this.tileCache.get(n),l.key===o))return l;const h=[t,e,i];let u=this.getTileCoordForTileUrlFunction(h,s);const c=this.getTileGrid().getExtent(),d=this.getTileGridForProjection(s);if(u&&c){const e=d.getTileCoordExtent(u);(0,G.f3)(e,-d.getResolution(t),e),(0,G.kK)(c,e)||(u=null)}let g=!0;if(null!==u){const e=this.tileGrid,i=d.getResolution(t),n=e.getZForResolution(i,1),o=d.getTileCoordExtent(u);(0,G.f3)(o,-i,o),e.forEachTileCoord(o,n,function(t){g=g&&!this.tileUrlFunction(t,r,s)}.bind(this))}const f=new y.Z(h,g?a.Z.EMPTY:a.Z.IDLE,u,this.getSourceTiles.bind(this,r,s));return f.key=o,l?(f.interimTile=l,f.refreshInterimChain(),this.tileCache.replace(n,f)):this.tileCache.set(n,f),f}getTileGridForProjection(t){const e=t.getCode();let i=this.tileGrids_[e];if(!i){const t=this.tileGrid,r=t.getResolutions().slice(),s=r.map((function(e,i){return t.getOrigin(i)})),n=r.map((function(e,i){return t.getTileSize(i)})),a=I.e+1;for(let t=r.length;t<a;++t)r.push(r[t-1]/2),s.push(s[t-1]),n.push(n[t-1]);i=new o.Z({extent:t.getExtent(),origins:s,resolutions:r,tileSizes:n}),this.tileGrids_[e]=i}return i}getTilePixelRatio(t){return t}getTilePixelSize(t,e,i){const r=this.getTileGridForProjection(i),s=(0,E.Pq)(r.getTileSize(t),this.tmpSize);return[Math.round(s[0]*e),Math.round(s[1]*e)]}updateCacheSize(t,e){super.updateCacheSize(2*t,e),this.sourceTileCache.highWaterMark=this.getTileCacheForProjection(e).highWaterMark}};function L(t,e){t.setLoader((function(i,r,s){(0,Z.ov)(e,t.getFormat(),i,r,s,t.onLoad.bind(t),t.onError.bind(t))}))}},97580:(t,e,i)=>{i.d(e,{Sp:()=>n});var r=i(33983);const s=6371008.8;function n(t,e,i){i=i||s;const n=(0,r.Yr)(t[1]),o=(0,r.Yr)(e[1]),a=(o-n)/2,l=(0,r.Yr)(e[0]-t[0])/2,h=Math.sin(a)*Math.sin(a)+Math.sin(l)*Math.sin(l)*Math.cos(n)*Math.cos(o);return 2*i*Math.atan2(Math.sqrt(h),Math.sqrt(1-h))}}}]);