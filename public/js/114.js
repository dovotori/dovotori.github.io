"use strict";(self.webpackChunkdovotori_portfolio=self.webpackChunkdovotori_portfolio||[]).push([[114],{58458:(t,e,r)=>{r.d(e,{Z:()=>c});var i,o=r(72971),n=r(44562),a=r(74187),s=r(62369),u=(i=function(t,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])},i(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});function l(t){return t?Array.isArray(t)?function(e){return t}:"function"==typeof t?t:function(e){return[t]}:null}const c=function(t){function e(e){var r=t.call(this)||this;r.projection=(0,s.U2)(e.projection),r.attributions_=l(e.attributions),r.attributionsCollapsible_=void 0===e.attributionsCollapsible||e.attributionsCollapsible,r.loading=!1,r.state_=void 0!==e.state?e.state:n.Z.READY,r.wrapX_=void 0!==e.wrapX&&e.wrapX,r.interpolate_=!!e.interpolate,r.viewResolver=null,r.viewRejector=null;var i=r;return r.viewPromise_=new Promise((function(t,e){i.viewResolver=t,i.viewRejector=e})),r}return u(e,t),e.prototype.getAttributions=function(){return this.attributions_},e.prototype.getAttributionsCollapsible=function(){return this.attributionsCollapsible_},e.prototype.getProjection=function(){return this.projection},e.prototype.getResolutions=function(){return(0,a.O3)()},e.prototype.getView=function(){return this.viewPromise_},e.prototype.getState=function(){return this.state_},e.prototype.getWrapX=function(){return this.wrapX_},e.prototype.getInterpolate=function(){return this.interpolate_},e.prototype.refresh=function(){this.changed()},e.prototype.setAttributions=function(t){this.attributions_=l(t),this.changed()},e.prototype.setState=function(t){this.state_=t,this.changed()},e}(o.Z)},44562:(t,e,r)=>{r.d(e,{Z:()=>i});const i={UNDEFINED:"undefined",LOADING:"loading",READY:"ready",ERROR:"error"}},19711:(t,e,r)=>{r.d(e,{Z:()=>O});var i=r(78714),o=r(42071),n=r(291),a=r(85487),s=r(35990),u=r(39781),l=r(58458),c=r(44562);const h="addfeature",p="changefeature",f="clear",d="removefeature",y="featuresloadstart",_="featuresloadend",g="featuresloaderror";var v,C=r(36885),E=r(34087),F=r(99515),x=r(28641),m=r(65537),R=r(74187),T=r(69374),b=r(65818),I=r(37537),G=(v=function(t,e){return v=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])},v(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=t}v(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),w=function(t){function e(e,r,i){var o=t.call(this,e)||this;return o.feature=r,o.features=i,o}return G(e,t),e}(n.ZP),Z=function(t){function e(e){var r=this,o=e||{};(r=t.call(this,{attributions:o.attributions,interpolate:!0,projection:void 0,state:c.Z.READY,wrapX:void 0===o.wrapX||o.wrapX})||this).on,r.once,r.un,r.loader_=C.Zn,r.format_=o.format,r.overlaps_=void 0===o.overlaps||o.overlaps,r.url_=o.url,void 0!==o.loader?r.loader_=o.loader:void 0!==r.url_&&((0,F.h)(r.format_,7),r.loader_=(0,I.Be)(r.url_,r.format_)),r.strategy_=void 0!==o.strategy?o.strategy:E.$6;var n,a,s=void 0===o.useSpatialIndex||o.useSpatialIndex;return r.featuresRtree_=s?new u.Z:null,r.loadedExtentsRtree_=new u.Z,r.loadingExtentsCount_=0,r.nullGeometryFeatures_={},r.idIndex_={},r.uidIndex_={},r.featureChangeKeys_={},r.featuresCollection_=null,Array.isArray(o.features)?a=o.features:o.features&&(a=(n=o.features).getArray()),s||void 0!==n||(n=new i.Z(a)),void 0!==a&&r.addFeaturesInternal(a),void 0!==n&&r.bindFeaturesCollection_(n),r}return G(e,t),e.prototype.addFeature=function(t){this.addFeatureInternal(t),this.changed()},e.prototype.addFeatureInternal=function(t){var e=(0,R.sq)(t);if(this.addToIndex_(e,t)){this.setupChangeEvents_(e,t);var r=t.getGeometry();if(r){var i=r.getExtent();this.featuresRtree_&&this.featuresRtree_.insert(i,t)}else this.nullGeometryFeatures_[e]=t;this.dispatchEvent(new w(h,t))}else this.featuresCollection_&&this.featuresCollection_.remove(t)},e.prototype.setupChangeEvents_=function(t,e){this.featureChangeKeys_[t]=[(0,b.oL)(e,a.Z.CHANGE,this.handleFeatureChange_,this),(0,b.oL)(e,s.Z.PROPERTYCHANGE,this.handleFeatureChange_,this)]},e.prototype.addToIndex_=function(t,e){var r=!0,i=e.getId();return void 0!==i&&(i.toString()in this.idIndex_?r=!1:this.idIndex_[i.toString()]=e),r&&((0,F.h)(!(t in this.uidIndex_),30),this.uidIndex_[t]=e),r},e.prototype.addFeatures=function(t){this.addFeaturesInternal(t),this.changed()},e.prototype.addFeaturesInternal=function(t){for(var e=[],r=[],i=[],o=0,n=t.length;o<n;o++){var a=t[o],s=(0,R.sq)(a);this.addToIndex_(s,a)&&r.push(a)}o=0;for(var u=r.length;o<u;o++){a=r[o],s=(0,R.sq)(a);this.setupChangeEvents_(s,a);var l=a.getGeometry();if(l){var c=l.getExtent();e.push(c),i.push(a)}else this.nullGeometryFeatures_[s]=a}if(this.featuresRtree_&&this.featuresRtree_.load(e,i),this.hasListener(h)){o=0;for(var p=r.length;o<p;o++)this.dispatchEvent(new w(h,r[o]))}},e.prototype.bindFeaturesCollection_=function(t){var e=!1;this.addEventListener(h,(function(r){e||(e=!0,t.push(r.feature),e=!1)})),this.addEventListener(d,(function(r){e||(e=!0,t.remove(r.feature),e=!1)})),t.addEventListener(o.Z.ADD,function(t){e||(e=!0,this.addFeature(t.element),e=!1)}.bind(this)),t.addEventListener(o.Z.REMOVE,function(t){e||(e=!0,this.removeFeature(t.element),e=!1)}.bind(this)),this.featuresCollection_=t},e.prototype.clear=function(t){if(t){for(var e in this.featureChangeKeys_){this.featureChangeKeys_[e].forEach(b.bN)}this.featuresCollection_||(this.featureChangeKeys_={},this.idIndex_={},this.uidIndex_={})}else if(this.featuresRtree_){var r=function(t){this.removeFeatureInternal(t)}.bind(this);for(var i in this.featuresRtree_.forEach(r),this.nullGeometryFeatures_)this.removeFeatureInternal(this.nullGeometryFeatures_[i])}this.featuresCollection_&&this.featuresCollection_.clear(),this.featuresRtree_&&this.featuresRtree_.clear(),this.nullGeometryFeatures_={};var o=new w(f);this.dispatchEvent(o),this.changed()},e.prototype.forEachFeature=function(t){if(this.featuresRtree_)return this.featuresRtree_.forEach(t);this.featuresCollection_&&this.featuresCollection_.forEach(t)},e.prototype.forEachFeatureAtCoordinateDirect=function(t,e){var r=[t[0],t[1],t[0],t[1]];return this.forEachFeatureInExtent(r,(function(r){return r.getGeometry().intersectsCoordinate(t)?e(r):void 0}))},e.prototype.forEachFeatureInExtent=function(t,e){if(this.featuresRtree_)return this.featuresRtree_.forEachInExtent(t,e);this.featuresCollection_&&this.featuresCollection_.forEach(e)},e.prototype.forEachFeatureIntersectingExtent=function(t,e){return this.forEachFeatureInExtent(t,(function(r){if(r.getGeometry().intersectsExtent(t)){var i=e(r);if(i)return i}}))},e.prototype.getFeaturesCollection=function(){return this.featuresCollection_},e.prototype.getFeatures=function(){var t;return this.featuresCollection_?t=this.featuresCollection_.getArray().slice(0):this.featuresRtree_&&(t=this.featuresRtree_.getAll(),(0,T.xb)(this.nullGeometryFeatures_)||(0,m.l7)(t,(0,T.KX)(this.nullGeometryFeatures_))),t},e.prototype.getFeaturesAtCoordinate=function(t){var e=[];return this.forEachFeatureAtCoordinateDirect(t,(function(t){e.push(t)})),e},e.prototype.getFeaturesInExtent=function(t){return this.featuresRtree_?this.featuresRtree_.getInExtent(t):this.featuresCollection_?this.featuresCollection_.getArray().slice(0):[]},e.prototype.getClosestFeatureToCoordinate=function(t,e){var r=t[0],i=t[1],o=null,n=[NaN,NaN],a=1/0,s=[-1/0,-1/0,1/0,1/0],u=e||C.uX;return this.featuresRtree_.forEachInExtent(s,(function(t){if(u(t)){var e=t.getGeometry(),l=a;if((a=e.closestPointXY(r,i,n,a))<l){o=t;var c=Math.sqrt(a);s[0]=r-c,s[1]=i-c,s[2]=r+c,s[3]=i+c}}})),o},e.prototype.getExtent=function(t){return this.featuresRtree_.getExtent(t)},e.prototype.getFeatureById=function(t){var e=this.idIndex_[t.toString()];return void 0!==e?e:null},e.prototype.getFeatureByUid=function(t){var e=this.uidIndex_[t];return void 0!==e?e:null},e.prototype.getFormat=function(){return this.format_},e.prototype.getOverlaps=function(){return this.overlaps_},e.prototype.getUrl=function(){return this.url_},e.prototype.handleFeatureChange_=function(t){var e=t.target,r=(0,R.sq)(e),i=e.getGeometry();if(i){var o=i.getExtent();r in this.nullGeometryFeatures_?(delete this.nullGeometryFeatures_[r],this.featuresRtree_&&this.featuresRtree_.insert(o,e)):this.featuresRtree_&&this.featuresRtree_.update(o,e)}else r in this.nullGeometryFeatures_||(this.featuresRtree_&&this.featuresRtree_.remove(e),this.nullGeometryFeatures_[r]=e);var n=e.getId();if(void 0!==n){var a=n.toString();this.idIndex_[a]!==e&&(this.removeFromIdIndex_(e),this.idIndex_[a]=e)}else this.removeFromIdIndex_(e),this.uidIndex_[r]=e;this.changed(),this.dispatchEvent(new w(p,e))},e.prototype.hasFeature=function(t){var e=t.getId();return void 0!==e?e in this.idIndex_:(0,R.sq)(t)in this.uidIndex_},e.prototype.isEmpty=function(){return this.featuresRtree_?this.featuresRtree_.isEmpty()&&(0,T.xb)(this.nullGeometryFeatures_):!this.featuresCollection_||0===this.featuresCollection_.getLength()},e.prototype.loadFeatures=function(t,e,r){for(var i=this.loadedExtentsRtree_,o=this.strategy_(t,e,r),n=function(t,n){var s=o[t];i.forEachInExtent(s,(function(t){return(0,x.r4)(t.extent,s)}))||(++a.loadingExtentsCount_,a.dispatchEvent(new w(y)),a.loader_.call(a,s,e,r,function(t){--this.loadingExtentsCount_,this.dispatchEvent(new w(_,void 0,t))}.bind(a),function(){--this.loadingExtentsCount_,this.dispatchEvent(new w(g))}.bind(a)),i.insert(s,{extent:s.slice()}))},a=this,s=0,u=o.length;s<u;++s)n(s);this.loading=!(this.loader_.length<4)&&this.loadingExtentsCount_>0},e.prototype.refresh=function(){this.clear(!0),this.loadedExtentsRtree_.clear(),t.prototype.refresh.call(this)},e.prototype.removeLoadedExtent=function(t){var e,r=this.loadedExtentsRtree_;r.forEachInExtent(t,(function(r){if((0,x.fS)(r.extent,t))return e=r,!0})),e&&r.remove(e)},e.prototype.removeFeature=function(t){if(t){var e=(0,R.sq)(t);e in this.nullGeometryFeatures_?delete this.nullGeometryFeatures_[e]:this.featuresRtree_&&this.featuresRtree_.remove(t),this.removeFeatureInternal(t)&&this.changed()}},e.prototype.removeFeatureInternal=function(t){var e=(0,R.sq)(t),r=this.featureChangeKeys_[e];if(r){r.forEach(b.bN),delete this.featureChangeKeys_[e];var i=t.getId();return void 0!==i&&delete this.idIndex_[i.toString()],delete this.uidIndex_[e],this.dispatchEvent(new w(d,t)),t}},e.prototype.removeFromIdIndex_=function(t){var e=!1;for(var r in this.idIndex_)if(this.idIndex_[r]===t){delete this.idIndex_[r],e=!0;break}return e},e.prototype.setLoader=function(t){this.loader_=t},e.prototype.setUrl=function(t){(0,F.h)(this.format_,7),this.url_=t,this.setLoader((0,I.Be)(t,this.format_))},e}(l.Z);const O=Z},72338:(t,e,r)=>{r.d(e,{Z:()=>O});var i=r(85487),o=r(54759),n=r(11702),a=r(37195);const s="tileloadstart",u="tileloadend",l="tileloaderror";var c,h=r(291),p=r(58458),f=r(74187),d=r(99515),y=r(62369),_=r(98634),g=r(99012),v=r(4307),C=(c=function(t,e){return c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])},c(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=t}c(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),E=function(t){function e(e){var r=t.call(this,{attributions:e.attributions,attributionsCollapsible:e.attributionsCollapsible,projection:e.projection,state:e.state,wrapX:e.wrapX,interpolate:e.interpolate})||this;r.on,r.once,r.un,r.opaque_=void 0!==e.opaque&&e.opaque,r.tilePixelRatio_=void 0!==e.tilePixelRatio?e.tilePixelRatio:1,r.tileGrid=void 0!==e.tileGrid?e.tileGrid:null;return r.tileGrid&&(0,v.Pq)(r.tileGrid.getTileSize(r.tileGrid.getMinZoom()),[256,256]),r.tileCache=new n.Z(e.cacheSize||0),r.tmpSize=[0,0],r.key_=e.key||"",r.tileOptions={transition:e.transition,interpolate:e.interpolate},r.zDirection=e.zDirection?e.zDirection:0,r}return C(e,t),e.prototype.canExpireCache=function(){return this.tileCache.canExpireCache()},e.prototype.expireCache=function(t,e){var r=this.getTileCacheForProjection(t);r&&r.expireCache(e)},e.prototype.forEachLoadedTile=function(t,e,r,i){var o=this.getTileCacheForProjection(t);if(!o)return!1;for(var n,s,u,l=!0,c=r.minX;c<=r.maxX;++c)for(var h=r.minY;h<=r.maxY;++h)s=(0,_.lg)(e,c,h),u=!1,o.containsKey(s)&&(u=(n=o.get(s)).getState()===a.Z.LOADED)&&(u=!1!==i(n)),u||(l=!1);return l},e.prototype.getGutterForProjection=function(t){return 0},e.prototype.getKey=function(){return this.key_},e.prototype.setKey=function(t){this.key_!==t&&(this.key_=t,this.changed())},e.prototype.getOpaque=function(t){return this.opaque_},e.prototype.getResolutions=function(){return this.tileGrid?this.tileGrid.getResolutions():null},e.prototype.getTile=function(t,e,r,i,o){return(0,f.O3)()},e.prototype.getTileGrid=function(){return this.tileGrid},e.prototype.getTileGridForProjection=function(t){return this.tileGrid?this.tileGrid:(0,g.X$)(t)},e.prototype.getTileCacheForProjection=function(t){return(0,d.h)((0,y.OP)(this.getProjection(),t),68),this.tileCache},e.prototype.getTilePixelRatio=function(t){return this.tilePixelRatio_},e.prototype.getTilePixelSize=function(t,e,r){var i=this.getTileGridForProjection(r),o=this.getTilePixelRatio(e),n=(0,v.Pq)(i.getTileSize(t),this.tmpSize);return 1==o?n:(0,v.bA)(n,o,this.tmpSize)},e.prototype.getTileCoordForTileUrlFunction=function(t,e){var r=void 0!==e?e:this.getProjection(),i=this.getTileGridForProjection(r);return this.getWrapX()&&r.isGlobal()&&(t=(0,g.Cf)(i,t,r)),(0,_.tE)(t,i)?t:null},e.prototype.clear=function(){this.tileCache.clear()},e.prototype.refresh=function(){this.clear(),t.prototype.refresh.call(this)},e.prototype.updateCacheSize=function(t,e){var r=this.getTileCacheForProjection(e);t>r.highWaterMark&&(r.highWaterMark=t)},e.prototype.useTile=function(t,e,r,i){},e}(p.Z),F=function(t){function e(e,r){var i=t.call(this,e)||this;return i.tile=r,i}return C(e,t),e}(h.ZP);const x=E;var m=r(67848),R=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])},t(e,r)};return function(e,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function i(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(i.prototype=r.prototype,new i)}}();const T=function(t){function e(r){var i=t.call(this,{attributions:r.attributions,cacheSize:r.cacheSize,opaque:r.opaque,projection:r.projection,state:r.state,tileGrid:r.tileGrid,tilePixelRatio:r.tilePixelRatio,wrapX:r.wrapX,transition:r.transition,interpolate:r.interpolate,key:r.key,attributionsCollapsible:r.attributionsCollapsible,zDirection:r.zDirection})||this;return i.generateTileUrlFunction_=i.tileUrlFunction===e.prototype.tileUrlFunction,i.tileLoadFunction=r.tileLoadFunction,r.tileUrlFunction&&(i.tileUrlFunction=r.tileUrlFunction),i.urls=null,r.urls?i.setUrls(r.urls):r.url&&i.setUrl(r.url),i.tileLoadingKeys_={},i}return R(e,t),e.prototype.getTileLoadFunction=function(){return this.tileLoadFunction},e.prototype.getTileUrlFunction=function(){return Object.getPrototypeOf(this).tileUrlFunction===this.tileUrlFunction?this.tileUrlFunction.bind(this):this.tileUrlFunction},e.prototype.getUrls=function(){return this.urls},e.prototype.handleTileChange=function(t){var e,r=t.target,i=(0,f.sq)(r),o=r.getState();o==a.Z.LOADING?(this.tileLoadingKeys_[i]=!0,e=s):i in this.tileLoadingKeys_&&(delete this.tileLoadingKeys_[i],e=o==a.Z.ERROR?l:o==a.Z.LOADED?u:void 0),null!=e&&this.dispatchEvent(new F(e,r))},e.prototype.setTileLoadFunction=function(t){this.tileCache.clear(),this.tileLoadFunction=t,this.changed()},e.prototype.setTileUrlFunction=function(t,e){this.tileUrlFunction=t,this.tileCache.pruneExceptNewestZ(),void 0!==e?this.setKey(e):this.changed()},e.prototype.setUrl=function(t){var e=(0,m.Gk)(t);this.urls=e,this.setUrls(e)},e.prototype.setUrls=function(t){this.urls=t;var e=t.join("\n");this.generateTileUrlFunction_?this.setTileUrlFunction((0,m.uR)(t,this.tileGrid),e):this.setKey(e)},e.prototype.tileUrlFunction=function(t,e,r){},e.prototype.useTile=function(t,e,r){var i=(0,_.lg)(t,e,r);this.tileCache.containsKey(i)&&this.tileCache.get(i)},e}(x);var b=r(82559),I=r(28641),G=r(69374),w=r(37537),Z=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])},t(e,r)};return function(e,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function i(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(i.prototype=r.prototype,new i)}}();const O=function(t){function e(e){var r=this,i=e.projection||"EPSG:3857",a=e.extent||(0,g.Tl)(i),s=e.tileGrid||(0,g.dl)({extent:a,maxResolution:e.maxResolution,maxZoom:void 0!==e.maxZoom?e.maxZoom:22,minZoom:e.minZoom,tileSize:e.tileSize||512});return(r=t.call(this,{attributions:e.attributions,attributionsCollapsible:e.attributionsCollapsible,cacheSize:e.cacheSize,interpolate:!0,opaque:!1,projection:i,state:e.state,tileGrid:s,tileLoadFunction:e.tileLoadFunction?e.tileLoadFunction:S,tileUrlFunction:e.tileUrlFunction,url:e.url,urls:e.urls,wrapX:void 0===e.wrapX||e.wrapX,transition:e.transition,zDirection:void 0===e.zDirection?1:e.zDirection})||this).format_=e.format?e.format:null,r.sourceTileCache=new n.Z(r.tileCache.highWaterMark),r.overlaps_=null==e.overlaps||e.overlaps,r.tileClass=e.tileClass?e.tileClass:o.Z,r.tileGrids_={},r}return Z(e,t),e.prototype.getFeaturesInExtent=function(t){var e=[],r=this.tileCache;if(0===r.getCount())return e;var i=(0,_.Ul)(r.peekFirstKey())[0],o=this.tileGrid;return r.forEach((function(r){if(r.tileCoord[0]===i&&r.getState()===a.Z.LOADED)for(var n=r.getSourceTiles(),s=0,u=n.length;s<u;++s){var l=n[s],c=l.tileCoord;if((0,I.kK)(t,o.getTileCoordExtent(c))){var h=l.getFeatures();if(h)for(var p=0,f=h.length;p<f;++p){var d=h[p],y=d.getGeometry();(0,I.kK)(t,y.getExtent())&&e.push(d)}}}})),e},e.prototype.getOverlaps=function(){return this.overlaps_},e.prototype.clear=function(){this.tileCache.clear(),this.sourceTileCache.clear()},e.prototype.expireCache=function(e,r){var i=this.getTileCacheForProjection(e),o=Object.keys(r).reduce((function(t,e){var r=(0,_.MY)(e);if(i.containsKey(r))for(var o=i.get(r).sourceTiles,n=0,a=o.length;n<a;++n)t[o[n].getKey()]=!0;return t}),{});t.prototype.expireCache.call(this,e,r),this.sourceTileCache.expireCache(o)},e.prototype.getSourceTiles=function(t,e,r){var o=this;if(r.getState()===a.Z.IDLE){r.setState(a.Z.LOADING);var n=r.wrappedTileCoord,s=this.getTileGridForProjection(e),u=s.getTileCoordExtent(n),l=n[0],c=s.getResolution(l);(0,I.f3)(u,-c,u);var h=this.tileGrid,p=h.getExtent();p&&(0,I.Ed)(u,p,u);var f=h.getZForResolution(c,1);h.forEachTileCoord(u,f,(function(n){var s=o.tileUrlFunction(n,t,e),u=o.sourceTileCache.containsKey(s)?o.sourceTileCache.get(s):new o.tileClass(n,s?a.Z.IDLE:a.Z.EMPTY,s,o.format_,o.tileLoadFunction);r.sourceTiles.push(u);var l=u.getState();if(l<a.Z.LOADED){var c=function(t){o.handleTileChange(t);var e=u.getState();if(e===a.Z.LOADED||e===a.Z.ERROR){var n=u.getKey();n in r.errorTileKeys?u.getState()===a.Z.LOADED&&delete r.errorTileKeys[n]:r.loadingSourceTiles--,e===a.Z.ERROR?r.errorTileKeys[n]=!0:u.removeEventListener(i.Z.CHANGE,c),0===r.loadingSourceTiles&&r.setState((0,G.xb)(r.errorTileKeys)?a.Z.LOADED:a.Z.ERROR)}};u.addEventListener(i.Z.CHANGE,c),r.loadingSourceTiles++}l===a.Z.IDLE&&(u.extent=h.getTileCoordExtent(n),u.projection=e,u.resolution=h.getResolution(n[0]),o.sourceTileCache.set(s,u),u.load())})),r.loadingSourceTiles||r.setState(r.sourceTiles.some((function(t){return t.getState()===a.Z.ERROR}))?a.Z.ERROR:a.Z.LOADED)}return r.sourceTiles},e.prototype.getTile=function(t,e,r,i,o){var n,s=(0,_.lg)(t,e,r),u=this.getKey();if(this.tileCache.containsKey(s)&&(n=this.tileCache.get(s)).key===u)return n;var l=[t,e,r],c=this.getTileCoordForTileUrlFunction(l,o),h=this.getTileGrid().getExtent(),p=this.getTileGridForProjection(o);if(c&&h){var f=p.getTileCoordExtent(c);(0,I.f3)(f,-p.getResolution(t),f),(0,I.kK)(h,f)||(c=null)}var d=!0;if(null!==c){var y=this.tileGrid,g=p.getResolution(t),v=y.getZForResolution(g,1),C=p.getTileCoordExtent(c);(0,I.f3)(C,-g,C),y.forEachTileCoord(C,v,function(t){d=d&&!this.tileUrlFunction(t,i,o)}.bind(this))}var E=new b.Z(l,d?a.Z.EMPTY:a.Z.IDLE,c,this.getSourceTiles.bind(this,i,o));return E.key=u,n?(E.interimTile=n,E.refreshInterimChain(),this.tileCache.replace(s,E)):this.tileCache.set(s,E),E},e.prototype.getTileGridForProjection=function(t){var e=t.getCode(),r=this.tileGrids_[e];if(!r){var i=this.tileGrid;r=(0,g.RZ)(t,void 0,i?i.getTileSize(i.getMinZoom()):void 0),this.tileGrids_[e]=r}return r},e.prototype.getTilePixelRatio=function(t){return t},e.prototype.getTilePixelSize=function(t,e,r){var i=this.getTileGridForProjection(r),o=(0,v.Pq)(i.getTileSize(t),this.tmpSize);return[Math.round(o[0]*e),Math.round(o[1]*e)]},e.prototype.updateCacheSize=function(e,r){t.prototype.updateCacheSize.call(this,2*e,r),this.sourceTileCache.highWaterMark=this.getTileCacheForProjection(r).highWaterMark},e}(T);function S(t,e){t.setLoader((function(r,i,o){(0,w.ov)(e,t.getFormat(),r,i,o,t.onLoad.bind(t),t.onError.bind(t))}))}},97580:(t,e,r)=>{r.d(e,{Sp:()=>n});var i=r(33983),o=6371008.8;function n(t,e,r){var n=r||o,a=(0,i.Yr)(t[1]),s=(0,i.Yr)(e[1]),u=(s-a)/2,l=(0,i.Yr)(e[0]-t[0])/2,c=Math.sin(u)*Math.sin(u)+Math.sin(l)*Math.sin(l)*Math.cos(a)*Math.cos(s);return 2*n*Math.atan2(Math.sqrt(c),Math.sqrt(1-c))}}}]);