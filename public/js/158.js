(window.webpackJsonp=window.webpackJsonp||[]).push([[158],{286:function(t,e,i){"use strict";i.d(e,"a",(function(){return h}));var n=i(1),s=i.n(n),r=i(2),a=i.n(r),h=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};s()(this,t),this.value=e,this.speed=0,this.sampling=i.sampling||.7}return a()(t,[{key:"update",value:function(){this.value+=this.speed,this.speed*=this.sampling}},{key:"get",value:function(){return this.value}},{key:"set",value:function(t){this.speed+=t}}]),t}()},314:function(t,e,i){"use strict";var n=i(1),s=i.n(n),r=i(2),a=i.n(r),h=i(53),o=i(35),u=i(19),d=function(){function t(){s()(this,t),this.d=new Float32Array(8),this.identity()}return a()(t,[{key:"identity",value:function(){return this.d[0]=0,this.d[1]=0,this.d[2]=0,this.d[3]=1,this.d[4]=0,this.d[5]=0,this.d[6]=0,this.d[7]=0,this}},{key:"set",value:function(t,e,i,n,s,r,a,h){return this.d[0]=t,this.d[1]=e,this.d[2]=i,this.d[3]=n,this.d[4]=s,this.d[5]=r,this.d[6]=a,this.d[7]=h,this}},{key:"add",value:function(t){return this.d[0]+=t.d[0],this.d[1]+=t.d[1],this.d[2]+=t.d[2],this.d[3]+=t.d[3],this.d[4]+=t.d[4],this.d[5]+=t.d[5],this.d[6]+=t.d[6],this.d[7]+=t.d[7],this}},{key:"translate",value:function(t){var e=this.d[0],i=this.d[1],n=this.d[2],s=this.d[3],r=.5*t[0],a=.5*t[1],h=.5*t[2],o=this.d[4],u=this.d[5],d=this.d[6],l=this.d[7];return this.d[0]=e,this.d[1]=i,this.d[2]=n,this.d[3]=s,this.d[4]=s*r+i*h-n*a+o,this.d[5]=s*a+n*r-e*h+u,this.d[6]=s*h+e*a-i*r+d,this.d[7]=-e*r-i*a-n*h+l,this}},{key:"multiply",value:function(t){var e=this.d[0],i=this.d[1],n=this.d[2],s=this.d[3],r=t.d[4],a=t.d[5],h=t.d[6],o=t.d[7],u=this.d[4],d=this.d[5],l=this.d[6],c=this.d[7],g=t.d[0],f=t.d[1],p=t.d[2],v=t.d[3];return this.d[0]=e*v+s*g+i*p-n*f,this.d[1]=i*v+s*f+n*g-e*p,this.d[2]=n*v+s*p+e*f-i*g,this.d[3]=s*v-e*g-i*f-n*p,this.d[4]=e*o+s*r+i*h-n*a+u*v+c*g+d*p-l*f,this.d[5]=i*o+s*a+n*r-e*h+d*v+c*f+l*g-u*p,this.d[6]=n*o+s*h+e*a-i*r+l*v+c*p+u*f-d*g,this.d[7]=s*o-e*r-i*a-n*h+c*v-u*g-d*f-l*p,this}},{key:"scale",value:function(t){return this.d[0]*=t,this.d[1]*=t,this.d[2]*=t,this.d[3]*=t,this.d[4]*=t,this.d[5]*=t,this.d[6]*=t,this.d[7]*=t,this}},{key:"rotateX",value:function(t){var e=-this.d[0],i=-this.d[1],n=-this.d[2],s=this.d[3],r=this.d[4],a=this.d[5],h=this.d[6],u=this.d[7],d=r*s+u*e+a*n-h*i,l=a*s+u*i+h*e-r*n,c=h*s+u*n+r*i-a*e,g=u*s-r*e-a*i-h*n,f=new o.a(this.d[0],this.d[1],this.d[2],this.d[3]);return f.rotateX(t),this.d[0]=f.getX(),this.d[1]=f.getY(),this.d[2]=f.getZ(),this.d[3]=f.getW(),e=f.getX(),i=f.getY(),n=f.getZ(),s=f.getW(),this.d[4]=d*s+g*e+l*n-c*i,this.d[5]=l*s+g*i+c*e-d*n,this.d[6]=c*s+g*n+d*i-l*e,this.d[7]=g*s-d*e-l*i-c*n,this}},{key:"rotateY",value:function(t){var e=-this.d[0],i=-this.d[1],n=-this.d[2],s=this.d[3],r=this.d[4],a=this.d[5],h=this.d[6],u=this.d[7],d=r*s+u*e+a*n-h*i,l=a*s+u*i+h*e-r*n,c=h*s+u*n+r*i-a*e,g=u*s-r*e-a*i-h*n,f=new o.a(this.d[0],this.d[1],this.d[2],this.d[3]);return f.rotateY(t),this.d[0]=f.getX(),this.d[1]=f.getY(),this.d[2]=f.getZ(),this.d[3]=f.getW(),e=f.getX(),i=f.getY(),n=f.getZ(),s=f.getW(),this.d[4]=d*s+g*e+l*n-c*i,this.d[5]=l*s+g*i+c*e-d*n,this.d[6]=c*s+g*n+d*i-l*e,this.d[7]=g*s-d*e-l*i-c*n,this}},{key:"rotateZ",value:function(t){var e=-this.d[0],i=-this.d[1],n=-this.d[2],s=this.d[3],r=this.d[4],a=this.d[5],h=this.d[6],u=this.d[7],d=r*s+u*e+a*n-h*i,l=a*s+u*i+h*e-r*n,c=h*s+u*n+r*i-a*e,g=u*s-r*e-a*i-h*n,f=new o.a(this.d[0],this.d[1],this.d[2],this.d[3]);return f.rotateZ(t),this.d[0]=f.getX(),this.d[1]=f.getY(),this.d[2]=f.getZ(),this.d[3]=f.getW(),e=f.getX(),i=f.getY(),n=f.getZ(),s=f.getW(),this.d[4]=d*s+g*e+l*n-c*i,this.d[5]=l*s+g*i+c*e-d*n,this.d[6]=c*s+g*n+d*i-l*e,this.d[7]=g*s-d*e-l*i-c*n,this}},{key:"rotateAroundAxis",value:function(t,e){if(Math.abs(e)<h.a)return this;var i=Math.hypot(t[0],t[1],t[2]),n=.5*e,s=Math.sin(n),r=s*t[0]/i,a=s*t[1]/i,o=s*t[2]/i,u=Math.cos(n),d=this.d[0],l=this.d[1],c=this.d[2],g=this.d[3];this.d[0]=d*u+g*r+l*o-c*a,this.d[1]=l*u+g*a+c*r-d*o,this.d[2]=c*u+g*o+d*a-l*r,this.d[3]=g*u-d*r-l*a-c*o;var f=this.d[4],p=this.d[5],v=this.d[6],m=this.d[7];return this.d[4]=f*u+m*r+p*o-v*a,this.d[5]=p*u+m*a+v*r-f*o,this.d[6]=v*u+m*o+f*a-p*r,this.d[7]=m*u-f*r-p*a-v*o,this}},{key:"getTranslation",value:function(){var t=this.d[4],e=this.d[5],i=this.d[6],n=this.d[7],s=-this.d[0],r=-this.d[1],a=-this.d[2],h=this.d[3],o=[3];return o[0]=2*(t*h+n*s+e*a-i*r),o[1]=2*(e*h+n*r+i*s-t*a),o[2]=2*(i*h+n*a+t*r-e*s),o}},{key:"toMatrix4",value:function(){var t=[16];return t[0]=1-2*this.d[1]*this.d[1]-2*this.d[2]*this.d[2],t[1]=2*this.d[0]*this.d[1]+2*this.d[3]*this.d[2],t[2]=2*this.d[0]*this.d[2]-2*this.d[3]*this.d[1],t[3]=0,t[4]=2*this.d[0]*this.d[1]-2*this.d[3]*this.d[2],t[5]=1-2*this.d[0]*this.d[0]-2*this.d[2]*this.d[2],t[6]=2*this.d[1]*this.d[2]+2*this.d[3]*this.d[0],t[7]=0,t[8]=2*this.d[0]*this.d[2]+2*this.d[3]*this.d[1],t[9]=2*this.d[1]*this.d[2]-2*this.d[3]*this.d[0],t[10]=1-2*this.d[0]*this.d[0]-2*this.d[1]*this.d[1],t[11]=0,t[12]=2*(-this.d[7]*this.d[0]+this.d[4]*this.d[3]-this.d[5]*this.d[2]+this.d[6]*this.d[1]),t[13]=2*(-this.d[7]*this.d[1]+this.d[4]*this.d[2]+this.d[5]*this.d[3]-this.d[6]*this.d[0]),t[14]=2*(-this.d[7]*this.d[2]-this.d[4]*this.d[1]+this.d[5]*this.d[0]+this.d[6]*this.d[3]),t[15]=1,(new u.a).setFromArray(t)}},{key:"get",value:function(){return this.d}}]),t}();e.a=d},351:function(t,e,i){var n=i(99),s=i(352);"string"==typeof(s=s.__esModule?s.default:s)&&(s=[[t.i,s,""]]);var r={insert:"head",singleton:!1};n(s,r);t.exports=s.locals||{}},352:function(t,e,i){"use strict";i.r(e);var n=i(60),s=i.n(n)()(!1);s.push([t.i,"#controls {\n  position: absolute;\n  top: 4px;\n  right: 4px;\n  display: flex;\n  align-items: stretch;\n  z-index: 1;\n}\n",""]),e.default=s},353:function(t,e,i){var n=i(99),s=i(354);"string"==typeof(s=s.__esModule?s.default:s)&&(s=[[t.i,s,""]]);var r={insert:"head",singleton:!1};n(s,r);t.exports=s.locals||{}},354:function(t,e,i){"use strict";i.r(e);var n=i(60),s=i.n(n)()(!1);s.push([t.i,"#fullscreen-toggle-btn {\n  border-radius: 0;\n  margin: 0;\n  padding: 4px;\n  border: solid 2px var(--project-color);\n}\n\n#fullscreen-toggle-btn:hover svg,\n#fullscreen-toggle-btn:active svg {\n  transform: scale(0.8);\n  opacity: 1;\n}\n\n#fullscreen-toggle-btn svg {\n  display: block;\n  width: 2em;\n  fill: #444;\n  opacity: 0.8;\n  transform: scale(0.6);\n  transition: opacity 300ms ease-out, transform 300ms ease-out;\n}\n\n[data-fullscreen] {\n  display: flex;\n  justify-content: center;\n  align-items: center;\n}\n",""]),e.default=s},464:function(t,e,i){"use strict";var n=i(1),s=i.n(n),r=i(2),a=i.n(r),h=[151,160,137,91,90,15,131,13,201,95,96,53,194,233,7,225,140,36,103,30,69,142,8,99,37,240,21,10,23,190,6,148,247,120,234,75,0,26,197,62,94,252,219,203,117,35,11,32,57,177,33,88,237,149,56,87,174,20,125,136,171,168,68,175,74,165,71,134,139,48,27,166,77,146,158,231,83,111,229,122,60,211,133,230,220,105,92,41,55,46,245,40,244,102,143,54,65,25,63,161,1,216,80,73,209,76,132,187,208,89,18,169,200,196,135,130,116,188,159,86,164,100,109,198,173,186,3,64,52,217,226,250,124,123,5,202,38,147,118,126,255,82,85,212,207,206,59,227,47,16,58,17,182,189,28,42,223,183,170,213,119,248,152,2,44,154,163,70,221,153,101,155,167,43,172,9,129,22,39,253,19,98,108,110,79,113,224,232,178,185,112,104,218,246,97,228,251,34,242,193,238,210,144,12,191,179,162,241,81,51,145,235,249,14,239,107,49,192,214,31,181,199,106,157,184,84,204,176,115,121,50,45,127,4,150,254,138,236,205,93,222,114,67,29,24,72,243,141,128,195,78,66,215,61,156,180],o=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:16,i=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];s()(this,t),this.size=e,this.seed=i?t.getFixedSeedNoise(this.size):t.getGenerateNoise(this.size)}return a()(t,[{key:"get",value:function(t,e){for(var i=0,n=this.size;n>=1;)i+=this.smoothNoise(t/n,e/n,this.seed)*n,n/=2;return.5*i/this.size}},{key:"smoothNoise",value:function(t,e,i){var n=t-Math.floor(t),s=e-Math.floor(e),r=(Math.floor(t)+this.size)%this.size,a=(Math.floor(e)+this.size)%this.size,h=(r+this.size-1)%this.size,o=(a+this.size-1)%this.size,u=0;return u+=n*s*i[r][a],u+=n*(1-s)*i[r][o],u+=(1-n)*s*i[h][a],u+=(1-n)*(1-s)*i[h][o]}}],[{key:"getGenerateNoise",value:function(t){for(var e=new Array(t),i=0;i<t;i+=1){e[i]=new Array(t);for(var n=0;n<t;n+=1)e[i][n]=Math.random()}return e}},{key:"getFixedSeedNoise",value:function(t){for(var e=new Array(t),i=0,n=0;n<t;n+=1){e[n]=new Array(t);for(var s=0;s<t;s+=1)e[n][s]=h[i]/256,i+=1}return e}}]),t}();e.a=o},467:function(t,e,i){"use strict";i.d(e,"a",(function(){return v}));var n=i(1),s=i.n(n),r=i(2),a=i.n(r),h=i(7),o=i.n(h),u=i(8),d=i.n(u),l=i(3),c=i.n(l),g=i(57),f=i(464);function p(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var i,n=c()(t);if(e){var s=c()(this).constructor;i=Reflect.construct(n,arguments,s)}else i=n.apply(this,arguments);return d()(this,i)}}var v=function(t){o()(i,t);var e=p(i);function i(){return s()(this,i),e.apply(this,arguments)}return a()(i,[{key:"create",value:function(){var t=new ArrayBuffer(this.size.width*this.size.height*4),e=new Uint8Array(t),i=0;this.perlinNoise=new f.a;for(var n=0;n<this.size.height;n+=1)for(var s=0;s<this.size.width;s+=1){var r=255*this.perlinNoise.get(s,n);e[i]=r,e[i+1]=r,e[i+2]=r,e[i+3]=255,i+=4}this.gl.texImage2D(this.gl.TEXTURE_2D,0,this.gl.RGBA,this.size.height,this.size.width,0,this.gl.RGBA,this.gl.UNSIGNED_BYTE,e)}}]),i}(g.a)},468:function(t,e,i){"use strict";i.d(e,"a",(function(){return h}));var n=i(1),s=i.n(n),r=i(2),a=i.n(r),h=function(){function t(e,i){s()(this,t),this.gl=e;var n=Math.sqrt(i.length);this.size={width:n,height:n},this.texture=e.createTexture(),this.filter=e.NEAREST,this.setup(i)}return a()(t,[{key:"setup",value:function(t){this.gl.bindTexture(this.gl.TEXTURE_2D,this.texture),this.gl.texImage2D(this.gl.TEXTURE_2D,0,this.gl.ALPHA,this.size.width,this.size.height,0,this.gl.ALPHA,this.gl.UNSIGNED_BYTE,t),this.setFilters(),this.gl.bindTexture(this.gl.TEXTURE_2D,null)}},{key:"setFilters",value:function(){this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_MAG_FILTER,this.filter),this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_MIN_FILTER,this.filter),this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_WRAP_S,this.gl.REPEAT),this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_WRAP_T,this.gl.REPEAT)}},{key:"get",value:function(){return this.texture}}]),t}()},469:function(t,e,i){"use strict";i.d(e,"a",(function(){return h}));var n=i(1),s=i.n(n),r=i(2),a=i.n(r),h=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};s()(this,t),this.value=e,this.sampling=i.sampling||.7}return a()(t,[{key:"update",value:function(){0!==this.value&&(this.value<1e-6&&(this.value=0),this.value*=this.sampling)}},{key:"get",value:function(){return this.value}},{key:"set",value:function(t){this.value=t}}]),t}()},470:function(t,e,i){"use strict";i.d(e,"a",(function(){return h}));var n=i(1),s=i.n(n),r=i(2),a=i.n(r),h=function(){function t(e,i){s()(this,t),this.gl=e,this.modeCalcul=this.gl.DYNAMIC_DRAW,this.vbo=this.gl.createBuffer(),this.count=i;var n=new Array(i);n.fill(0),this.gl.bindBuffer(this.gl.ARRAY_BUFFER,this.vbo),this.gl.bufferData(this.gl.ARRAY_BUFFER,n,this.modeCalcul),this.gl.bindBuffer(this.gl.ARRAY_BUFFER,null)}return a()(t,[{key:"enable",value:function(t,e){this.gl.useProgram(t),this.gl.bindBuffer(this.gl.ARRAY_BUFFER,this.vbo),this.gl.enableVertexAttribArray(t.locations[e]),this.gl.vertexAttribPointer(t.locations[e],1,this.gl.FLOAT,!1,0,0)}},{key:"start",value:function(t,e,i){this.enable(t,e),this.gl.bindBuffer(this.gl.ARRAY_BUFFER,this.vbo),this.gl.bufferData(this.gl.ARRAY_BUFFER,new Float32Array(i),this.modeCalcul)}},{key:"end",value:function(){this.gl.bindBuffer(this.gl.ARRAY_BUFFER,null),this.gl.useProgram(null)}},{key:"setModeCalcul",value:function(t){this.modeCalcul=t}},{key:"getCount",value:function(){return this.count}}]),t}()},471:function(t,e,i){"use strict";i.d(e,"a",(function(){return h}));var n=i(1),s=i.n(n),r=i(2),a=i.n(r),h=function(){function t(e,i){s()(this,t),this.gl=e,this.modeCalcul=this.gl.STATIC_DRAW,this.vbo=this.gl.createBuffer(),this.count=i.length,this.gl.bindBuffer(this.gl.ARRAY_BUFFER,this.vbo),this.gl.bufferData(this.gl.ARRAY_BUFFER,new Float32Array(i),this.modeCalcul),this.gl.bindBuffer(this.gl.ARRAY_BUFFER,null)}return a()(t,[{key:"enable",value:function(t,e){this.gl.useProgram(t),this.gl.bindBuffer(this.gl.ARRAY_BUFFER,this.vbo),this.gl.enableVertexAttribArray(t.locations[e]),this.gl.vertexAttribPointer(t.locations[e],1,this.gl.FLOAT,!1,0,0)}},{key:"start",value:function(t,e){this.enable(t,e),this.gl.bindBuffer(this.gl.ARRAY_BUFFER,this.vbo)}},{key:"end",value:function(){this.gl.bindBuffer(this.gl.ARRAY_BUFFER,null),this.gl.useProgram(null)}},{key:"setModeCalcul",value:function(t){this.modeCalcul=t}},{key:"getCount",value:function(){return this.count}}]),t}()},537:function(t,e,i){var n=i(99),s=i(538);"string"==typeof(s=s.__esModule?s.default:s)&&(s=[[t.i,s,""]]);var r={insert:"head",singleton:!1};n(s,r);t.exports=s.locals||{}},538:function(t,e,i){"use strict";i.r(e);var n=i(60),s=i.n(n)()(!1);s.push([t.i,"input[type='range'] {\n  -webkit-appearance: none; /*nécessaire pour Chrome */\n  padding: 0; /* nécessaire pour IE */\n  font: inherit; /* même rendu suivant font document */\n  outline: none;\n  background: transparent;\n  margin: 0.5em;\n}\n\ninput[type='range']:focus {\n  outline: none;\n}\n\ninput[type='range']::-webkit-slider-runnable-track {\n  width: 100%;\n  height: 2px;\n  cursor: pointer;\n  background: var(--project-color);\n}\n\ninput[type='range']::-moz-range-track {\n  width: 100%;\n  height: 2px;\n  cursor: pointer;\n  background: var(--project-color);\n}\n\ninput[type='range']::-ms-track {\n  -webkit-appearance: none;\n  width: 100%;\n  height: 2px;\n  background: var(--project-color);\n  cursor: pointer;\n}\n\ninput[type='range']::-webkit-slider-thumb {\n  -webkit-appearance: none;\n  height: 2em;\n  width: 1em;\n  margin: calc(2px - 1em) 0 0 0;\n  background: transparent;\n  cursor: pointer;\n  border-radius: 0;\n  border: solid 2px #444;\n}\n\ninput[type='range']::-moz-range-thumb {\n  -webkit-appearance: none;\n  height: 2em;\n  width: 1em;\n  margin: calc(2px - 1em) 0 0 0;\n  background: transparent;\n  cursor: pointer;\n  border-radius: 0;\n  border: solid 2px #444;\n}\n\ninput[type='range']::-ms-thumb {\n  -webkit-appearance: none;\n  height: 2em;\n  width: 1em;\n  margin: calc(2px - 1em) 0 0 0;\n  background: transparent;\n  cursor: pointer;\n  border-radius: 0;\n  border: solid 2px #444;\n}\n",""]),e.default=s},539:function(t,e,i){var n=i(99),s=i(540);"string"==typeof(s=s.__esModule?s.default:s)&&(s=[[t.i,s,""]]);var r={insert:"head",singleton:!1};n(s,r);t.exports=s.locals||{}},540:function(t,e,i){"use strict";i.r(e);var n=i(60),s=i.n(n)()(!1);s.push([t.i,"#deform {\n  position: relative;\n  width: 100%;\n  height: auto;\n  text-align: center;\n  --project-color: #e666ff;\n}\n\n#deform canvas {\n  display: block;\n  margin: 0 auto;\n  width: auto;\n  height: auto;\n  max-height: 100vh;\n  max-width: 100%;\n}\n\n#deform .play-button {\n  position: absolute;\n  width: 6em;\n  height: 6em;\n  left: 50%;\n  top: 50%;\n  transition: transform 300ms ease-out, opacity 300ms ease-out;\n  transform: translate3d(-50%, -50%, 0) scale(0.8);\n  border-radius: 50%;\n  background: #e666ff;\n  z-index: 1;\n  opacity: 0.7;\n}\n\n#deform .play-button[data-play] {\n  opacity: 0.4;\n}\n\n#deform .play-button:hover {\n  opacity: 1;\n  transform: translate3d(-50%, -50%, 0) scale(1);\n}\n\n#deform .play-button:active {\n  transform: translate3d(-50%, -50%, 0) scale(0.8);\n}\n\n#deform .play-button[data-play] .play-icon,\n#deform .play-button .pause-icon {\n  display: none;\n}\n\n#deform .play-button[data-play] .pause-icon,\n#deform .play-button .play-icon {\n  display: block;\n}\n\n#deform .play-button svg {\n  position: absolute;\n  top: 50%;\n  left: 50%;\n  fill: #333;\n  width: 3em;\n  height: 3em;\n  transform: translate3d(-50%, -50%, 0);\n}\n",""]),e.default=s},744:function(t,e,i){"use strict";i.r(e),i.d(e,"destroy",(function(){return j}));var n=i(43),s=i.n(n),r=i(61),a=i.n(r),h=i(130),o="deform",u="sphere4",d={slug:"deform",MAIN_PROG:o,MAIN_OBJ:u,shaders:["/camera/basique3d.js","/camera/frequencyCircle.js","/camera/frequencyGrid.js","/camera/".concat(o,".js")],assets:["/obj/".concat(u,".obj"),"/textures/earth.png","/sound/akira.mp3"],camera:{position:{x:0,y:0,z:20},target:{x:0,y:0,z:0},near:1,far:40,angle:40},lampes:[{type:0,position:{x:40,y:40,z:40},ambiant:[1,1,1],diffuse:[1,1,1],specular:[1,1,1],brillance:1},{type:0,position:{x:-40,y:-40,z:40},ambiant:[1,1,1],diffuse:[1,179/255,1],specular:[1,1,1],brillance:1}],mouse:{domId:"deform",events:["drag","wheel","click"]},controls:{fullscreen:{domId:"deform",buttonId:"fullscreen-toggle-btn"},ranges:{volume:{min:0,max:100,value:50},playbackRate:{min:0,max:100,value:50}}},postprocess:!0,useDepthTexture:!0,canvas:{width:1024,height:1024}},l=i(1),c=i.n(l),g=i(2),f=i.n(g),p=i(10),v=i.n(p),m=i(22),y=i.n(m),b=i(7),R=i.n(b),k=i(8),x=i.n(k),A=i(3),w=i.n(A),E=i(0),_=i.n(E),T=i(132),M=i(467),F=i(468),P=i(19),B=i(469),z=i(286),C=i(52),Y=i(314),U=i(29),I=i(470),D=i(471);function X(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var i,n=w()(t);if(e){var s=w()(this).constructor;i=Reflect.construct(n,arguments,s)}else i=n.apply(this,arguments);return x()(this,i)}}var N=function(t){R()(i,t);var e=X(i);function i(t,n,s){var r;c()(this,i),r=e.call(this,t,n,s),_()(v()(r),"setupControls",(function(t){var e=t.ranges;if(r.button=document.querySelector(".play-button"),r.sound=r.mngSound.get("akira"),r.button&&r.button.addEventListener("click",r.togglePlay,!1),r.ranges=e,r.config.controls){var i=r.ranges,n=i.volume,s=i.playbackRate;n.dom.addEventListener("change",r.onChangeVolume,!1),s.dom.addEventListener("change",r.onChangePlaybackRate,!1)}})),_()(v()(r),"togglePlay",(function(){r.sound&&r.button&&(r.sound.togglePause(),r.sound.getIsPause()?r.button.removeAttribute("data-play"):r.button.setAttribute("data-play",!0))})),_()(v()(r),"onChangeVolume",(function(t){r.sound.setVolume(.01*t.target.value)})),_()(v()(r),"onChangePlaybackRate",(function(t){r.sound.setPlaybackRate(.02*t.target.value)})),_()(v()(r),"mainRender",(function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;t.setMatrix("model",r.model.get());var i=r.model.getMatrice3x3();i.inverse(),i.transpose(),t.setMatrix("normalMatrix",i.get()),t.setTexture(2,r.texture.get(),"noiseMap"),t.setTexture(3,r.mngTex.get("earth").get(),"colorMap"),e&&t.setTexture(5,e.get(),"displacementMap"),r.mngObj.get(r.config.MAIN_OBJ).render(t.get())})),_()(v()(r),"onMouseDrag",(function(t){r.targetX.set(.1*t.relPrevious.x),r.targetY.set(.1*t.relPrevious.y)})),_()(v()(r),"onMouseWheel",(function(t){var e=-t.deltaY;e=Math.min(e,2),e=Math.max(e,1),r.targetZ.set(e)})),_()(v()(r),"onMouseClick",(function(){r.pulse.set(1e3)})),r.texture=new M.a(t,256,256),r.model=new P.a,r.model.identity(),r.pulse=new B.a(0),r.targetX=new z.a(0),r.targetY=new z.a(0),r.targetZ=new C.a(0,.05),r.mouseCanvasPosition={x:0,y:0};var a=r.mngSound.get("akira").getFrequencyLength();r.uVbo=new I.a(r.gl,a);var h=new Array(a);return h.fill(0),h=h.map((function(t,e){return e})),r.fVbo=new D.a(r.gl,h),r.mngObj.get(r.config.MAIN_OBJ).setModeDessin(r.gl.POINTS),r.targetZ.set(1),r}return f()(i,[{key:"update",value:function(t){y()(w()(i.prototype),"update",this).call(this,t),this.targetX.update(),this.targetY.update(),this.targetZ.update(),this.pulse.update(),this.model.identity();var e=Object(U.a)(this.targetX.get())+5e-4*this.time,n=new Y.a;n.rotateY(-e),n.rotateX(-.5),this.model.multiply(n.toMatrix4()),this.model.scale(this.targetZ.get()),this.mngProg.get(this.config.MAIN_PROG).setFloat("time",this.pulse.get())}},{key:"render",value:function(){y()(w()(i.prototype),"render",this).call(this);var t=this.mngSound.get("akira").getAmplitudes(),e=new F.a(this.gl,t);this.mainRender(this.mngProg.get(this.config.MAIN_PROG),e);var n=this.mngProg.get("frequencyCircle");n.setMatrix("projection",this.camera.getProjection().get()),n.setMatrix("view",this.camera.getView().get()),n.setMatrix("model",this.model.get()),n.setInt("length",this.fVbo.getCount()),n.setInt("maxfrequency",256),this.uVbo.start(n.get(),"value",t),this.fVbo.start(n.get(),"index"),this.gl.drawArrays(this.gl.LINE_LOOP,0,this.fVbo.getCount()),this.uVbo.end();var s=this.mngProg.get("frequencyGrid");s.setMatrix("model",this.model.get()),s.setInt("length",this.fVbo.getCount()),s.setInt("maxfrequency",256),this.uVbo.start(s.get(),"value",t),this.fVbo.start(s.get(),"index"),this.uVbo.end()}},{key:"destroy",value:function(){if(this.button&&this.button.addEventListener("click",this.togglePlay,!1),this.ranges){var t=this.ranges,e=t.volume,i=t.playbackRate;e.dom.removeEventListener("change",this.onChangeVolume,!1),i.dom.removeEventListener("change",this.onChangePlaybackRate,!1)}this.sound&&this.sound.stop()}}]),i}(T.a),V=(i(351),i(353),i(537),i(539),null),j=(e.default=a()(s.a.mark((function t(){return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return V=new h.a,t.next=3,V.setup(N,d);case 3:document.querySelector("#".concat(d.slug)).appendChild(V.getCanvas());case 5:case"end":return t.stop()}}),t)}))),function(){V&&V.destroy&&V.destroy()})}}]);