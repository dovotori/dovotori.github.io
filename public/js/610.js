"use strict";(self.webpackChunkdovotori=self.webpackChunkdovotori||[]).push([[610],{30610:(e,t,r)=>{r.r(t),r.d(t,{default:()=>y,destroy:()=>M});var s=r(15861),n=r(87757),a=r.n(n),o=r(35466),c=r(15671),i=r(43144),u=r(97326),h=r(11752),l=r(60136),v=r(6215),f=r(61120),p=r(4942);function d(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,s=(0,f.Z)(e);if(t){var n=(0,f.Z)(this).constructor;r=Reflect.construct(s,arguments,n)}else r=s.apply(this,arguments);return(0,v.Z)(this,r)}}var g=function(e){(0,l.Z)(r,e);var t=d(r);function r(e,s,n){var a;return(0,c.Z)(this,r),a=t.call(this,e,s,n),(0,p.Z)((0,u.Z)(a),"setGlitch",(function(){a.value=0,a.centerWave=[Math.random(),Math.random()],a.target=a.centerWave>.5?Math.PI:-Math.PI,clearTimeout(a.req),a.req=setTimeout(a.setGlitch,2e3+5e3*Math.random())})),(0,p.Z)((0,u.Z)(a),"onMouseMove",(function(e){var t=[e.relScroll.x/e.size.width,1-e.relScroll.y/e.size.height],r=[a.centerWave[0]-t[0],a.centerWave[1]-t[1]];a.centerWave=t,a.target=100*(r[0]+r[1])})),a.req=null,a.value=0,a.target=0,a.centerWave=[Math.random(),Math.random()],a.req=setTimeout(a.setGlitch,1e3),a}return(0,i.Z)(r,[{key:"update",value:function(e){(0,h.Z)((0,f.Z)(r.prototype),"update",this).call(this,e),this.value+=.04*(this.target-this.value)}},{key:"render",value:function(){(0,h.Z)((0,f.Z)(r.prototype),"render",this).call(this);var e=.1*Math.sin(this.value),t=.004*this.time;this.postProcess.setGlitch(t,e,e,this.mngTex.get("signature").get()),this.postProcess.setWave(t,e,this.centerWave),this.postProcess.setWatercolorMoving(.002*this.time,[this.value,this.value],4),this.postProcess.setRGB(100*e,100*e,this.centerWave[0],this.centerWave[1]),this.postProcess.renderInverse()}}]),r}(r(35551).Z);const m={slug:"picto",assets:["/img/signature.png"],mouse:{events:["move"]},shaders:["/screen/glitch.js","/screen/wave.js","/screen/rgb.js","/screen/watercolorMoving.js","/screen/screen.js"],postprocess:!0,useDepthTexture:!1,canvas:{width:512,height:512}};var Z=null;const y=(0,s.Z)(a().mark((function e(){var t,r;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Z=new o.Z,e.next=3,Z.setup(g,m);case 3:t=document.querySelector("#".concat(m.slug)),(r=Z.getCanvas())&&t&&t.appendChild(r);case 6:case"end":return e.stop()}}),e)})));var M=function(){Z&&Z.destroy&&Z.destroy()}}}]);