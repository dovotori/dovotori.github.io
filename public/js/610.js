"use strict";(self.webpackChunkdovotori=self.webpackChunkdovotori||[]).push([[610],{30610:(e,t,r)=>{r.r(t),r.d(t,{default:()=>Z,destroy:()=>M});var s=r(15861),n=r(64687),a=r.n(n),o=r(35466),c=r(15671),i=r(43144),u=r(97326),h=r(11752),l=r(60136),v=r(82963),p=r(61120),f=r(4942);function d(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,s=(0,p.Z)(e);if(t){var n=(0,p.Z)(this).constructor;r=Reflect.construct(s,arguments,n)}else r=s.apply(this,arguments);return(0,v.Z)(this,r)}}var g=function(e){(0,l.Z)(r,e);var t=d(r);function r(){var e;(0,c.Z)(this,r);for(var s=arguments.length,n=new Array(s),a=0;a<s;a++)n[a]=arguments[a];return e=t.call.apply(t,[this].concat(n)),(0,f.Z)((0,u.Z)(e),"setGlitch",(function(){e.value=0,e.centerWave=[Math.random(),Math.random()],e.target=e.centerWave>.5?Math.PI:-Math.PI,clearTimeout(e.req),e.req=setTimeout(e.setGlitch,2e3+5e3*Math.random())})),(0,f.Z)((0,u.Z)(e),"onMouseMove",(function(t){var r=[t.relScroll.x/t.size.width,1-t.relScroll.y/t.size.height],s=[e.centerWave[0]-r[0],e.centerWave[1]-r[1]];e.centerWave=r,e.target=100*(s[0]+s[1])})),e}return(0,i.Z)(r,[{key:"setup",value:function(){this.req=null,this.value=0,this.target=0,this.centerWave=[Math.random(),Math.random()],this.req=setTimeout(this.setGlitch,1e3)}},{key:"update",value:function(e){(0,h.Z)((0,p.Z)(r.prototype),"update",this).call(this,e),this.value+=.04*(this.target-this.value)}},{key:"render",value:function(){(0,h.Z)((0,p.Z)(r.prototype),"render",this).call(this);var e=.1*Math.sin(this.value),t=.004*this.time;this.postProcess.setGlitch(t,e,e,this.mngTex.get("signature").get()),this.postProcess.setWave(t,e,this.centerWave),this.postProcess.setWatercolorMoving(.002*this.time,[this.value,this.value],4),this.postProcess.setRGB(100*e,100*e,this.centerWave[0],this.centerWave[1]),this.postProcess.renderInverse()}}]),r}(r(35551).Z);const y={slug:"picto",assets:["/img/signature.png"],mouse:{events:["move"]},shaders:["/screen/glitch.js","/screen/wave.js","/screen/rgb.js","/screen/watercolorMoving.js","/screen/screen.js"],postprocess:!0,useDepthTexture:!1,canvas:{width:512,height:512}};var m=null;const Z=(0,s.Z)(a().mark((function e(){var t,r;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return m=new o.Z,e.next=3,m.setup(g,y);case 3:t=document.querySelector("#".concat(y.slug)),(r=m.getCanvas())&&t&&t.appendChild(r);case 6:case"end":return e.stop()}}),e)})));var M=function(){m&&m.destroy&&m.destroy()}}}]);