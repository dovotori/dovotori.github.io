"use strict";(self.webpackChunkdovotori=self.webpackChunkdovotori||[]).push([[610],{30610:(e,t,r)=>{r.r(t),r.d(t,{default:()=>T,destroy:()=>q});var s=r(48926),n=r.n(s),o=r(87757),a=r.n(o),c=r(35466),i=r(34575),u=r.n(i),h=r(93913),l=r.n(h),v=r(81506),f=r.n(v),p=r(16525),d=r.n(p),g=r(2205),y=r.n(g),m=r(78585),M=r.n(m),W=r(29754),w=r.n(W),k=r(59713),P=r.n(k);function x(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,s=w()(e);if(t){var n=w()(this).constructor;r=Reflect.construct(s,arguments,n)}else r=s.apply(this,arguments);return M()(this,r)}}var R=function(e){y()(r,e);var t=x(r);function r(){var e;u()(this,r);for(var s=arguments.length,n=new Array(s),o=0;o<s;o++)n[o]=arguments[o];return e=t.call.apply(t,[this].concat(n)),P()(f()(e),"setGlitch",(function(){e.value=0,e.centerWave=[Math.random(),Math.random()],e.target=e.centerWave>.5?Math.PI:-Math.PI,clearTimeout(e.req),e.req=setTimeout(e.setGlitch,2e3+5e3*Math.random())})),P()(f()(e),"onMouseMove",(function(t){var r=[t.relScroll.x/t.size.width,1-t.relScroll.y/t.size.height],s=[e.centerWave[0]-r[0],e.centerWave[1]-r[1]];e.centerWave=r,e.target=100*(s[0]+s[1])})),e}return l()(r,[{key:"setup",value:function(){this.req=null,this.value=0,this.target=0,this.centerWave=[Math.random(),Math.random()],this.req=setTimeout(this.setGlitch,1e3)}},{key:"update",value:function(e){d()(w()(r.prototype),"update",this).call(this,e),this.value+=.04*(this.target-this.value)}},{key:"render",value:function(){d()(w()(r.prototype),"render",this).call(this);var e=.1*Math.sin(this.value),t=.004*this.time;this.postProcess.setGlitch(t,e,e,this.mngTex.get("signature").get()),this.postProcess.setWave(t,e,this.centerWave),this.postProcess.setWatercolorMoving(.002*this.time,[this.value,this.value],4),this.postProcess.setRGB(100*e,100*e,this.centerWave[0],this.centerWave[1]),this.postProcess.renderInverse()}}]),r}(r(40480).Z);const j={slug:"picto",assets:["/img/signature.png"],mouse:{events:["move"]},shaders:["/screen/glitch.js","/screen/wave.js","/screen/rgb.js","/screen/watercolorMoving.js","/screen/screen.js"],postprocess:!0,useDepthTexture:!1,canvas:{width:512,height:512}};var G=null;const T=n()(a().mark((function e(){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return G=new c.Z,e.next=3,G.setup(R,j);case 3:case"end":return e.stop()}}),e)})));var q=function(){G&&G.destroy&&G.destroy()}}}]);