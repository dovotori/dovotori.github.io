"use strict";(self.webpackChunkdovotori=self.webpackChunkdovotori||[]).push([[1433],{31433(t,e,r){r.r(e),r.d(e,{default:()=>s});var a=r(17427);const s=()=>{const t=document.querySelector("#worldmap"),e=document.querySelector("#infos"),r=e.querySelector("svg"),s=e.querySelector("#legend");let o=0;o=2*Math.PI*7,e.setAttribute("data-hide","");const i=()=>{e.setAttribute("data-hide","")},c=c=>{c.stopPropagation(),i(),e.removeAttribute("data-hide");const l=c.target;l.setAttribute("data-selected","");const d=l.getBBox(),u=t.getAttribute("viewBox").split(" ").map((t=>parseFloat(t,10))),{width:h,height:n}=t.parentNode.getBoundingClientRect(),y={x:d.x+d.width/2,y:d.y+d.height/2},p=u[2]/d.width,f=u[3]/d.height,b=Math.min(Math.floor(Math.min(p,f)),8),A=(0,a.cy)(y.x,0,u[2],h/2*b,-h/2*b),g=(0,a.cy)(y.y,0,u[3],n/2*b,-n/2*b);t.setAttribute("style",`transform: translate3d(${A}px, ${g}px, 0px) scale(${b})`),(t=>{if(t){const{fr:i,...c}=JSON.parse(t);e.querySelector("h3").innerHTML=i;let l=0;s.querySelectorAll("p").forEach((t=>{t.removeAttribute("style")})),r.querySelectorAll("circle").forEach((t=>{t.setAttribute("stroke-dasharray",o),t.setAttribute("stroke-dashoffset",o)})),Object.keys(c).forEach((t=>{const e=parseFloat(c[t],10),i=r.querySelector(`circle.${t}`),d=(0,a.cy)(e,0,1,0,o);i.setAttribute("stroke-dasharray",`${d} ${o-d}`),i.setAttribute("stroke-dashoffset",l),l+=o-d,s.querySelector(`p.${t}`).style.display="inherit"}))}else i()})(l.getAttribute("data-data"))};t.addEventListener("click",(()=>{t.setAttribute("style","transform: scale(1)"),i()}),!1);t.querySelectorAll("path").forEach((t=>{t.addEventListener("click",c,!1)}))}}}]);