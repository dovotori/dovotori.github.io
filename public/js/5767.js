"use strict";(self.webpackChunkdovotori=self.webpackChunkdovotori||[]).push([[5767],{33513:(t,e,i)=>{i.d(e,{BV:()=>h,XX:()=>_,aY:()=>d});var s=i(70915),n=i(68711),o=i(9687),r=i(61597);let a;const h=[];function c(t,e,i,s,n){t.beginPath(),t.moveTo(0,0),t.lineTo(e,i),t.lineTo(s,n),t.closePath(),t.save(),t.clip(),t.fillRect(0,0,Math.max(e,s)+1,Math.max(i,n)),t.restore()}function u(t,e){return Math.abs(t[4*e]-210)>2||Math.abs(t[4*e+3]-191.25)>2}function l(t,e,i,n){const r=(0,o.pd)(i,e,t);let a=(0,o.hO)(e,n,i);const h=e.getMetersPerUnit();void 0!==h&&(a*=h);const c=t.getMetersPerUnit();void 0!==c&&(a/=c);const u=t.getExtent();if(!u||(0,s.Ym)(u,r)){const e=(0,o.hO)(t,a,r)/a;isFinite(e)&&e>0&&(a/=e)}return a}function d(t,e,i,n){const o=(0,s.q1)(i);let r=l(t,e,o,n);return(!isFinite(r)||r<=0)&&(0,s.sB)(i,(function(i){return r=l(t,e,i,n),isFinite(r)&&r>0})),r}function _(t,e,i,o,l,d,_,g,f,E,m,M,v,p){const T=(0,n.Y)(Math.round(i*t),Math.round(i*e),h);if(M||(T.imageSmoothingEnabled=!1),0===f.length)return T.canvas;function x(t){return Math.round(t*i)/i}T.scale(i,i),T.globalCompositeOperation="lighter";const W=(0,s.S5)();let P;f.forEach((function(t,e,i){(0,s.X$)(W,t.extent)}));const G=i/o,A=(M?1:1+Math.pow(2,-24))/G;if(!v||1!==f.length||0!==E){if(P=(0,n.Y)(Math.round((0,s.RG)(W)*G),Math.round((0,s.Oq)(W)*G),h),M||(P.imageSmoothingEnabled=!1),l&&p){const t=(l[0]-W[0])*G,e=-(l[3]-W[3])*G,i=(0,s.RG)(l)*G,n=(0,s.Oq)(l)*G;P.rect(t,e,i,n),P.clip()}f.forEach((function(t,e,i){if(t.image.width>0&&t.image.height>0){if(t.clipExtent){P.save();const e=(t.clipExtent[0]-W[0])*G,i=-(t.clipExtent[3]-W[3])*G,n=(0,s.RG)(t.clipExtent)*G,o=(0,s.Oq)(t.clipExtent)*G;P.rect(M?e:Math.round(e),M?i:Math.round(i),M?n:Math.round(e+n)-Math.round(e),M?o:Math.round(i+o)-Math.round(i)),P.clip()}const e=(t.extent[0]-W[0])*G,i=-(t.extent[3]-W[3])*G,n=(0,s.RG)(t.extent)*G,o=(0,s.Oq)(t.extent)*G;P.drawImage(t.image,E,E,t.image.width-2*E,t.image.height-2*E,M?e:Math.round(e),M?i:Math.round(i),M?n:Math.round(e+n)-Math.round(e),M?o:Math.round(i+o)-Math.round(i)),t.clipExtent&&P.restore()}}))}const R=(0,s.Py)(_);return g.getTriangles().forEach((function(t,e,i){const o=t.source,l=t.target;let _=o[0][0],g=o[0][1],E=o[1][0],m=o[1][1],v=o[2][0],p=o[2][1];const G=x((l[0][0]-R[0])/d),I=x(-(l[0][1]-R[1])/d),F=x((l[1][0]-R[0])/d),S=x(-(l[1][1]-R[1])/d),b=x((l[2][0]-R[0])/d),C=x(-(l[2][1]-R[1])/d),q=_,w=g;_=0,g=0,E-=q,m-=w,v-=q,p-=w;const O=[[E,m,0,0,F-G],[v,p,0,0,b-G],[0,0,E,m,S-I],[0,0,v,p,C-I]],Y=(0,r.KU)(O);if(!Y)return;if(T.save(),T.beginPath(),function(){if(void 0===a){const t=(0,n.Y)(6,6,h);t.globalCompositeOperation="lighter",t.fillStyle="rgba(210, 0, 0, 0.75)",c(t,4,5,4,0),c(t,4,5,0,5);const e=t.getImageData(0,0,3,3).data;a=u(e,0)||u(e,4)||u(e,8),(0,n.Yg)(t),h.push(t.canvas)}return a}()||!M){T.moveTo(F,S);const t=4,e=G-F,i=I-S;for(let s=0;s<t;s++)T.lineTo(F+x((s+1)*e/t),S+x(s*i/(t-1))),s!=t-1&&T.lineTo(F+x((s+1)*e/t),S+x((s+1)*i/(t-1)));T.lineTo(b,C)}else T.moveTo(F,S),T.lineTo(G,I),T.lineTo(b,C);let j;if(T.clip(),T.transform(Y[0],Y[2],Y[1],Y[3],G,I),T.translate(W[0]-q,W[3]-w),P)j=P.canvas,T.scale(A,-A);else{const t=f[0],e=t.extent;j=t.image,T.scale((0,s.RG)(e)/j.width,-(0,s.Oq)(e)/j.height)}T.drawImage(j,0,0),T.restore()})),P&&((0,n.Yg)(P),h.push(P.canvas)),m&&(T.save(),T.globalCompositeOperation="source-over",T.strokeStyle="black",T.lineWidth=1,g.getTriangles().forEach((function(t,e,i){const s=t.target,n=(s[0][0]-R[0])/d,o=-(s[0][1]-R[1])/d,r=(s[1][0]-R[0])/d,a=-(s[1][1]-R[1])/d,h=(s[2][0]-R[0])/d,c=-(s[2][1]-R[1])/d;T.beginPath(),T.moveTo(r,a),T.lineTo(n,o),T.lineTo(h,c),T.closePath(),T.stroke()})),T.restore()),T.canvas}},97404:(t,e,i)=>{i.d(e,{A:()=>g});var s=i(93101),n=i(6837),o=i(8143),r=i(11078),a=i(52913),h=i(33513),c=i(61597),u=i(70915),l=i(9438),d=i(68711);class _ extends o.A{constructor(t,e,i,n,o,l,d,_,g,f,E,m){super(o,r.A.IDLE,m),this.renderEdges_=void 0!==E&&E,this.pixelRatio_=d,this.gutter_=_,this.canvas_=null,this.sourceTileGrid_=e,this.targetTileGrid_=n,this.wrappedTileCoord_=l||o,this.sourceTiles_=[],this.sourcesListenerKeys_=null,this.sourceZ_=0,this.clipExtent_=t.canWrapX()?t.getExtent():void 0;const M=n.getTileCoordExtent(this.wrappedTileCoord_),v=this.targetTileGrid_.getExtent();let p=this.sourceTileGrid_.getExtent();const T=v?(0,u._N)(M,v):M;if(0===(0,u.UG)(T))return void(this.state=r.A.EMPTY);const x=t.getExtent();x&&(p=p?(0,u._N)(p,x):x);const W=n.getResolution(this.wrappedTileCoord_[0]),P=(0,h.aY)(t,i,T,W);if(!isFinite(P)||P<=0)return void(this.state=r.A.EMPTY);const G=void 0!==f?f:s.l;if(this.triangulation_=new a.A(t,i,T,p,P*G,W),0===this.triangulation_.getTriangles().length)return void(this.state=r.A.EMPTY);this.sourceZ_=e.getZForResolution(P);let A=this.triangulation_.calculateSourceExtent();if(p&&(t.canWrapX()?(A[1]=(0,c.qE)(A[1],p[1],p[3]),A[3]=(0,c.qE)(A[3],p[1],p[3])):A=(0,u._N)(A,p)),(0,u.UG)(A)){let i=0,s=0;t.canWrapX()&&(i=(0,u.RG)(x),s=Math.floor((A[0]-x[0])/i));(0,u.QJ)(A.slice(),t,!0).forEach((t=>{const n=e.getTileRangeForExtentAndZ(t,this.sourceZ_);for(let t=n.minX;t<=n.maxX;t++)for(let e=n.minY;e<=n.maxY;e++){const n=g(this.sourceZ_,t,e,d);if(n){const t=s*i;this.sourceTiles_.push({tile:n,offset:t})}}++s})),0===this.sourceTiles_.length&&(this.state=r.A.EMPTY)}else this.state=r.A.EMPTY}getImage(){return this.canvas_}reproject_(){const t=[];if(this.sourceTiles_.forEach((e=>{const i=e.tile;if(i&&i.getState()==r.A.LOADED){const s=this.sourceTileGrid_.getTileCoordExtent(i.tileCoord);s[0]+=e.offset,s[2]+=e.offset;const n=this.clipExtent_?.slice();n&&(n[0]+=e.offset,n[2]+=e.offset),t.push({extent:s,clipExtent:n,image:i.getImage()})}})),this.sourceTiles_.length=0,0===t.length)this.state=r.A.ERROR;else{const e=this.wrappedTileCoord_[0],i=this.targetTileGrid_.getTileSize(e),s="number"==typeof i?i:i[0],n="number"==typeof i?i:i[1],o=this.targetTileGrid_.getResolution(e),a=this.sourceTileGrid_.getResolution(this.sourceZ_),c=this.targetTileGrid_.getTileCoordExtent(this.wrappedTileCoord_);this.canvas_=(0,h.XX)(s,n,this.pixelRatio_,a,this.sourceTileGrid_.getExtent(),o,c,this.triangulation_,t,this.gutter_,this.renderEdges_,this.interpolate),this.state=r.A.LOADED}this.changed()}load(){if(this.state==r.A.IDLE){this.state=r.A.LOADING,this.changed();let t=0;this.sourcesListenerKeys_=[],this.sourceTiles_.forEach((({tile:e})=>{const i=e.getState();if(i==r.A.IDLE||i==r.A.LOADING){t++;const i=(0,l.KT)(e,n.A.CHANGE,(s=>{const n=e.getState();n!=r.A.LOADED&&n!=r.A.ERROR&&n!=r.A.EMPTY||((0,l.JH)(i),t--,0===t&&(this.unlistenSources_(),this.reproject_()))}));this.sourcesListenerKeys_.push(i)}})),0===t?setTimeout(this.reproject_.bind(this),0):this.sourceTiles_.forEach((function({tile:t},e,i){t.getState()==r.A.IDLE&&t.load()}))}}unlistenSources_(){this.sourcesListenerKeys_.forEach(l.JH),this.sourcesListenerKeys_=null}release(){this.canvas_&&((0,d.Yg)(this.canvas_.getContext("2d")),h.BV.push(this.canvas_),this.canvas_=null),super.release()}}const g=_},52913:(t,e,i)=>{i.d(e,{A:()=>r});var s=i(70915),n=i(9687),o=i(61597);const r=class{constructor(t,e,i,o,r,a){this.sourceProj_=t,this.targetProj_=e;let h={};const c=(0,n.RG)(this.targetProj_,this.sourceProj_);this.transformInv_=function(t){const e=t[0]+"/"+t[1];return h[e]||(h[e]=c(t)),h[e]},this.maxSourceExtent_=o,this.errorThresholdSquared_=r*r,this.triangles_=[],this.wrapsXInSource_=!1,this.canWrapXInSource_=this.sourceProj_.canWrapX()&&!!o&&!!this.sourceProj_.getExtent()&&(0,s.RG)(o)>=(0,s.RG)(this.sourceProj_.getExtent()),this.sourceWorldWidth_=this.sourceProj_.getExtent()?(0,s.RG)(this.sourceProj_.getExtent()):null,this.targetWorldWidth_=this.targetProj_.getExtent()?(0,s.RG)(this.targetProj_.getExtent()):null;const u=(0,s.Py)(i),l=(0,s.WU)(i),d=(0,s.k_)(i),_=(0,s.R)(i),g=this.transformInv_(u),f=this.transformInv_(l),E=this.transformInv_(d),m=this.transformInv_(_),M=10+(a?Math.max(0,Math.ceil(Math.log2((0,s.UG)(i)/(a*a*256*256)))):0);if(this.addQuad_(u,l,d,_,g,f,E,m,M),this.wrapsXInSource_){let t=1/0;this.triangles_.forEach((function(e,i,s){t=Math.min(t,e.source[0][0],e.source[1][0],e.source[2][0])})),this.triangles_.forEach((e=>{if(Math.max(e.source[0][0],e.source[1][0],e.source[2][0])-t>this.sourceWorldWidth_/2){const i=[[e.source[0][0],e.source[0][1]],[e.source[1][0],e.source[1][1]],[e.source[2][0],e.source[2][1]]];i[0][0]-t>this.sourceWorldWidth_/2&&(i[0][0]-=this.sourceWorldWidth_),i[1][0]-t>this.sourceWorldWidth_/2&&(i[1][0]-=this.sourceWorldWidth_),i[2][0]-t>this.sourceWorldWidth_/2&&(i[2][0]-=this.sourceWorldWidth_);const s=Math.min(i[0][0],i[1][0],i[2][0]);Math.max(i[0][0],i[1][0],i[2][0])-s<this.sourceWorldWidth_/2&&(e.source=i)}}))}h={}}addTriangle_(t,e,i,s,n,o){this.triangles_.push({source:[s,n,o],target:[t,e,i]})}addQuad_(t,e,i,n,r,a,h,c,u){const l=(0,s.Tr)([r,a,h,c]),d=this.sourceWorldWidth_?(0,s.RG)(l)/this.sourceWorldWidth_:null,_=this.sourceWorldWidth_,g=this.sourceProj_.canWrapX()&&d>.5&&d<1;let f=!1;if(u>0){if(this.targetProj_.isGlobal()&&this.targetWorldWidth_){const o=(0,s.Tr)([t,e,i,n]);f=(0,s.RG)(o)/this.targetWorldWidth_>.25||f}!g&&this.sourceProj_.isGlobal()&&d&&(f=d>.25||f)}if(!f&&this.maxSourceExtent_&&isFinite(l[0])&&isFinite(l[1])&&isFinite(l[2])&&isFinite(l[3])&&!(0,s.HY)(l,this.maxSourceExtent_))return;let E=0;if(!(f||isFinite(r[0])&&isFinite(r[1])&&isFinite(a[0])&&isFinite(a[1])&&isFinite(h[0])&&isFinite(h[1])&&isFinite(c[0])&&isFinite(c[1])))if(u>0)f=!0;else if(E=(isFinite(r[0])&&isFinite(r[1])?0:8)+(isFinite(a[0])&&isFinite(a[1])?0:4)+(isFinite(h[0])&&isFinite(h[1])?0:2)+(isFinite(c[0])&&isFinite(c[1])?0:1),1!=E&&2!=E&&4!=E&&8!=E)return;if(u>0){if(!f){const e=[(t[0]+i[0])/2,(t[1]+i[1])/2],s=this.transformInv_(e);let n;if(g){n=((0,o.xP)(r[0],_)+(0,o.xP)(h[0],_))/2-(0,o.xP)(s[0],_)}else n=(r[0]+h[0])/2-s[0];const a=(r[1]+h[1])/2-s[1];f=n*n+a*a>this.errorThresholdSquared_}if(f){if(Math.abs(t[0]-i[0])<=Math.abs(t[1]-i[1])){const s=[(e[0]+i[0])/2,(e[1]+i[1])/2],o=this.transformInv_(s),l=[(n[0]+t[0])/2,(n[1]+t[1])/2],d=this.transformInv_(l);this.addQuad_(t,e,s,l,r,a,o,d,u-1),this.addQuad_(l,s,i,n,d,o,h,c,u-1)}else{const s=[(t[0]+e[0])/2,(t[1]+e[1])/2],o=this.transformInv_(s),l=[(i[0]+n[0])/2,(i[1]+n[1])/2],d=this.transformInv_(l);this.addQuad_(t,s,l,n,r,o,d,c,u-1),this.addQuad_(s,e,i,l,o,a,h,d,u-1)}return}}if(g){if(!this.canWrapXInSource_)return;this.wrapsXInSource_=!0}11&E||this.addTriangle_(t,i,n,r,h,c),14&E||this.addTriangle_(t,i,e,r,h,a),E&&(13&E||this.addTriangle_(e,n,t,a,c,r),7&E||this.addTriangle_(e,n,i,a,c,h))}calculateSourceExtent(){const t=(0,s.S5)();return this.triangles_.forEach((function(e,i,n){const o=e.source;(0,s.$C)(t,o[0]),(0,s.$C)(t,o[1]),(0,s.$C)(t,o[2])})),t}getTriangles(){return this.triangles_}}},93101:(t,e,i)=>{i.d(e,{l:()=>s});const s=.5},68430:(t,e,i)=>{i.d(e,{JJ:()=>h,Nm:()=>u,Zo:()=>c});var s=i(61597),n=i(70915),o=i(66514);function r(t,e,i,s){const o=(0,n.RG)(e)/i[0],r=(0,n.Oq)(e)/i[1];return s?Math.min(t,Math.max(o,r)):Math.min(t,Math.min(o,r))}function a(t,e,i){let n=Math.min(t,e);return n*=Math.log(1+50*Math.max(0,t/e-1))/50+1,i&&(n=Math.max(n,i),n/=Math.log(1+50*Math.max(0,i/t-1))/50+1),(0,s.qE)(n,i/2,2*e)}function h(t,e,i,n){return e=void 0===e||e,function(h,c,u,l){if(void 0!==h){const d=t[0],_=t[t.length-1],g=i?r(d,i,u,n):d;if(l)return e?a(h,g,_):(0,s.qE)(h,_,g);const f=Math.min(g,h),E=Math.floor((0,o.FT)(t,f,c));return t[E]>g&&E<t.length-1?t[E+1]:t[E]}}}function c(t,e,i,n,o,h){return n=void 0===n||n,i=void 0!==i?i:0,function(c,u,l,d){if(void 0!==c){const _=o?r(e,o,l,h):e;if(d)return n?a(c,_,i):(0,s.qE)(c,i,_);const g=1e-9,f=Math.ceil(Math.log(e/_)/Math.log(t)-g),E=-u*(.5-g)+.5,m=Math.min(_,c),M=Math.floor(Math.log(e/m)/Math.log(t)+E),v=Math.max(f,M),p=e/Math.pow(t,v);return(0,s.qE)(p,i,_)}}}function u(t,e,i,n,o){return i=void 0===i||i,function(h,c,u,l){if(void 0!==h){const c=n?r(t,n,u,o):t;return i&&l?a(h,c,e):(0,s.qE)(h,e,c)}}}},24498:(t,e,i)=>{i.d(e,{a$:()=>r,b8:()=>n,cq:()=>a,dv:()=>o});var s=i(61597);function n(t){if(void 0!==t)return 0}function o(t){if(void 0!==t)return t}function r(t){const e=2*Math.PI/t;return function(t,i){return i?t:void 0!==t?t=Math.floor(t/e+.5)*e:void 0}}function a(t){const e=void 0===t?(0,s.eh)(5):t;return function(t,i){return i||void 0===t?t:Math.abs(t)<=e?0:t}}},6782:(t,e,i)=>{function s(t){return t[0]>0&&t[1]>0}function n(t,e,i){return void 0===i&&(i=[0,0]),i[0]=t[0]*e+.5|0,i[1]=t[1]*e+.5|0,i}function o(t,e){return Array.isArray(t)?t:(void 0===e?e=[t,t]:(e[0]=t,e[1]=t),e)}i.d(e,{Ie:()=>s,hs:()=>n,xq:()=>o})}}]);