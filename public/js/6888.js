"use strict";(self.webpackChunkdovotori_portfolio=self.webpackChunkdovotori_portfolio||[]).push([[6888],{44254:(t,e,i)=>{i.d(e,{Z:()=>a});var n=i(15671),r=i(43144),o=i(25773),s=i(21969),a=function(){function t(e){if((0,n.Z)(this,t),this.position=new o.Z(e.position.x,e.position.y,e.position.z),this.target=new o.Z(0,0,0),this.view=new s.Z,e.ortho){var i=e.ortho,r=i.left,a=i.right,u=i.bottom,c=i.top,h=e.near,l=e.far;this.ortho=new s.Z,this.ortho.ortho(r,a,u,c,h,l)}}return(0,r.Z)(t,[{key:"lookAt",value:function(){this.view.identity().lookAt(this.position.getX(),this.position.getY(),this.position.getZ(),this.target.getX(),this.target.getY(),this.target.getZ(),0,1,0)}},{key:"getView",value:function(){return this.view}},{key:"getPosition",value:function(){return this.position.get()}},{key:"getPositionVec3",value:function(){return this.position}},{key:"getTarget",value:function(){return this.target.get()}},{key:"getModel",value:function(){return this.repere.getModel()}},{key:"getOrtho",value:function(){return this.ortho}},{key:"addToPosition",value:function(t,e,i){this.position.addXYZ(t,e,i),this.lookAt()}},{key:"setPosition",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,n=null!==t?t:this.position.getX(),r=null!==e?e:this.position.getY(),o=null!==i?i:this.position.getZ();this.position.set(n,r,o),this.lookAt()}},{key:"setTarget",value:function(t,e,i){this.target.set(t,e,i)}},{key:"setTargetVec3",value:function(t){this.target.equal(t)}}]),t}()},47313:(t,e,i)=>{i.d(e,{Z:()=>o});var n=i(15671),r=i(43144),o=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.04;(0,n.Z)(this,t),this.value=e,this.target=e,this.sampling=i,this.threshold=1e-6}return(0,r.Z)(t,[{key:"update",value:function(){Math.abs(this.value-this.target)>this.threshold?this.value+=(this.target-this.value)*this.sampling:this.value=this.target}},{key:"get",value:function(){return this.value}},{key:"set",value:function(t){this.target=t}},{key:"setDirect",value:function(t){this.value=t}}]),t}()},40487:(t,e,i)=>{i.d(e,{Z:()=>w});var n=i(15671),r=i(43144),o=i(11752),s=i(60136),a=i(6215),u=i(61120),c=i(35551),h=i(25773),l=i(21969);function f(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var i,n=(0,u.Z)(t);if(e){var r=(0,u.Z)(this).constructor;i=Reflect.construct(n,arguments,r)}else i=n.apply(this,arguments);return(0,a.Z)(this,i)}}var d=function(t){(0,s.Z)(i,t);var e=f(i);function i(t){var r;return(0,n.Z)(this,i),(r=e.call(this,t)).target=new h.Z(t.target.x,t.target.y,t.target.z),r.matIdentity=new l.Z,r.projection=new l.Z,r.projection.identity(),r.near=t.near||1,r.far=t.far||100,r.angle=t.angle||50,r.matIdentity.identity(),r.lookAt(),r}return(0,r.Z)(i,[{key:"update",value:function(){this.lookAt()}},{key:"perspective",value:function(t,e){this.projection.identity().perspective(this.angle,t/e,this.near,this.far)}},{key:"move",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;this.position.set(this.position.getX(),Math.sin(.02*t)*(2+e),this.position.getZ()),this.lookAt()}},{key:"setNearFar",value:function(t,e){this.near=t,this.far=e}},{key:"setAngle",value:function(t){this.angle=t}},{key:"getProjection",value:function(){return this.projection}},{key:"getIdentity",value:function(){return this.matIdentity}},{key:"getNearFar",value:function(){return[this.near,this.far]}},{key:"getNear",value:function(){return this.near}},{key:"getFar",value:function(){return this.far}},{key:"getAngle",value:function(){return this.angle}},{key:"getReflectViewMatrix",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=2*(this.position.getY()-t);return(new l.Z).identity().lookAt(this.position.getX(),this.position.getY()-e,this.position.getZ(),this.target.getX(),this.target.getY(),this.target.getZ(),0,1,0)}}]),i}(i(44254).Z);const p=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;(0,n.Z)(this,t),this.d=[0,0,0,0],this.set(e,i,r,o)}return(0,r.Z)(t,[{key:"normalise",value:function(){var t=this.length();return 0!==t&&(this.d[0]/=t,this.d[1]/=t,this.d[2]/=t,this.d[3]/=t),this}},{key:"get",value:function(){return this.d}},{key:"getX",value:function(){return this.d[0]}},{key:"getY",value:function(){return this.d[1]}},{key:"getZ",value:function(){return this.d[2]}},{key:"getW",value:function(){return this.d[3]}},{key:"length",value:function(){return Math.sqrt(this.d[0]*this.d[0]+this.d[1]*this.d[1]+this.d[2]*this.d[2]+this.d[3]*this.d[3])}},{key:"set",value:function(t,e,i,n){return null!=t&&(this.d[0]=t),null!=e?this.d[1]=e:null!=t&&(this.d[1]=t),null!=i?this.d[2]=i:null!=t&&(this.d[2]=t),null!=n?this.d[3]=n:null!=t&&(this.d[3]=t),this}},{key:"equal",value:function(t){return this.d=[t.d[0],t.d[1],t.d[2],t.d[3]],this}},{key:"add",value:function(t){return this.d[0]+=t.d[0],this.d[1]+=t.d[1],this.d[2]+=t.d[2],this.d[3]+=t.d[3],this}},{key:"addNumber",value:function(t){return this.d[0]+=t,this.d[1]+=t,this.d[2]+=t,this.d[3]+=t,this}},{key:"minus",value:function(t){return this.d[0]-=t.d[0],this.d[1]-=t.d[1],this.d[2]-=t.d[2],this.d[3]-=t.d[3],this}},{key:"minusNumber",value:function(t){return this.d[0]-=t,this.d[1]-=t,this.d[2]-=t,this.d[3]-=t,this}},{key:"multiplyNumber",value:function(t){return this.d[0]*=t,this.d[1]*=t,this.d[2]*=t,this.d[3]*=t,this}},{key:"multiplyMatrix",value:function(t){var e=this.d[0],i=this.d[1],n=this.d[2],r=this.d[3];return this.d[0]=t.d[0]*e+t.d[4]*i+t.d[8]*n+t.d[12]*r,this.d[1]=t.d[1]*e+t.d[5]*i+t.d[9]*n+t.d[13]*r,this.d[2]=t.d[2]*e+t.d[6]*i+t.d[10]*n+t.d[14]*r,this.d[3]=t.d[3]*e+t.d[7]*i+t.d[11]*n+t.d[15]*r,this}},{key:"multiply",value:function(t){return this.d[0]*=t.d[0],this.d[1]*=t.d[1],this.d[2]*=t.d[2],this.d[3]*=t.d[3],this}},{key:"divideNumber",value:function(t){return this.d[0]/=t,this.d[1]/=t,this.d[2]/=t,this.d[3]/=t,this}},{key:"divide",value:function(t){return this.d[0]/=t.d[0],this.d[1]/=t.d[1],this.d[2]/=t.d[2],this.d[3]/=t.d[3],this}},{key:"distance",value:function(t){return Math.sqrt((t.d[0]-this.d[0])*(t.d[0]-this.d[0])+(t.d[1]-this.d[1])*(t.d[1]-this.d[1])+(t.d[2]-this.d[2])*(t.d[2]-this.d[2])+(t.d[3]-this.d[3])*(t.d[3]-this.d[3]))}}]),t}();function v(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var i,n=(0,u.Z)(t);if(e){var r=(0,u.Z)(this).constructor;i=Reflect.construct(n,arguments,r)}else i=n.apply(this,arguments);return(0,a.Z)(this,i)}}var g=function(t){(0,s.Z)(i,t);var e=v(i);function i(){return(0,n.Z)(this,i),e.apply(this,arguments)}return(0,r.Z)(i,[{key:"get2dTexturePoint",value:function(t){var e=t.getX(),i=t.getY(),n=t.getZ(),r=new p(e,i,n,1),o=new l.Z;o.equal(this.view).multiply(this.projection),r.multiplyMatrix(o);var s=r.getX()/r.getW(),a=r.getY()/r.getW();return[s=.5*(s+1),a=.5*(a+1)]}},{key:"get2dScreenPoint",value:function(t,e){var i=this.get2dTexturePoint(t);return[i[0]*e.width,i[1]*e.height]}}]),i}(d),y=i(47313);function m(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var i,n=(0,u.Z)(t);if(e){var r=(0,u.Z)(this).constructor;i=Reflect.construct(n,arguments,r)}else i=n.apply(this,arguments);return(0,a.Z)(this,i)}}var Z=function(t){(0,s.Z)(i,t);var e=m(i);function i(t){var r;return(0,n.Z)(this,i),(r=e.call(this,t)).options=t,r.rotationX=new y.Z,r.targetX=new y.Z,r.zoomZ=new y.Z(.7,.1),r}return(0,r.Z)(i,[{key:"update",value:function(){(0,o.Z)((0,u.Z)(i.prototype),"update",this).call(this),this.rotationX.update(),this.zoomZ.update(),this.targetX.update(),this.position.set(this.options.position.x+this.targetX.get()+Math.sin(this.rotationX.get())*(this.options.position.z*this.zoomZ.get()),this.options.position.y,Math.cos(this.rotationX.get())*(this.options.position.z*this.zoomZ.get())),this.target.set(this.options.target.x,this.options.target.y,this.options.target.z)}},{key:"setSmoothTarget",value:function(t){this.targetX.set(t)}},{key:"setSmoothRotation",value:function(t){this.rotationX.set(t)}},{key:"setSmoothZoom",value:function(t){this.zoomZ.set(t)}},{key:"getZoom",value:function(){return this.zoomZ.get()}},{key:"followPos2D",value:function(t,e){this.options.position.x=t,this.options.position.y=e,this.options.target.x=t,this.options.target.y=e}},{key:"followPosY",value:function(t){this.options.position.y=t,this.options.target.y=t}}]),i}(g);function k(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var i,n=(0,u.Z)(t);if(e){var r=(0,u.Z)(this).constructor;i=Reflect.construct(n,arguments,r)}else i=n.apply(this,arguments);return(0,a.Z)(this,i)}}var w=function(t){(0,s.Z)(i,t);var e=k(i);function i(t,r,o){var s;return(0,n.Z)(this,i),(s=e.call(this,t,r,o)).camera=new Z(r.camera),s.camera.perspective(s.containerSize.width,s.containerSize.height),s}return(0,r.Z)(i,[{key:"resize",value:function(t){(0,o.Z)((0,u.Z)(i.prototype),"resize",this).call(this,t),this.camera.perspective(this.containerSize.width,this.containerSize.height)}},{key:"update",value:function(t){(0,o.Z)((0,u.Z)(i.prototype),"update",this).call(this,t),this.camera.update(),this.mngProg.setCameraMatrix(this.camera,!!this.config.camera.ortho)}}]),i}(c.Z)},25192:(t,e,i)=>{i.d(e,{Z:()=>k});var n=i(15671),r=i(43144),o=i(11752),s=i(60136),a=i(6215),u=i(61120),c=i(40487),h=i(44254),l=i(2444),f=i(80602),d=i(21969);const p={position:[1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,1,1,-1,-1,1,-1,-1,1,1,-1,1,1,-1,1,-1,-1,-1,-1,-1,-1,1,-1,-1,-1,1,-1,-1,1,-1,1,-1,-1,1,1,-1,-1,-1,-1,-1,-1,1,-1,1,1,-1],indices:[0,1,2,0,2,3,4,5,6,4,6,7,8,9,10,8,10,11,12,13,14,12,14,15,16,17,18,16,18,19,20,21,22,20,22,23],texture:[1,1,0,1,0,0,1,0,0,0,1,0,1,1,0,1,0,0,0,1,1,1,1,0,0,0,0,1,1,1,1,0,0,0,1,0,1,1,0,1,0,0,1,0,1,1,0,1]};var v=function(){function t(e){(0,n.Z)(this,t),this.gl=e,this.objet=new f.Z(this.gl,p),this.model=new d.Z,this.model.identity()}return(0,r.Z)(t,[{key:"render",value:function(t){t.setMatrix("model",this.model.get()),this.objet.render(t.get())}},{key:"update",value:function(t,e){this.model.identity().scale(e.getX(),e.getY(),e.getZ()).translate(t.getX(),t.getY(),t.getZ())}},{key:"getModel",value:function(){return this.model}}]),t}(),g=i(25773);function y(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var i,n=(0,u.Z)(t);if(e){var r=(0,u.Z)(this).constructor;i=Reflect.construct(n,arguments,r)}else i=n.apply(this,arguments);return(0,a.Z)(this,i)}}var m=function(t){(0,s.Z)(i,t);var e=y(i);function i(t,r){var o,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1024,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1024,u=arguments.length>4&&void 0!==arguments[4]&&arguments[4];return(0,n.Z)(this,i),(o=e.call(this,r)).gl=t,o.fbo=new l.Z(o.gl,s,a,u),o.sizeRepere=new g.Z(.05,.05,.05),o.repere=new v(o.gl),o.repere.update(o.position,o.sizeRepere),o.lookAt(),o}return(0,r.Z)(i,[{key:"start",value:function(){this.fbo.start()}},{key:"end",value:function(){this.fbo.end()}},{key:"move",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;this.position.set(Math.cos(.002*t)*(4+e),this.position.getY(),Math.sin(.002*t)*(4+e)),this.lookAt(),this.repere.update(this.position,this.sizeRepere)}},{key:"renderRepere",value:function(t){this.repere.render(t)}},{key:"getDepthTexture",value:function(){return this.fbo.getDepthTexture()}},{key:"setDepthProgram",value:function(t){t.setMatrix("projection",this.getOrtho().get()),t.setMatrix("view",this.getView().get())}},{key:"setShadowProgram",value:function(t){t.setTexture(2,this.getDepthTexture().get(),"shadowMap"),t.setMatrix("shadowView",this.getView().get()),t.setMatrix("shadowProjection",this.getOrtho().get()),t.setVector("posLum",this.getPosition())}},{key:"resize",value:function(t){this.fbo.resize(t)}}]),i}(h.Z);function Z(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var i,n=(0,u.Z)(t);if(e){var r=(0,u.Z)(this).constructor;i=Reflect.construct(n,arguments,r)}else i=n.apply(this,arguments);return(0,a.Z)(this,i)}}var k=function(t){(0,s.Z)(i,t);var e=Z(i);function i(t,r,o){var s;(0,n.Z)(this,i);var a=(s=e.call(this,t,r,o)).canUseDepth(),u=r.canvas,c=u.width,h=u.height;s.lampes=r.lampes&&r.lampes.map((function(t){return new m(s.gl,t,c,h,a)}))||[];var l=s.mngProg.getAll();return Object.keys(l).forEach((function(t){var e=l[t];e.getLocations().numLights&&s.setLampeInfos(e)})),s}return(0,r.Z)(i,[{key:"renderReperes",value:function(){var t=this;this.lampes.forEach((function(e){return e.renderRepere(t.camera)}))}},{key:"randomLampesPositions",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;this.lampes.forEach((function(n,r){(null===i||null!==i&&r===i)&&n.move(t.time*e,r)}))}},{key:"setLampeInfos",value:function(t){var e=this;t.setVector("posEye",this.camera.getPosition()),t.setInt("numLights",this.lampes.length),this.config.lampes.forEach((function(i,n){var r=i.type,o=i.ambiant,s=i.diffuse,a=i.specular,u=i.brillance,c=i.radius,h=i.direction,l=i.strength;t.setInt("lights[".concat(n,"].type"),r),t.setVector("lights[".concat(n,"].position"),e.lampes[n].getPosition()),t.setVector("lights[".concat(n,"].ambiant"),o),t.setVector("lights[".concat(n,"].diffuse"),s),t.setVector("lights[".concat(n,"].specular"),a),u&&t.setFloat("lights[".concat(n,"].brillance"),u),c&&t.setFloat("lights[".concat(n,"].radius"),c),h&&t.setVector("lights[".concat(n,"].direction"),h),t.setFloat("lights[".concat(n,"].strength"),l||1)}))}},{key:"render",value:function(){(0,o.Z)((0,u.Z)(i.prototype),"render",this).call(this),"function"==typeof this.renderBasiqueForLampeDepth&&this.renderBasiqueForLampeDepth(),this.mngProg.setCameraMatrix(this.camera,!!this.config.camera.ortho)}},{key:"getLampe",value:function(t){return this.lampes[t]?this.lampes[t]:null}},{key:"resize",value:function(t){(0,o.Z)((0,u.Z)(i.prototype),"resize",this).call(this,t),this.lampes.forEach((function(e){return e.resize(t)}))}}]),i}(c.Z)},23645:t=>{t.exports=function(t){var e=[];return e.toString=function(){return this.map((function(e){var i="",n=void 0!==e[5];return e[4]&&(i+="@supports (".concat(e[4],") {")),e[2]&&(i+="@media ".concat(e[2]," {")),n&&(i+="@layer".concat(e[5].length>0?" ".concat(e[5]):""," {")),i+=t(e),n&&(i+="}"),e[2]&&(i+="}"),e[4]&&(i+="}"),i})).join("")},e.i=function(t,i,n,r,o){"string"==typeof t&&(t=[[null,t,void 0]]);var s={};if(n)for(var a=0;a<this.length;a++){var u=this[a][0];null!=u&&(s[u]=!0)}for(var c=0;c<t.length;c++){var h=[].concat(t[c]);n&&s[h[0]]||(void 0!==o&&(void 0===h[5]||(h[1]="@layer".concat(h[5].length>0?" ".concat(h[5]):""," {").concat(h[1],"}")),h[5]=o),i&&(h[2]?(h[1]="@media ".concat(h[2]," {").concat(h[1],"}"),h[2]=i):h[2]=i),r&&(h[4]?(h[1]="@supports (".concat(h[4],") {").concat(h[1],"}"),h[4]=r):h[4]="".concat(r)),e.push(h))}},e}},8081:t=>{t.exports=function(t){return t[1]}},93379:t=>{var e=[];function i(t){for(var i=-1,n=0;n<e.length;n++)if(e[n].identifier===t){i=n;break}return i}function n(t,n){for(var o={},s=[],a=0;a<t.length;a++){var u=t[a],c=n.base?u[0]+n.base:u[0],h=o[c]||0,l="".concat(c," ").concat(h);o[c]=h+1;var f=i(l),d={css:u[1],media:u[2],sourceMap:u[3],supports:u[4],layer:u[5]};if(-1!==f)e[f].references++,e[f].updater(d);else{var p=r(d,n);n.byIndex=a,e.splice(a,0,{identifier:l,updater:p,references:1})}s.push(l)}return s}function r(t,e){var i=e.domAPI(e);i.update(t);return function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap&&e.supports===t.supports&&e.layer===t.layer)return;i.update(t=e)}else i.remove()}}t.exports=function(t,r){var o=n(t=t||[],r=r||{});return function(t){t=t||[];for(var s=0;s<o.length;s++){var a=i(o[s]);e[a].references--}for(var u=n(t,r),c=0;c<o.length;c++){var h=i(o[c]);0===e[h].references&&(e[h].updater(),e.splice(h,1))}o=u}}},90569:t=>{var e={};t.exports=function(t,i){var n=function(t){if(void 0===e[t]){var i=document.querySelector(t);if(window.HTMLIFrameElement&&i instanceof window.HTMLIFrameElement)try{i=i.contentDocument.head}catch(t){i=null}e[t]=i}return e[t]}(t);if(!n)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");n.appendChild(i)}},70609:t=>{t.exports=function(t){var e=document.createElement("style");return t.setAttributes(e,t.attributes),t.insert(e,t.options),e}},3565:(t,e,i)=>{t.exports=function(t){var e=i.nc;e&&t.setAttribute("nonce",e)}},7795:t=>{t.exports=function(t){var e=t.insertStyleElement(t);return{update:function(i){!function(t,e,i){var n="";i.supports&&(n+="@supports (".concat(i.supports,") {")),i.media&&(n+="@media ".concat(i.media," {"));var r=void 0!==i.layer;r&&(n+="@layer".concat(i.layer.length>0?" ".concat(i.layer):""," {")),n+=i.css,r&&(n+="}"),i.media&&(n+="}"),i.supports&&(n+="}");var o=i.sourceMap;o&&"undefined"!=typeof btoa&&(n+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(o))))," */")),e.styleTagTransform(n,t,e.options)}(e,t,i)},remove:function(){!function(t){if(null===t.parentNode)return!1;t.parentNode.removeChild(t)}(e)}}}},44589:t=>{t.exports=function(t,e){if(e.styleSheet)e.styleSheet.cssText=t;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(t))}}}}]);