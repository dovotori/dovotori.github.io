(window.webpackJsonp=window.webpackJsonp||[]).push([[131,12,142],{161:function(e,t,r){"use strict";r.d(t,"c",(function(){return d})),r.d(t,"b",(function(){return l})),r.d(t,"a",(function(){return c}));var n=r(17),i=r(4),o=r(26);function a(e,t,r,n){var o=Object(i.C)(t)/r[0],a=Object(i.y)(t)/r[1];return n?Math.min(e,Math.max(o,a)):Math.min(e,Math.min(o,a))}function s(e,t,r){var i=Math.min(e,t);return i*=Math.log(1+50*Math.max(0,e/t-1))/50+1,r&&(i=Math.max(i,r),i/=Math.log(1+50*Math.max(0,r/e-1))/50+1),Object(n.a)(i,r/2,2*t)}function d(e,t,r,i){return function(d,l,c,u){if(void 0!==d){var h=e[0],g=e[e.length-1],p=r?a(h,r,c,i):h;if(u)return void 0===t||t?s(d,p,g):Object(n.a)(d,g,p);var f=Math.min(p,d),v=Math.floor(Object(o.e)(e,f,l));return e[v]>p&&v<e.length-1?e[v+1]:e[v]}}}function l(e,t,r,i,o,d){return function(l,c,u,h){if(void 0!==l){var g=o?a(t,o,u,d):t,p=void 0!==r?r:0;if(h)return void 0===i||i?s(l,g,p):Object(n.a)(l,p,g);var f=Math.ceil(Math.log(t/g)/Math.log(e)-1e-9),v=-c*(.5-1e-9)+.5,T=Math.min(g,l),y=Math.floor(Math.log(t/T)/Math.log(e)+v),m=Math.max(f,y),O=t/Math.pow(e,m);return Object(n.a)(O,p,g)}}}function c(e,t,r,i,o){return function(d,l,c,u){if(void 0!==d){var h=i?a(e,i,c,o):e;return(void 0===r||r)&&u?s(d,h,t):Object(n.a)(d,t,h)}}}},300:function(e,t,r){"use strict";var n,i=r(375),o=r(301),a=r(90),s=r(12),d=r(31),l=r(4),c=r(11),u=(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),h=function(e){function t(t){var r=e.call(this,t)||this;return r.container=null,r.renderedResolution,r.tempTransform=Object(s.c)(),r.pixelTransform=Object(s.c)(),r.inversePixelTransform=Object(s.c)(),r.context=null,r.containerReused=!1,r}return u(t,e),t.prototype.useContainer=function(e,t,r){var n,i,o=this.getLayer().getClassName();e&&""===e.style.opacity&&e.className===o&&((s=e.firstElementChild)instanceof HTMLCanvasElement&&(i=s.getContext("2d")));if(!i||0!==i.canvas.width&&i.canvas.style.transform!==t?this.containerReused&&(this.container=null,this.context=null,this.containerReused=!1):(this.container=e,this.context=i,this.containerReused=!0),!this.container){(n=document.createElement("div")).className=o;var a=n.style;a.position="absolute",a.width="100%",a.height="100%";var s=(i=Object(d.a)()).canvas;n.appendChild(s),(a=s.style).position="absolute",a.left="0",a.transformOrigin="top left",this.container=n,this.context=i}},t.prototype.clip=function(e,t,r){var n=t.pixelRatio,i=t.size[0]*n/2,o=t.size[1]*n/2,a=t.viewState.rotation,d=Object(l.A)(r),u=Object(l.B)(r),h=Object(l.u)(r),g=Object(l.t)(r);Object(s.a)(t.coordinateToPixelTransform,d),Object(s.a)(t.coordinateToPixelTransform,u),Object(s.a)(t.coordinateToPixelTransform,h),Object(s.a)(t.coordinateToPixelTransform,g),e.save(),Object(c.t)(e,-a,i,o),e.beginPath(),e.moveTo(d[0]*n,d[1]*n),e.lineTo(u[0]*n,u[1]*n),e.lineTo(h[0]*n,h[1]*n),e.lineTo(g[0]*n,g[1]*n),e.clip(),Object(c.t)(e,a,i,o)},t.prototype.clipUnrotated=function(e,t,r){var n=Object(l.A)(r),i=Object(l.B)(r),o=Object(l.u)(r),a=Object(l.t)(r);Object(s.a)(t.coordinateToPixelTransform,n),Object(s.a)(t.coordinateToPixelTransform,i),Object(s.a)(t.coordinateToPixelTransform,o),Object(s.a)(t.coordinateToPixelTransform,a);var d=this.inversePixelTransform;Object(s.a)(d,n),Object(s.a)(d,i),Object(s.a)(d,o),Object(s.a)(d,a),e.save(),e.beginPath(),e.moveTo(Math.round(n[0]),Math.round(n[1])),e.lineTo(Math.round(i[0]),Math.round(i[1])),e.lineTo(Math.round(o[0]),Math.round(o[1])),e.lineTo(Math.round(a[0]),Math.round(a[1])),e.clip()},t.prototype.dispatchRenderEvent_=function(e,t,r){var n=this.getLayer();if(n.hasListener(e)){var i=new o.a(e,this.inversePixelTransform,r,t);n.dispatchEvent(i)}},t.prototype.preRender=function(e,t){this.dispatchRenderEvent_(a.a.PRERENDER,e,t)},t.prototype.postRender=function(e,t){this.dispatchRenderEvent_(a.a.POSTRENDER,e,t)},t.prototype.getRenderTransform=function(e,t,r,n,i,o,a){var d=i/2,l=o/2,c=n/t,u=-c,h=-e[0]+a,g=-e[1];return Object(s.b)(this.tempTransform,d,l,c,u,-r,h,g)},t.prototype.getDataAtPixel=function(e,t,r){var n,i=Object(s.a)(this.inversePixelTransform,e.slice()),o=this.context;try{var a=Math.round(i[0]),d=Math.round(i[1]),l=document.createElement("canvas"),c=l.getContext("2d");l.width=1,l.height=1,c.clearRect(0,0,1,1),c.drawImage(o.canvas,a,d,1,1,0,0,1,1),n=c.getImageData(0,0,1,1).data}catch(e){return"SecurityError"===e.name?new Uint8Array:n}return 0===n[3]?null:n},t}(i.a);t.a=h},371:function(e,t,r){"use strict";var n,i=r(310),o=r(300),a=r(163),s=r(41),d=r(12),l=r(4),c=r(160),u=r(83),h=r(18),g=r(6),p=r(50),f=(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),v=function(e){function t(t){var r=e.call(this,t)||this;return r.boundHandleStyleImageChange_=r.handleStyleImageChange_.bind(r),r.animatingOrInteracting_,r.dirty_=!1,r.hitDetectionImageData_=null,r.renderedFeatures_=null,r.renderedRevision_=-1,r.renderedResolution_=NaN,r.renderedExtent_=Object(l.i)(),r.renderedRotation_,r.renderedCenter_=null,r.renderedProjection_=null,r.renderedRenderOrder_=null,r.replayGroup_=null,r.replayGroupChanged=!0,r.clipping=!0,r}return f(t,e),t.prototype.useContainer=function(t,r,n){n<1&&(t=null),e.prototype.useContainer.call(this,t,r,n)},t.prototype.renderFrame=function(e,t){var r=e.pixelRatio,n=e.layerStatesArray[e.layerIndex];Object(d.e)(this.pixelTransform,1/r,1/r),Object(d.d)(this.inversePixelTransform,this.pixelTransform);var i=Object(d.j)(this.pixelTransform);this.useContainer(t,i,n.opacity);var o=this.context,c=o.canvas,u=this.replayGroup_;if(!u||u.isEmpty())return!this.containerReused&&c.width>0&&(c.width=0),this.container;var g=Math.round(e.size[0]*r),p=Math.round(e.size[1]*r);c.width!=g||c.height!=p?(c.width=g,c.height=p,c.style.transform!==i&&(c.style.transform=i)):this.containerReused||o.clearRect(0,0,g,p),this.preRender(o,e);var f=e.extent,v=e.viewState,T=v.center,y=v.resolution,m=v.projection,O=v.rotation,b=m.getExtent(),x=this.getLayer().getSource(),R=!1;if(n.extent&&this.clipping){var j=Object(h.f)(n.extent,m);(R=!Object(l.f)(j,e.extent)&&Object(l.D)(j,e.extent))&&this.clipUnrotated(o,e,j)}var _=e.viewHints,I=!(_[s.a.ANIMATING]||_[s.a.INTERACTING]),C=this.getRenderTransform(T,y,O,r,g,p,0),E=this.getLayer().getDeclutter()?{}:null;if(u.execute(o,1,C,O,I,void 0,E),x.getWrapX()&&m.canWrapX()&&!Object(l.f)(b,f)){for(var S=f[0],w=Object(l.C)(b),D=0,M=void 0;S<b[0];){M=w*--D;var L=this.getRenderTransform(T,y,O,r,g,p,M);u.execute(o,1,L,O,I,void 0,E),S+=w}for(D=0,S=f[2];S>b[2];){M=w*++D;var P=this.getRenderTransform(T,y,O,r,g,p,M);u.execute(o,1,P,O,I,void 0,E),S-=w}}if(E){var A=e.viewHints,F=!(A[s.a.ANIMATING]||A[s.a.INTERACTING]);Object(a.b)(E,o,O,1,F,e.declutterItems)}R&&o.restore(),this.postRender(o,e);var G=n.opacity,N=this.container;return G!==parseFloat(N.style.opacity)&&(N.style.opacity=1===G?"":String(G)),this.renderedRotation_!==v.rotation&&(this.renderedRotation_=v.rotation,this.hitDetectionImageData_=null),this.container},t.prototype.getFeatures=function(e){return new Promise(function(t,r){if(!this.hitDetectionImageData_&&!this.animatingOrInteracting_){var n=[this.context.canvas.width,this.context.canvas.height];Object(d.a)(this.pixelTransform,n);var i=this.renderedCenter_,o=this.renderedResolution_,a=this.renderedRotation_,s=this.renderedProjection_,u=this.renderedExtent_,h=this.getLayer(),g=[],p=n[0]/2,f=n[1]/2;g.push(this.getRenderTransform(i,o,a,.5,p,f,0).slice());var v=h.getSource(),T=s.getExtent();if(v.getWrapX()&&s.canWrapX()&&!Object(l.f)(T,u)){for(var y=u[0],m=Object(l.C)(T),O=0,b=void 0;y<T[0];)b=m*--O,g.push(this.getRenderTransform(i,o,a,.5,p,f,b).slice()),y+=m;for(O=0,y=u[2];y>T[2];)b=m*++O,g.push(this.getRenderTransform(i,o,a,.5,p,f,b).slice()),y-=m}this.hitDetectionImageData_=Object(c.a)(n,g,this.renderedFeatures_,h.getStyleFunction(),u,o,a)}t(Object(c.b)(e,this.renderedFeatures_,this.hitDetectionImageData_))}.bind(this))},t.prototype.forEachFeatureAtCoordinate=function(e,t,r,n,i){if(this.replayGroup_){var o=t.viewState.resolution,a=t.viewState.rotation,s=this.getLayer(),d={};return this.replayGroup_.forEachFeatureAtCoordinate(e,o,a,r,(function(e){var t=Object(g.c)(e);if(!(t in d))return d[t]=!0,n(e,s)}),s.getDeclutter()?i:null)}},t.prototype.handleFontsChanged=function(){var e=this.getLayer();e.getVisible()&&this.replayGroup_&&e.changed()},t.prototype.handleStyleImageChange_=function(e){this.renderIfReadyAndVisible()},t.prototype.prepareFrame=function(e){var t=this.getLayer(),r=t.getSource();if(!r)return!1;var n=e.viewHints[s.a.ANIMATING],o=e.viewHints[s.a.INTERACTING],d=t.getUpdateWhileAnimating(),c=t.getUpdateWhileInteracting();if(!this.dirty_&&!d&&n||!c&&o)return this.animatingOrInteracting_=!0,!0;this.animatingOrInteracting_=!1;var g=e.extent,f=e.viewState,v=f.projection,T=f.resolution,y=e.pixelRatio,m=t.getRevision(),O=t.getRenderBuffer(),b=t.getRenderOrder();void 0===b&&(b=u.a);var x=f.center.slice(),R=Object(l.b)(g,O*T),j=[R.slice()],_=v.getExtent();if(r.getWrapX()&&v.canWrapX()&&!Object(l.f)(_,e.extent)){var I=Object(l.C)(_),C=Math.max(Object(l.C)(R)/2,I);R[0]=_[0]-C,R[2]=_[2]+C,Object(p.f)(x,v);var E=Object(l.I)(j[0],v);E[0]<_[0]&&E[2]<_[2]?j.push([E[0]+I,E[1],E[2]+I,E[3]]):E[0]>_[0]&&E[2]>_[2]&&j.push([E[0]-I,E[1],E[2]-I,E[3]])}if(!this.dirty_&&this.renderedResolution_==T&&this.renderedRevision_==m&&this.renderedRenderOrder_==b&&Object(l.f)(this.renderedExtent_,R))return this.replayGroupChanged=!1,!0;this.replayGroup_=null,this.dirty_=!1;var S,w=new i.a(Object(u.c)(T,y),R,T,y,t.getDeclutter()),D=Object(h.k)();if(D){for(var M=0,L=j.length;M<L;++M)r.loadFeatures(Object(h.m)(j[M],v),T,D);S=Object(h.j)(D,v)}else for(M=0,L=j.length;M<L;++M)r.loadFeatures(j[M],T,v);var P=Object(u.b)(T,y),A=function(e){var r,n=e.getStyleFunction()||t.getStyleFunction();if(n&&(r=n(e,T)),r){var i=this.renderFeature(e,P,r,w,S);this.dirty_=this.dirty_||i}}.bind(this),F=Object(h.m)(R,v),G=r.getFeaturesInExtent(F);b&&G.sort(b);for(M=0,L=G.length;M<L;++M)A(G[M]);this.renderedFeatures_=G;var N=w.finish(),Z=new a.a(R,T,y,r.getOverlaps(),N,t.getRenderBuffer());return this.renderedResolution_=T,this.renderedRevision_=m,this.renderedRenderOrder_=b,this.renderedExtent_=R,this.renderedCenter_=x,this.renderedProjection_=v,this.replayGroup_=Z,this.hitDetectionImageData_=null,this.replayGroupChanged=!0,!0},t.prototype.renderFeature=function(e,t,r,n,i){if(!r)return!1;var o=!1;if(Array.isArray(r))for(var a=0,s=r.length;a<s;++a)o=Object(u.d)(n,e,r[a],t,this.boundHandleStyleImageChange_,i)||o;else o=Object(u.d)(n,e,r,t,this.boundHandleStyleImageChange_,i);return o},t}(o.a);t.a=v},390:function(e,t,r){"use strict";var n,i=r(310),o=r(163),a=r(300),s=r(129),d=r(21),l=r(12),c=r(23),u=r(4),h=r(11),g=r(18),p=r(6),f=r(26),v=(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),T=function(e){function t(t){var r=e.call(this,t)||this;return r.extentChanged=!0,r.renderedExtent_=null,r.renderedPixelRatio,r.renderedProjection=null,r.renderedRevision,r.renderedTiles=[],r.newTiles_=!1,r.tmpExtent=Object(u.i)(),r.tmpTileRange_=new s.b(0,0,0,0),r}return v(t,e),t.prototype.isDrawableTile=function(e){var t=this.getLayer(),r=e.getState(),n=t.getUseInterimTilesOnError();return r==d.a.LOADED||r==d.a.EMPTY||r==d.a.ERROR&&!n},t.prototype.getTile=function(e,t,r,n){var i=n.pixelRatio,o=n.viewState.projection,a=this.getLayer(),s=a.getSource().getTile(e,t,r,i,o);return s.getState()==d.a.ERROR&&(a.getUseInterimTilesOnError()?a.getPreload()>0&&(this.newTiles_=!0):s.setState(d.a.LOADED)),this.isDrawableTile(s)||(s=s.getInterimTile()),s},t.prototype.loadedTileCallback=function(t,r,n){return!!this.isDrawableTile(n)&&e.prototype.loadedTileCallback.call(this,t,r,n)},t.prototype.prepareFrame=function(e){return!!this.getLayer().getSource()},t.prototype.renderFrame=function(e,t){var r=e.layerStatesArray[e.layerIndex],n=e.viewState,i=n.projection,o=n.resolution,a=n.center,s=n.rotation,v=e.pixelRatio,T=this.getLayer(),y=T.getSource(),m=y.getRevision(),O=y.getTileGridForProjection(i),b=O.getZForResolution(o,y.zDirection),x=O.getResolution(b),R=e.extent,j=r.extent&&Object(g.f)(r.extent,i);j&&(R=Object(u.z)(R,Object(g.f)(r.extent,i)));var _=y.getTilePixelRatio(v),I=Math.round(e.size[0]*_),C=Math.round(e.size[1]*_);if(s){var E=Math.round(Math.sqrt(I*I+C*C));I=E,C=E}var S=x*I/2/_,w=x*C/2/_,D=[a[0]-S,a[1]-w,a[0]+S,a[1]+w],M=O.getTileRangeForExtentAndZ(R,b),L={};L[b]={};var P=this.createLoadedTileFinder(y,i,L),A=this.tmpExtent,F=this.tmpTileRange_;this.newTiles_=!1;for(var G=M.minX;G<=M.maxX;++G)for(var N=M.minY;N<=M.maxY;++N){var Z=this.getTile(b,G,N,e);if(this.isDrawableTile(Z)){var X=Object(p.c)(this);if(Z.getState()==d.a.LOADED){L[b][Z.tileCoord.toString()]=Z;var B=Z.inTransition(X);this.newTiles_||!B&&-1!==this.renderedTiles.indexOf(Z)||(this.newTiles_=!0)}if(1===Z.getAlpha(X,e.time))continue}var k=O.getTileCoordChildTileRange(Z.tileCoord,F,A),z=!1;k&&(z=P(b+1,k)),z||O.forEachTileCoordParentTileRange(Z.tileCoord,P,F,A)}var H=x/o;Object(l.b)(this.pixelTransform,e.size[0]/2,e.size[1]/2,1/_,1/_,s,-I/2,-C/2);var U=Object(h.b)(this.pixelTransform);this.useContainer(t,U,r.opacity);var Q=this.context,Y=Q.canvas;Object(l.d)(this.inversePixelTransform,this.pixelTransform),Object(l.b)(this.tempTransform,I/2,C/2,H,H,0,-I/2,-C/2),Y.width!=I||Y.height!=C?(Y.width=I,Y.height=C):this.containerReused||Q.clearRect(0,0,I,C),j&&this.clipUnrotated(Q,e,j),Object(c.a)(Q,y.getContextOptions()),this.preRender(Q,e),this.renderedTiles.length=0;var K,W,V,q=Object.keys(L).map(Number);q.sort(f.f),1!==r.opacity||this.containerReused&&!y.getOpaque(e.viewState.projection)?(K=[],W=[]):q=q.reverse();for(var J=q.length-1;J>=0;--J){var $=q[J],ee=y.getTilePixelSize($,v,i),te=O.getResolution($)/x,re=ee[0]*te*H,ne=ee[1]*te*H,ie=O.getTileCoordForCoordAndZ(Object(u.A)(D),$),oe=O.getTileCoordExtent(ie),ae=Object(l.a)(this.tempTransform,[_*(oe[0]-D[0])/x,_*(D[3]-oe[3])/x]),se=_*y.getGutterForProjection(i),de=L[$];for(var le in de){var ce=(Z=de[le]).tileCoord,ue=ae[0]-(ie[1]-ce[1])*re,he=Math.round(ue+re),ge=ae[1]-(ie[2]-ce[2])*ne,pe=Math.round(ge+ne),fe=he-(G=Math.round(ue)),ve=pe-(N=Math.round(ge)),Te=b===$;if(!(B=Te&&1!==Z.getAlpha(Object(p.c)(this),e.time)))if(K){Q.save(),V=[G,N,G+fe,N,G+fe,N+ve,G,N+ve];for(var ye=0,me=K.length;ye<me;++ye)if(b!==$&&$<W[ye]){var Oe=K[ye];Q.beginPath(),Q.moveTo(V[0],V[1]),Q.lineTo(V[2],V[3]),Q.lineTo(V[4],V[5]),Q.lineTo(V[6],V[7]),Q.moveTo(Oe[6],Oe[7]),Q.lineTo(Oe[4],Oe[5]),Q.lineTo(Oe[2],Oe[3]),Q.lineTo(Oe[0],Oe[1]),Q.clip()}K.push(V),W.push($)}else Q.clearRect(G,N,fe,ve);this.drawTileImage(Z,e,G,N,fe,ve,se,Te,r.opacity),K&&!B&&Q.restore(),this.renderedTiles.push(Z),this.updateUsedTiles(e.usedTiles,y,Z)}}return this.renderedRevision=m,this.renderedResolution=x,this.extentChanged=!this.renderedExtent_||!Object(u.o)(this.renderedExtent_,D),this.renderedExtent_=D,this.renderedPixelRatio=v,this.renderedProjection=i,this.manageTilePyramid(e,y,O,v,i,R,b,T.getPreload()),this.scheduleExpireCache(e,y),this.postRender(Q,e),r.extent&&Q.restore(),U!==Y.style.transform&&(Y.style.transform=U),this.container},t.prototype.drawTileImage=function(e,t,r,n,i,o,a,s,d){var l=this.getTileImage(e);if(l){var c=Object(p.c)(this),u=s?e.getAlpha(c,t.time):1,h=d*u,g=h!==this.context.globalAlpha;g&&(this.context.save(),this.context.globalAlpha=h),this.context.drawImage(l,a,a,l.width-2*a,l.height-2*a,r,n,i,o),g&&this.context.restore(),1!==u?t.animate=!0:s&&e.endTransition(c)}},t.prototype.getImage=function(){var e=this.context;return e?e.canvas:null},t.prototype.getTileImage=function(e){return e.getImage()},t.prototype.scheduleExpireCache=function(e,t){if(t.canExpireCache()){var r=function(e,t,r){var n=Object(p.c)(e);n in r.usedTiles&&e.expireCache(r.viewState.projection,r.usedTiles[n])}.bind(null,t);e.postRenderFunctions.push(r)}},t.prototype.updateUsedTiles=function(e,t,r){var n=Object(p.c)(t);n in e||(e[n]={}),e[n][r.getKey()]=!0},t.prototype.manageTilePyramid=function(e,t,r,n,i,o,a,s,l){var c=Object(p.c)(t);c in e.wantedTiles||(e.wantedTiles[c]={});var u,h,g,f,v,T,y=e.wantedTiles[c],m=e.tileQueue,O=0;for(T=r.getMinZoom();T<=a;++T)for(h=r.getTileRangeForExtentAndZ(o,T,h),g=r.getResolution(T),f=h.minX;f<=h.maxX;++f)for(v=h.minY;v<=h.maxY;++v)a-T<=s?(++O,(u=t.getTile(T,f,v,n,i)).getState()==d.a.IDLE&&(y[u.getKey()]=!0,m.isKeyQueued(u.getKey())||m.enqueue([u,c,r.getTileCoordCenter(u.tileCoord),g])),void 0!==l&&l(u)):t.useTile(T,f,v,i);t.updateCacheSize(O,i)},t}(a.a);T.prototype.getLayer;var y=T,m=r(14),O=r(28),b=r(98),x=r(41),R=r(160),j=r(83),_=r(13),I=r(47),C=r(50),E=function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),S={image:[O.a.POLYGON,O.a.CIRCLE,O.a.LINE_STRING,O.a.IMAGE,O.a.TEXT],hybrid:[O.a.POLYGON,O.a.LINE_STRING],vector:[]},w={image:[O.a.DEFAULT],hybrid:[O.a.IMAGE,O.a.TEXT,O.a.DEFAULT],vector:[O.a.POLYGON,O.a.CIRCLE,O.a.LINE_STRING,O.a.IMAGE,O.a.TEXT,O.a.DEFAULT]},D=function(e){function t(t){var r=e.call(this,t)||this;return r.boundHandleStyleImageChange_=r.handleStyleImageChange_.bind(r),r.dirty_=!1,r.renderedLayerRevision_,r.renderedPixelToCoordinateTransform_=null,r.renderedRotation_,r.renderTileImageQueue_={},r.tileListenerKeys_={},r.tmpTransform_=Object(l.c)(),r}return E(t,e),t.prototype.prepareTile=function(e,t,r,n){var i,o=Object(p.c)(e),a=e.getState();return(a===d.a.LOADED&&e.hifi||a===d.a.ERROR)&&o in this.tileListenerKeys_&&(Object(_.c)(this.tileListenerKeys_[o]),delete this.tileListenerKeys_[o]),a!==d.a.LOADED&&a!==d.a.ERROR||(this.updateExecutorGroup_(e,t,r),this.tileImageNeedsRender_(e,t,r)&&(i=!0,n&&(this.renderTileImageQueue_[o]=e))),i},t.prototype.getTile=function(t,r,n,i){var o=i.pixelRatio,a=i.viewState,s=a.resolution,l=a.projection,c=this.getLayer(),u=c.getSource().getTile(t,r,n,o,l);if(u.getState()<d.a.LOADED){u.wantedResolution=s;var h=Object(p.c)(u);if(!(h in this.tileListenerKeys_)){var g=Object(_.a)(u,m.a.CHANGE,this.prepareTile.bind(this,u,o,l,!0));this.tileListenerKeys_[h]=g}}else{var f=i.viewHints;!!(f[x.a.ANIMATING]||f[x.a.INTERACTING])&&u.wantedResolution||(u.wantedResolution=s),this.prepareTile(u,o,l,!1)&&c.getRenderMode()!==b.a.VECTOR&&this.renderTileImage_(u,i)}return e.prototype.getTile.call(this,t,r,n,i)},t.prototype.isDrawableTile=function(t){var r=this.getLayer();return e.prototype.isDrawableTile.call(this,t)&&(r.getRenderMode()===b.a.VECTOR?Object(p.c)(r)in t.executorGroups:t.hasContext(r))},t.prototype.getTileImage=function(e){return e.getImage(this.getLayer())},t.prototype.prepareFrame=function(t){var r=this.getLayer().getRevision();return this.renderedLayerRevision_!=r&&(this.renderedTiles.length=0),this.renderedLayerRevision_=r,e.prototype.prepareFrame.call(this,t)},t.prototype.updateExecutorGroup_=function(e,t,r){var n=this.getLayer(),a=n.getRevision(),s=n.getRenderOrder()||null,l=e.wantedResolution,c=e.getReplayState(n);if(c.dirty||c.renderedResolution!==l||c.renderedRevision!=a||c.renderedRenderOrder!=s||c.renderedZ!==e.sourceZ){var h=n.getSource(),g=h.getTileGrid(),f=h.getTileGridForProjection(r).getTileCoordExtent(e.wrappedTileCoord),v=h.getSourceTiles(t,r,e),T=Object(p.c)(n);delete e.hitDetectionImageData[T],e.executorGroups[T]=[];for(var y=function(r,a){var p=v[r];if(p.getState()!=d.a.LOADED)return"continue";var y=p.tileCoord,O=g.getTileCoordExtent(y),x=Object(u.z)(f,O),R=Object(u.o)(O,x)?null:Object(u.b)(x,n.getRenderBuffer()*l,m.tmpExtent);c.dirty=!1;var _=new i.a(0,x,l,t,n.getDeclutter()),I=Object(j.b)(l,t),C=function(e){var t,r=e.getStyleFunction()||n.getStyleFunction();if(r&&(t=r(e,l)),t){var i=this.renderFeature(e,I,t,_);this.dirty_=this.dirty_||i,c.dirty=c.dirty||i}},E=p.getFeatures();s&&s!==c.renderedRenderOrder&&E.sort(s);for(var S=0,w=E.length;S<w;++S){var D=E[S];R&&!Object(u.D)(R,D.getGeometry().getExtent())||C.call(m,D)}var M=_.finish(),L=n.getRenderMode()!==b.a.VECTOR&&n.getDeclutter()&&1===v.length?null:x,P=new o.a(L,l,t,h.getOverlaps(),M,n.getRenderBuffer());e.executorGroups[T].push(P)},m=this,O=0,x=v.length;O<x;++O)y(O);c.renderedRevision=a,c.renderedZ=e.sourceZ,c.renderedRenderOrder=s,c.renderedResolution=l}},t.prototype.forEachFeatureAtCoordinate=function(e,t,r,n,i){var o=t.viewState.resolution,a=t.viewState.rotation;r=null==r?0:r;var s,d,l,c=this.getLayer(),h=c.getDeclutter(),g=c.getSource().getTileGridForProjection(t.viewState.projection),f={},v=this.renderedTiles,T=function(){var t=v[d],l=g.getTileCoordExtent(t.wrappedTileCoord),T=Object(u.e)(l,e);if(!h&&!T)return"continue";for(var y=t.executorGroups[Object(p.c)(c)],m=0,O=y.length;m<O;++m){var b=y[m];s=s||b.forEachFeatureAtCoordinate(e,o,a,r,(function(e){if(T||i&&-1!==i.indexOf(e)){var t=e.getId();if(void 0===t&&(t=Object(p.c)(e)),!(t in f))return f[t]=!0,n(e,c)}}),c.getDeclutter()?i:null)}};for(d=0,l=v.length;d<l;++d)T();return s},t.prototype.getFeatures=function(e){return new Promise(function(t,r){for(var n,i=this.getLayer(),o=Object(p.c)(i),a=i.getSource(),s=this.renderedProjection,c=s.getExtent(),h=this.renderedResolution,g=a.getTileGridForProjection(s),f=Object(l.a)(this.renderedPixelToCoordinateTransform_,e.slice()),v=g.getTileCoordForCoordAndResolution(f,h),T=0,y=this.renderedTiles.length;T<y;++T)if(v.toString()===this.renderedTiles[T].tileCoord.toString()){if((n=this.renderedTiles[T]).getState()===d.a.LOADED&&n.hifi){var m=g.getTileCoordExtent(n.tileCoord);a.getWrapX()&&s.canWrapX()&&!Object(u.f)(c,m)&&Object(C.f)(f,s);break}n=void 0}if(!n||n.loadingSourceTiles>0)t([]);else{var O=g.getTileCoordExtent(n.wrappedTileCoord),b=Object(u.A)(O),x=[(f[0]-b[0])/h,(b[1]-f[1])/h],j=n.getSourceTiles().reduce((function(e,t){return e.concat(t.getFeatures())}),[]),_=n.hitDetectionImageData[o];if(!_&&!this.animatingOrInteracting_){var E=Object(I.c)(g.getTileSize(g.getZForResolution(h))),S=[E[0]/2,E[1]/2],w=this.renderedRotation_,D=[this.getRenderTransform(g.getTileCoordCenter(n.wrappedTileCoord),h,0,.5,S[0],S[1],0)];_=Object(R.a)(E,D,j,i.getStyleFunction(),g.getTileCoordExtent(n.wrappedTileCoord),n.getReplayState(i).renderedResolution,w),n.hitDetectionImageData[o]=_}t(Object(R.b)(x,j,_))}}.bind(this))},t.prototype.handleFontsChanged=function(){Object(c.b)(this.renderTileImageQueue_);var e=this.getLayer();e.getVisible()&&void 0!==this.renderedLayerRevision_&&e.changed()},t.prototype.handleStyleImageChange_=function(e){this.renderIfReadyAndVisible()},t.prototype.renderFrame=function(t,r){var n=t.viewHints,i=!(n[x.a.ANIMATING]||n[x.a.INTERACTING]);this.renderQueuedTileImages_(i,t),e.prototype.renderFrame.call(this,t,r),this.renderedPixelToCoordinateTransform_=t.pixelToCoordinateTransform.slice(),this.renderedRotation_=t.viewState.rotation;var a=this.getLayer(),s=a.getRenderMode();if(s===b.a.IMAGE)return this.container;var d=a.getSource(),c=t.usedTiles[Object(p.c)(d)];for(var u in this.renderTileImageQueue_)c&&u in c||delete this.renderTileImageQueue_[u];for(var h=this.context,g=a.getDeclutter()?{}:null,f=w[s],v=t.pixelRatio,T=t.viewState,y=T.center,m=T.resolution,O=T.rotation,R=t.size,j=Math.round(R[0]*v),_=Math.round(R[1]*v),I=this.renderedTiles,C=d.getTileGridForProjection(t.viewState.projection),E=[],S=[],D=I.length-1;D>=0;--D)for(var M=I[D],L=M.tileCoord,P=C.getTileCoordExtent(M.wrappedTileCoord),A=C.getTileCoordExtent(L,this.tmpExtent)[0]-P[0],F=Object(l.f)(Object(l.h)(this.inversePixelTransform.slice(),1/v,1/v),this.getRenderTransform(y,m,O,v,j,_,A)),G=M.executorGroups[Object(p.c)(a)],N=!1,Z=0,X=G.length;Z<X;++Z){var B=G[Z];if(B.hasExecutors(f)){var k=M.tileCoord[0],z=void 0;if(!g&&!N){z=B.getClipCoords(F),h.save();for(var H=0,U=E.length;H<U;++H){var Q=E[H];k<S[H]&&(h.beginPath(),h.moveTo(z[0],z[1]),h.lineTo(z[2],z[3]),h.lineTo(z[4],z[5]),h.lineTo(z[6],z[7]),h.moveTo(Q[6],Q[7]),h.lineTo(Q[4],Q[5]),h.lineTo(Q[2],Q[3]),h.lineTo(Q[0],Q[1]),h.clip())}}B.execute(h,1,F,O,i,f,g),g||N||(h.restore(),E.push(z),S.push(k),N=!0)}}if(g){var Y=t.layerStatesArray[t.layerIndex];Object(o.b)(g,h,O,Y.opacity,i,t.declutterItems)}return this.container},t.prototype.renderQueuedTileImages_=function(e,t){for(var r in this.renderTileImageQueue_){if(!e&&Date.now()-t.time>8){t.animate=!0;break}var n=this.renderTileImageQueue_[r];delete this.renderTileImageQueue_[r],this.renderTileImage_(n,t)}},t.prototype.renderFeature=function(e,t,r,n){if(!r)return!1;var i=!1;if(Array.isArray(r))for(var o=0,a=r.length;o<a;++o)i=Object(j.d)(n,e,r[o],t,this.boundHandleStyleImageChange_)||i;else i=Object(j.d)(n,e,r,t,this.boundHandleStyleImageChange_);return i},t.prototype.tileImageNeedsRender_=function(e,t,r){var n=this.getLayer(),i=e.getReplayState(n),o=n.getRevision(),a=e.sourceZ,s=e.wantedResolution;return i.renderedTileResolution!==s||i.renderedTileRevision!==o||i.renderedTileZ!==a},t.prototype.renderTileImage_=function(e,t){var r=this.getLayer(),n=e.getReplayState(r),i=r.getRevision(),o=e.executorGroups[Object(p.c)(r)];n.renderedTileRevision=i,n.renderedTileZ=e.sourceZ;var a=e.wrappedTileCoord,s=a[0],d=r.getSource(),c=t.pixelRatio,u=t.viewState.projection,h=d.getTileGridForProjection(u),g=h.getResolution(e.tileCoord[0]),f=t.pixelRatio/e.wantedResolution*g,v=h.getResolution(s),T=e.getContext(r);c=Math.max(c,f/c);var y=d.getTilePixelSize(s,c,u);T.canvas.width=y[0],T.canvas.height=y[1];var m=c/f;if(1!==m){var O=Object(l.g)(this.tmpTransform_);Object(l.h)(O,m,m),T.setTransform.apply(T,O)}var b=h.getTileCoordExtent(a,this.tmpExtent),x=f/v,R=Object(l.g)(this.tmpTransform_);Object(l.h)(R,x,-x),Object(l.k)(R,-b[0],-b[3]);for(var j=0,_=o.length;j<_;++j){o[j].execute(T,m,R,0,!0,S[r.getRenderMode()])}n.renderedTileResolution=e.wantedResolution},t}(y);t.a=D},83:function(e,t,r){"use strict";r.d(t,"a",(function(){return d})),r.d(t,"b",(function(){return l})),r.d(t,"c",(function(){return c})),r.d(t,"d",(function(){return u}));var n=r(28),i=r(9),o=r(34),a=r(6),s={Point:function(e,t,r,i){var a=r.getImage();if(a){if(a.getImageState()!=o.a.LOADED)return;var s=e.getBuilder(r.getZIndex(),n.a.IMAGE);s.setImageStyle(a,e.addDeclutter(!1)),s.drawPoint(t,i)}var d=r.getText();if(d){var l=e.getBuilder(r.getZIndex(),n.a.TEXT);l.setTextStyle(d,e.addDeclutter(!!a)),l.drawText(t,i)}},LineString:function(e,t,r,i){var o=r.getStroke();if(o){var a=e.getBuilder(r.getZIndex(),n.a.LINE_STRING);a.setFillStrokeStyle(null,o),a.drawLineString(t,i)}var s=r.getText();if(s){var d=e.getBuilder(r.getZIndex(),n.a.TEXT);d.setTextStyle(s,e.addDeclutter(!1)),d.drawText(t,i)}},Polygon:function(e,t,r,i){var o=r.getFill(),a=r.getStroke();if(o||a){var s=e.getBuilder(r.getZIndex(),n.a.POLYGON);s.setFillStrokeStyle(o,a),s.drawPolygon(t,i)}var d=r.getText();if(d){var l=e.getBuilder(r.getZIndex(),n.a.TEXT);l.setTextStyle(d,e.addDeclutter(!1)),l.drawText(t,i)}},MultiPoint:function(e,t,r,i){var a=r.getImage();if(a){if(a.getImageState()!=o.a.LOADED)return;var s=e.getBuilder(r.getZIndex(),n.a.IMAGE);s.setImageStyle(a,e.addDeclutter(!1)),s.drawMultiPoint(t,i)}var d=r.getText();if(d){var l=e.getBuilder(r.getZIndex(),n.a.TEXT);l.setTextStyle(d,e.addDeclutter(!!a)),l.drawText(t,i)}},MultiLineString:function(e,t,r,i){var o=r.getStroke();if(o){var a=e.getBuilder(r.getZIndex(),n.a.LINE_STRING);a.setFillStrokeStyle(null,o),a.drawMultiLineString(t,i)}var s=r.getText();if(s){var d=e.getBuilder(r.getZIndex(),n.a.TEXT);d.setTextStyle(s,e.addDeclutter(!1)),d.drawText(t,i)}},MultiPolygon:function(e,t,r,i){var o=r.getFill(),a=r.getStroke();if(a||o){var s=e.getBuilder(r.getZIndex(),n.a.POLYGON);s.setFillStrokeStyle(o,a),s.drawMultiPolygon(t,i)}var d=r.getText();if(d){var l=e.getBuilder(r.getZIndex(),n.a.TEXT);l.setTextStyle(d,e.addDeclutter(!1)),l.drawText(t,i)}},GeometryCollection:function(e,t,r,n){var i,o,a=t.getGeometriesArray();for(i=0,o=a.length;i<o;++i){(0,s[a[i].getType()])(e,a[i],r,n)}},Circle:function(e,t,r,i){var o=r.getFill(),a=r.getStroke();if(o||a){var s=e.getBuilder(r.getZIndex(),n.a.CIRCLE);s.setFillStrokeStyle(o,a),s.drawCircle(t,i)}var d=r.getText();if(d){var l=e.getBuilder(r.getZIndex(),n.a.TEXT);l.setTextStyle(d,e.addDeclutter(!1)),l.drawText(t,i)}}};function d(e,t){return parseInt(Object(a.c)(e),10)-parseInt(Object(a.c)(t),10)}function l(e,t){var r=c(e,t);return r*r}function c(e,t){return.5*e/t}function u(e,t,r,n,i,a){var d=!1,l=r.getImage();if(l){var c=l.getImageState();c==o.a.LOADED||c==o.a.ERROR?l.unlistenImageChange(i):(c==o.a.IDLE&&l.load(),c=l.getImageState(),l.listenImageChange(i),d=!0)}return function(e,t,r,n,i){var o=r.getGeometryFunction()(t);if(!o)return;var a=o.simplifyTransformed(n,i);if(r.getRenderer())h(e,a,r,t);else{(0,s[a.getType()])(e,a,r,t)}}(e,t,r,n,a),d}function h(e,t,r,o){if(t.getType()!=i.a.GEOMETRY_COLLECTION)e.getBuilder(r.getZIndex(),n.a.DEFAULT).drawCustom(t,o,r.getRenderer());else for(var a=t.getGeometries(),s=0,d=a.length;s<d;++s)h(e,a[s],r,o)}},96:function(e,t,r){"use strict";r.d(t,"c",(function(){return i})),r.d(t,"d",(function(){return o})),r.d(t,"a",(function(){return a})),r.d(t,"b",(function(){return s}));var n=r(17);function i(e){return void 0!==e?0:void 0}function o(e){return void 0!==e?e:void 0}function a(e){var t=2*Math.PI/e;return function(e,r){return r?e:void 0!==e?e=Math.floor(e/t+.5)*t:void 0}}function s(e){var t=e||Object(n.h)(5);return function(e,r){return r?e:void 0!==e?Math.abs(e)<=t?0:e:void 0}}}}]);