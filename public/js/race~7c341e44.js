(self.webpackChunkdovotori_portfolio=self.webpackChunkdovotori_portfolio||[]).push([[6999,8983],{36188:(t,e,i)=>{"use strict";i(87757),i(48926);var s=i(34575),n=i.n(s),r=i(93913),h=i.n(r),a=i(59713),o=i.n(a);function u(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,s)}return i}function l(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?u(Object(i),!0).forEach((function(e){o()(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):u(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}for(var c=function(){function t(e){var i=this;n()(this,t),o()(this,"addFaceIndex",(function(t){var e=t.split("/");e[0]&&""!==e[0]&&i.obj.v.indices.push(parseInt(e[0],10)-1),e[1]&&""!==e[1]&&i.obj.vt.indices.push(parseInt(e[1],10)-1),e[2]&&""!==e[2]&&i.obj.vn.indices.push(parseInt(e[2],10)-1)})),this.obj={v:{indices:[],points:[]},vt:{indices:[],points:[]},vn:{indices:[],points:[]}},this.mat={},this.faceCount=0,this.readLines(e)}return h()(t,[{key:"readLines",value:function(t){var e=this;t.split("\n").forEach((function(t){var i=t.split(" "),s=i[0];switch(s){case"f":e.addFace(i.slice(1));break;case"v":case"vn":case"vt":e.addPoints(s,i.slice(1));break;case"usemtl":e.addNewMaterial(i.slice(1)[0])}}))}},{key:"addFace",value:function(t){t.forEach(this.addFaceIndex),this.faceCount+=1}},{key:"addPoints",value:function(t,e){var i=this;("vt"===t&&3===e.length?e.slice(0,2):e).forEach((function(e){return i.obj[t].points.push(parseFloat(e,10))}))}},{key:"addNewMaterial",value:function(t){this.mat[3*this.faceCount]=t}},{key:"get",value:function(){return l(l({},this.obj),{},{mat:this.mat})}}]),t}(),d=function(){function t(e){n()(this,t),this.materials={},this.current="",this.readLines(e)}return h()(t,[{key:"readLines",value:function(t){var e=this;t.split("\n").forEach((function(t){var i=t.split(" "),s=i[0];switch(s){case"newmtl":e.createMaterial(i.slice(1));break;case"Ns":case"Ka":case"Kd":case"Ks":case"Ke":case"Ni":case"d":case"illum":e.addInfoToMaterial(s,i.slice(1))}}))}},{key:"createMaterial",value:function(t){this.current=t,this.materials[this.current]={}}},{key:"addInfoToMaterial",value:function(t,e){var i="";switch(t){case"Ka":i="ambiant";break;case"Kd":i="diffuse";break;case"Ks":i="specular";break;case"Ke":i="emissive";break;case"Ns":i="specDensity";break;case"d":i="opacity"}""!==i&&(this.materials[this.current][i]=e.map((function(t){return parseFloat(t,10)})))}},{key:"get",value:function(){return this.materials}}]),t}(),f=i(319),g=i.n(f),v=i(6479),y=i.n(v),p="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",m=new Uint8Array(256),T=0;T<p.length;T++)m[p.charCodeAt(T)]=T;var k=function(t,e,i,s,n){for(var r=new Float32Array(e),h=n||Float32Array.BYTES_PER_ELEMENT*s,a=0,o=0,u=0;u<i;u++){for(var l=0;l<s;l++){var c=a+l*Float32Array.BYTES_PER_ELEMENT;r[o]=t.getFloat32(c,!0),o++}a+=h}return r},E=function(t,e,i,s,n){for(var r=new Uint16Array(e),h=n||Uint16Array.BYTES_PER_ELEMENT*s,a=0,o=0,u=0;u<i;u++){for(var l=0;l<s;l++){var c=a+l*Uint16Array.BYTES_PER_ELEMENT;r[o]=t.getUint16(c,!0),o++}a+=h}return r},x=i(8983);function b(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,s)}return i}function P(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?b(Object(i),!0).forEach((function(e){o()(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):b(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}var w="SCALAR",R="VEC2",M="VEC3",A="VEC4",D="MAT2",_="MAT3",F="MAT4",z=function(t){switch(t){default:case w:return 1;case R:return 2;case M:return 3;case A:case D:return 4;case _:return 9;case F:return 16}},O=function(t,e,i){var s=i.bufferView,n=i.componentType,r=i.count,h=i.type,a=i.byteOffset,o=void 0===a?0:a,u=e[s],l=u.buffer,c=u.byteLength,d=u.byteOffset,f=void 0===d?0:d,g=u.byteStride,v=new DataView(t[l],f+o,c-o),y=z(h),p=function(t,e){return z(t)*e}(h,r),m=function(t){switch(t){case 5123:return E;case 5126:return k;case 5120:case 5121:case 5122:case 5125:default:return null}}(n);return m?m(v,p,r,y,g):null},j=function(t,e){var i=e.buffer,s=e.byteOffset,n=e.byteLength;return function(t,e){for(var i=new Uint8Array(e),s=0;s<e;s++)i[s]=t.getUint8(s,!0);return i}(new DataView(t[i],s,n),n)},I=function(t){switch(t){case"normal":return"normale";case"texcoord_0":return"texture";case"baseColorFactor":return"color";case"metallicFactor":return"metal";case"roughnessFactor":return"rough";case"joints_0":return"joint";case"weights_0":return"weight";default:return t}},S=["position","normale","texture","joint","weight","tangent"],U=function(t,e){var i,s={};if(t&&(s=P(P({},(i=t.pbrMetallicRoughness,Object.keys(i).reduce((function(t,e){var s=I(e);return P(P({},t),{},o()({},s,i[e]))}),[]))),{},{name:t.name}),t.normalTexture)){var n=e[t.normalTexture.index];s.normalMap=n||void 0}return Object.keys(s).length>0?s:void 0},C=function(t,e){return t.map((function(t){var i=t.attributes,s=t.indices,n=t.material,r=t.targets,h={vbos:function(t,e,i,s){var n=e[i],r={indices:P(P({},n),{},{size:z(n.type)})},h=s&&s.map((function(t){return Object.keys(t).reduce((function(i,s){var n=e[t[s]];return P(P({},i),{},o()({},s,P(P({},n),{},{size:z(n.type)})))}),{})}));return h&&(h=h.reduce((function(t,e,i){var s=Object.keys(e).reduce((function(t,s){var n=I(s.toLowerCase());return P(P({},t),{},o()({},"target".concat(n).concat(i),e[s]))}),{});return P(P({},t),s)}),{}),r=P(P({},h),r)),Object.keys(t).reduce((function(i,s){var n=I(s.toLowerCase());if(-1===S.indexOf(n))return i;var r=t[s],h=e[r];return P(P({},i),{},o()({},n,P(P({},h),{},{size:z(h.type)})))}),r)}(i,e,s,r)};return void 0!==n&&(h=P({material:n},h)),h}))},X=function t(e,i){return e.map((function(e){var s=i.findIndex((function(t){return t.id===e})),n=i.splice(s,1)[0];n.children&&(n.children=t(n.children,i));n.id;return y()(n,["id"])}))},N=function t(e,i){var s=e.children;if(s){var n=s.map((function(e){return t(i[e],i)}));return P(P({},e),{},{children:n})}return e},Z=function(t){var e={};return t.forEach((function(t){var i=t.children;return i&&i.forEach((function(t){e[t]=!0}))})),t.map((function(e){return N(e,t)})).filter((function(t,i){return void 0===e[i]}))},L=function t(e){return e.reduce((function(e,i){var s=i.name,n=i.children;return e[s]=i,n&&t(n),e}),{})},B=function(){function t(e){n()(this,t);var i=JSON.parse(e),s=i.animations,r=i.buffers,h=i.bufferViews,a=i.accessors,o=i.skins,u=i.nodes,l=i.meshes,c=i.materials,d=i.images,f=r&&r.map((function(t){return function(t){var e,i,s,n,r,h=t.split(",")[1],a=.75*h.length,o=h.length,u=0;"="===h[h.length-1]&&(a--,"="===h[h.length-2]&&a--);var l=new ArrayBuffer(a),c=new Uint8Array(l);for(e=0;e<o;e+=4)i=m[h.charCodeAt(e)],s=m[h.charCodeAt(e+1)],n=m[h.charCodeAt(e+2)],r=m[h.charCodeAt(e+3)],c[u++]=i<<2|s>>4,c[u++]=(15&s)<<4|n>>2,c[u++]=(3&n)<<6|63&r;return l}(t.uri)})),v=a&&a.map((function(t){return P(P({},t),{},{values:O(f,h,t)})})),p=function(t,e,i,s){var n={};return t&&t.forEach((function(t){var r=t.channels,h=t.samplers;r.forEach((function(t){var r=t.target,a=t.sampler,o=h[a],u=o.input,l=o.output,c=o.interpolation,d=i[u],f=i[l],v=r.node,y=r.path,p=e[v],m=z(f.type);p[y]?m=p[y].length:p.mesh&&s[p.mesh][y]?m=s[p.mesh][y].length:"scale"===y&&(m=3);var T=(0,x.chunkArray)(f.values,m),k={path:y,times:d.values,output:T,interpolation:c};n[v]=n[v]?[].concat(g()(n[v]),[k]):[k]}))})),n}(s,u,v,l);Object.keys(p).forEach((function(t){u[t].animations=p[t]}));var T=function(t,e,i){var s=null;if(t){var n=e.map((function(t,e){return P(P({},t),{},{id:e})}));s=t.map((function(t){var e=t.inverseBindMatrices,s=t.joints,r=[];if(e){var h=i[e].values;r=(0,x.chunkArray)(h,16)}if(s){for(var a=s.map((function(t,e){return P(P({},n[t]),{},{invMatrix:r[e]})})).slice(),o=[];0!==a.length;){var u=a.shift();u.children&&(u.children=X(u.children,a)),u.id;var l=y()(u,["id"]);o.push(l)}return{joints:o}}return null})).filter((function(t){return t}))}return s}(o,u,v),k=l.map((function(t){var e=t.primitives,i=t.weights,s={primitives:C(e,v)};return i&&(s=P({weights:i},s)),s})),E=function(t,e,i,s){return t?t.map((function(t){var e=t.bufferView,n=t.mimeType,r=t.name,h=s[e];return{mimeType:n,name:r,data:j(i,h)}})):null}(d,0,f,h),b=c&&c.map((function(t){return U(t,E)})),w=Z(u);w=L(w),this.data={},k&&(this.data.meshes=k),w&&(this.data.nodes=w),T&&(this.data.skins=T),b&&(this.data.materials=b)}return h()(t,[{key:"get",value:function(){return this.data}}]),t}(),G=function(){function t(){n()(this,t),this.assets={textures:{},objets:{},materials:{},levels:{},gltfs:{},sounds:{}}}return h()(t,[{key:"get",value:function(e){var i=this,s=e.map((function(e){var i=t.getInfo(e);switch(i.ext){case"jpg":case"jpeg":case"png":case"bmp":return t.loadImage(e,i);case"obj":return t.load3dObj(e,i);case"gltf":return t.load3dGltf(e,i);case"mtl":return t.loadMaterial(e,i);case"mp3":return t.loadSound(e,i);default:return null}}));return Promise.all(s).then((function(t){return t.forEach((function(t){switch(t.info.ext){case"jpg":case"jpeg":case"png":i.assets.textures[t.info.name]=t.data;break;case"bmp":i.assets.levels[t.info.name]=t.data;break;case"obj":i.assets.objets[t.info.name]=t.data;break;case"gltf":i.assets.gltfs[t.info.name]=t.data;break;case"mtl":i.assets.materials[t.info.name]=t.data;break;case"mp3":i.assets.sounds[t.info.name]=t.data}})),i.assets}))}}],[{key:"getInfo",value:function(t){var e=t.substring(t.lastIndexOf("/")+1,t.length).split(".");return{name:e[0],ext:e[1].toLowerCase()}}},{key:"loadMaterial",value:function(t,e){return fetch(t).then((function(t){return t.text()})).then((function(t){return{data:new d(t).get(),info:e}}))}},{key:"loadImage",value:function(t,e){return new Promise((function(i,s){var n=new Image;n.onload=function(){return i({data:n,info:e})},n.onerror=s,n.src=t}))}},{key:"loadSound",value:function(t,e){return fetch(t).then((function(t){return t.arrayBuffer()})).then((function(t){return{data:t,info:e}}))}}]),t}();o()(G,"load3dObj",(function(t,e){return fetch(t).then((function(t){return t.text()})).then((function(t){return{data:new c(t).get(),info:e}}))})),o()(G,"load3dGltf",(function(t,e){return fetch(t).then((function(t){return t.text()})).then((function(t){return{data:new B(t).get(),info:e}}))}))},7071:(t,e,i)=>{"use strict";i(34575),i(93913)},79475:(t,e,i)=>{"use strict";i.d(e,{Z:()=>o});var s=i(34575),n=i.n(s),r=i(93913),h=i.n(r),a=i(25773);const o=function(){function t(){n()(this,t),this.d=new Array(9),this.sauvegardePrecedente=[],this.empilement=0,this.init()}return h()(t,[{key:"init",value:function(){for(var t=0;t<9;t+=1)this.d[t]=0;return this.sauvegardePrecedente=[],this.empilement=0,this}},{key:"get",value:function(){return this.d}},{key:"set",value:function(t,e,i,s,n,r,h,a,o){return this.d[0]=t,this.d[1]=e,this.d[2]=i,this.d[3]=s,this.d[4]=n,this.d[5]=r,this.d[6]=h,this.d[7]=a,this.d[8]=o,this}},{key:"setFromArray",value:function(t){return this.set(t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7],t[8])}},{key:"setOneValue",value:function(t){for(var e=0;e<9;e+=1)this.d[e]=t[e]}},{key:"multiply",value:function(e){for(var i=new t,s=0;s<3;s+=1)for(var n=0;n<3;n+=1)for(var r=0;r<3;r+=1)i.d[3*n+s]+=this.d[3*n+r]*e.d[3*r+s];for(var h=0;h<9;h+=1)this.d[h]=i.d[h];return this}},{key:"equal",value:function(t){for(var e=0;e<9;e+=1)this.d[e]=t.d[e],this.sauvegardePrecedente[e]=t.sauvegardePrecedente[e];return this}},{key:"push",value:function(){this.empilement+=1;for(var t=0,e=9*(this.empilement-1);e<9*this.empilement;e+=1)this.sauvegardePrecedente[e]=this.d[t],t+=1;return this}},{key:"pop",value:function(){if(this.empilement>0){for(var t=0,e=9*(this.empilement-1);e<9*this.empilement;e+=1)this.d[t]=this.sauvegardePrecedente[e],this.sauvegardePrecedente[e]=null,t+=1;this.empilement-=1}return this}},{key:"identity",value:function(){return this.init(),this.d[0]=1,this.d[4]=1,this.d[8]=1,this}},{key:"transpose",value:function(){return this.setFromArray(t.transpose(this.d))}},{key:"inverse",value:function(){var t=new Array(9),e=this.getDeterminant();if(0===e)return this.identity(),null;t[0]=this.d[4]*this.d[8]-this.d[5]*this.d[7]/e,t[1]=-(this.d[1]*this.d[8]-this.d[7]*this.d[2])/e,t[2]=this.d[1]*this.d[5]-this.d[4]*this.d[2]/e,t[3]=-(this.d[3]*this.d[8]-this.d[5]*this.d[6])/e,t[4]=this.d[0]*this.d[8]-this.d[6]*this.d[2]/e,t[5]=-(this.d[0]*this.d[5]-this.d[3]*this.d[2])/e,t[6]=this.d[3]*this.d[7]-this.d[6]*this.d[4]/e,t[7]=-(this.d[0]*this.d[7]-this.d[6]*this.d[1])/e,t[8]=this.d[0]*this.d[4]-this.d[1]*this.d[3]/e;for(var i=0;i<9;i+=1)this.d[i]=t[i];return this}},{key:"getDeterminant",value:function(){return this.d[0]*(this.d[4]*this.d[8]-this.d[7]*this.d[5])+this.d[1]*(this.d[5]*this.d[6]-this.d[3]*this.d[8])+this.d[2]*(this.d[3]*this.d[7]-this.d[6]*this.d[4])}},{key:"rotate",value:function(e,i,s,n){var r=new t,h=e*(Math.PI/180),o=new a.Z(i,s,n);return o.normalise(),r.d[0]=o.x*o.x*(1-Math.cos(h))+Math.cos(h),r.d[1]=o.x*o.y*(1-Math.cos(h))-o.z*Math.sin(h),r.d[2]=o.x*o.z*(1-Math.cos(h))+o.y*Math.sin(h),r.d[3]=o.x*o.y*(1-Math.cos(h))+o.z*Math.sin(h),r.d[4]=o.y*o.y*(1-Math.cos(h))+Math.cos(h),r.d[5]=o.y*o.z*(1-Math.cos(h))-o.x*Math.sin(h),r.d[6]=o.x*o.z*(1-Math.cos(h))-o.y*Math.sin(h),r.d[7]=o.y*o.z*(1-Math.cos(h))+o.x*Math.sin(h),r.d[8]=o.z*o.z*(1-Math.cos(h))+Math.cos(h),this.multiply(r),this}}],[{key:"transpose",value:function(t){for(var e=new Float32Array(9),i=0,s=0;s<3;s+=1)for(var n=0;n<3;n+=1)e[i]=t[3*n+s],i+=1;return e}}]),t}()},21969:(t,e,i)=>{"use strict";i.d(e,{Z:()=>l});var s=i(34575),n=i.n(s),r=i(93913),h=i.n(r),a=i(39966),o=i(25773),u=i(79475);const l=function(){function t(){n()(this,t),this.d=new Array(16),this.sauvegardePrecedente=[],this.empilement=0,this.init()}return h()(t,[{key:"init",value:function(){return this.reset(),this.sauvegardePrecedente=[],this.empilement=0,this}},{key:"reset",value:function(){for(var t=0;t<16;t+=1)this.d[t]=0;return this}},{key:"get",value:function(){return this.d}},{key:"setRaw",value:function(t){this.d=t}},{key:"set",value:function(t,e,i,s,n,r,h,a,o,u,l,c,d,f,g,v){return this.d[0]=t,this.d[1]=e,this.d[2]=i,this.d[3]=s,this.d[4]=n,this.d[5]=r,this.d[6]=h,this.d[7]=a,this.d[8]=o,this.d[9]=u,this.d[10]=l,this.d[11]=c,this.d[12]=d,this.d[13]=f,this.d[14]=g,this.d[15]=v,this}},{key:"setFromArray",value:function(t){return this.set(t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7],t[8],t[9],t[10],t[11],t[12],t[13],t[14],t[15])}},{key:"getMatrice3x3",value:function(){var t=new u.Z;return t.set(this.d[0],this.d[1],this.d[2],this.d[4],this.d[5],this.d[6],this.d[8],this.d[9],this.d[10]),t}},{key:"multiplyArray",value:function(e){var i=new t;return i.setFromArray(e),this.multiply(i)}},{key:"multiply",value:function(e){for(var i=new t,s=0;s<4;s+=1)for(var n=0;n<4;n+=1)for(var r=0;r<4;r+=1)i.d[4*n+s]+=this.d[4*n+r]*e.d[4*r+s];return this.d=i.d,this}},{key:"equal",value:function(t){for(var e=0;e<16;e+=1)this.d[e]=t.d[e],this.sauvegardePrecedente[e]=t.sauvegardePrecedente[e];return this}},{key:"push",value:function(){this.empilement+=1;for(var t=0,e=16*(this.empilement-1);e<16*this.empilement;e+=1)this.sauvegardePrecedente[e]=this.d[t],t+=1;return this}},{key:"pop",value:function(){if(this.empilement>0){for(var t=0,e=16*(this.empilement-1);e<16*this.empilement;e+=1)this.d[t]=this.sauvegardePrecedente[e],this.sauvegardePrecedente[e]=null,t+=1;this.empilement-=1}return this}},{key:"translate",value:function(e,i,s){var n=new t;return n.identity(),n.d[12]=e,n.d[13]=i,n.d[14]=s,this.multiply(n),this}},{key:"scale",value:function(e,i,s){var n=new t;return n.d[0]=e,n.d[5]=void 0===i?e:i,n.d[10]=void 0===s?e:s,n.d[15]=1,this.multiply(n),this}},{key:"resetScale",value:function(){return this.d[0]=1,this.d[5]=1,this.d[10]=1,this}},{key:"resetTranslate",value:function(){return this.d[12]=0,this.d[13]=0,this.d[14]=0,this}},{key:"rotate",value:function(e,i,s,n){var r=new t,h=e*(Math.PI/180),a=new o.Z(i,s,n);return a.normalise(),r.d[0]=a.d[0]*a.d[0]*(1-Math.cos(h))+Math.cos(h),r.d[1]=a.d[0]*a.d[1]*(1-Math.cos(h))-a.d[2]*Math.sin(h),r.d[2]=a.d[0]*a.d[2]*(1-Math.cos(h))+a.d[1]*Math.sin(h),r.d[4]=a.d[0]*a.d[1]*(1-Math.cos(h))+a.d[2]*Math.sin(h),r.d[5]=a.d[1]*a.d[1]*(1-Math.cos(h))+Math.cos(h),r.d[6]=a.d[1]*a.d[2]*(1-Math.cos(h))-a.d[0]*Math.sin(h),r.d[8]=a.d[0]*a.d[2]*(1-Math.cos(h))-a.d[1]*Math.sin(h),r.d[9]=a.d[1]*a.d[2]*(1-Math.cos(h))+a.d[0]*Math.sin(h),r.d[10]=a.d[2]*a.d[2]*(1-Math.cos(h))+Math.cos(h),r.d[15]=1,this.multiply(r),this}},{key:"identity",value:function(){return this.init(),this.d[0]=1,this.d[5]=1,this.d[10]=1,this.d[15]=1,this}},{key:"perspective",value:function(t,e,i,s){var n=t*(Math.PI/180),r=1/Math.tan(n/2),h=1/(i-s);return this.set(r/e,0,0,0,0,r,0,0,0,0,(i+s)*h,-1,0,0,i*s*h*2,0),this}},{key:"ortho",value:function(t,e,i,s,n,r){return this.set(2/(e-t),0,0,0,0,2/(s-i),0,0,0,0,-2/(r-n),0,-(e+t)/(e-t),-(s+i)/(s-i),-(r+n)/(r-n),1),this}},{key:"lookAt",value:function(t,e,i,s,n,r,h,o,u){var l,c,d,f,g,v,y,p,m,T,k=t,E=e,x=i,b=h,P=o,w=u,R=s,M=n,A=r;return Math.abs(k-R)<a.I&&Math.abs(E-M)<a.I&&Math.abs(x-A)<a.I?(this.identity(),this):(y=k-R,p=E-M,m=x-A,l=P*(m*=T=1/Math.sqrt(y*y+p*p+m*m))-w*(p*=T),c=w*(y*=T)-b*m,d=b*p-P*y,(T=Math.sqrt(l*l+c*c+d*d))?(l*=T=1/T,c*=T,d*=T):(l=0,c=0,d=0),f=p*d-m*c,g=m*l-y*d,v=y*c-p*l,(T=Math.sqrt(f*f+g*g+v*v))?(f*=T=1/T,g*=T,v*=T):(f=0,g=0,v=0),this.set(l,f,y,0,c,g,p,0,d,v,m,0,-(l*k+c*E+d*x),-(f*k+g*E+v*x),-(y*k+p*E+m*x),1),this)}},{key:"transpose",value:function(){return this.setFromArray(t.transpose(this.d))}},{key:"inverse",value:function(){var e=t.getCofacteur(this.d[5],this.d[6],this.d[7],this.d[9],this.d[10],this.d[11],this.d[13],this.d[14],this.d[15]),i=t.getCofacteur(this.d[4],this.d[6],this.d[7],this.d[8],this.d[10],this.d[11],this.d[12],this.d[14],this.d[15]),s=t.getCofacteur(this.d[4],this.d[5],this.d[7],this.d[8],this.d[9],this.d[11],this.d[12],this.d[13],this.d[15]),n=t.getCofacteur(this.d[4],this.d[5],this.d[6],this.d[8],this.d[9],this.d[10],this.d[12],this.d[13],this.d[14]),r=this.d[0]*e-this.d[1]*i+this.d[2]*s-this.d[3]*n,h=t.getCofacteur(this.d[1],this.d[2],this.d[3],this.d[9],this.d[10],this.d[11],this.d[13],this.d[14],this.d[15]),a=t.getCofacteur(this.d[0],this.d[2],this.d[3],this.d[8],this.d[10],this.d[11],this.d[12],this.d[14],this.d[15]),o=t.getCofacteur(this.d[0],this.d[1],this.d[3],this.d[8],this.d[9],this.d[11],this.d[12],this.d[13],this.d[15]),u=t.getCofacteur(this.d[0],this.d[1],this.d[2],this.d[8],this.d[9],this.d[10],this.d[12],this.d[13],this.d[14]),l=t.getCofacteur(this.d[1],this.d[2],this.d[3],this.d[5],this.d[6],this.d[7],this.d[13],this.d[14],this.d[15]),c=t.getCofacteur(this.d[0],this.d[2],this.d[3],this.d[4],this.d[6],this.d[7],this.d[12],this.d[14],this.d[15]),d=t.getCofacteur(this.d[0],this.d[1],this.d[3],this.d[4],this.d[5],this.d[7],this.d[12],this.d[13],this.d[15]),f=t.getCofacteur(this.d[0],this.d[1],this.d[2],this.d[4],this.d[5],this.d[6],this.d[12],this.d[13],this.d[14]),g=t.getCofacteur(this.d[1],this.d[2],this.d[3],this.d[5],this.d[6],this.d[7],this.d[9],this.d[10],this.d[11]),v=t.getCofacteur(this.d[0],this.d[2],this.d[3],this.d[4],this.d[6],this.d[7],this.d[8],this.d[10],this.d[11]),y=t.getCofacteur(this.d[0],this.d[1],this.d[3],this.d[4],this.d[5],this.d[7],this.d[8],this.d[9],this.d[11]),p=t.getCofacteur(this.d[0],this.d[1],this.d[2],this.d[4],this.d[5],this.d[6],this.d[8],this.d[9],this.d[10]),m=1/r;return this.d[0]=m*e,this.d[1]=-m*h,this.d[2]=m*l,this.d[3]=-m*g,this.d[4]=-m*i,this.d[5]=m*a,this.d[6]=-m*c,this.d[7]=m*v,this.d[8]=m*s,this.d[9]=-m*o,this.d[10]=m*d,this.d[11]=-m*y,this.d[12]=-m*n,this.d[13]=m*u,this.d[14]=-m*f,this.d[15]=m*p,this}},{key:"getDeterminant",value:function(){return this.d[0]*t.getCofacteur(this.d[5],this.d[6],this.d[7],this.d[9],this.d[10],this.d[11],this.d[13],this.d[14],this.d[15])-this.d[1]*t.getCofacteur(this.d[4],this.d[6],this.d[7],this.d[8],this.d[10],this.d[11],this.d[12],this.d[14],this.d[15])+this.d[2]*t.getCofacteur(this.d[4],this.d[5],this.d[7],this.d[8],this.d[9],this.d[11],this.d[12],this.d[13],this.d[15])-this.d[3]*t.getCofacteur(this.d[4],this.d[5],this.d[6],this.d[8],this.d[9],this.d[10],this.d[12],this.d[13],this.d[14])}}],[{key:"transpose",value:function(t){for(var e=new Float32Array(16),i=0,s=0;s<4;s+=1)for(var n=0;n<4;n+=1)e[i]=t[4*n+s],i+=1;return e}},{key:"getCofacteur",value:function(t,e,i,s,n,r,h,a,o){return t*(n*o-r*a)-e*(s*o-r*h)+i*(s*a-n*h)}}]),t}()},17968:(t,e,i)=>{"use strict";i.d(e,{Z:()=>d});var s=i(63038),n=i.n(s),r=i(34575),h=i.n(r),a=i(93913),o=i.n(a),u=i(25773),l=i(21969),c=i(39966);const d=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;h()(this,t),this.x=e,this.y=i,this.z=s,this.w=n}return o()(t,[{key:"set",value:function(t){return this.x=t.x,this.y=t.y,this.z=t.z,this.w=t.w,this}},{key:"setFromAxeAndAngle",value:function(t,e){var i=n()(t,3),s=i[0],r=i[1],h=i[2];return this.x=s,this.y=r,this.z=h,this.w=e,this}},{key:"add",value:function(t){return this.x+=t.x,this.y+=t.y,this.z+=t.z,this.w+=t.w,this}},{key:"approx",value:function(t,e){return Math.abs(this.x-t.x)<=e&&Math.abs(this.y-t.y)<=e&&Math.abs(this.z-t.z)<=e&&Math.abs(this.w-t.w)<=e}},{key:"dot",value:function(t){return this.x*t.x+this.y*t.y+this.z*t.z+this.w*t.w}},{key:"multiplyScalar",value:function(t){return this.x*=t,this.y*=t,this.z*=t,this.w*=t,this}},{key:"multiplyArray",value:function(t){var e=this.x,i=this.y,s=this.z,n=this.w,r=t[0],h=t[1],a=t[2],o=t[3];return this.x=e*o+n*r+i*a-s*h,this.y=i*o+n*h+s*r-e*a,this.z=s*o+n*a+e*h-i*r,this.w=n*o-e*r-i*h-s*a,this}},{key:"multiply",value:function(t){var e=this.x,i=this.y,s=this.z,n=this.w,r=t.x,h=t.y,a=t.z,o=t.w;return this.x=e*o+n*r+i*a-s*h,this.y=i*o+n*h+s*r-e*a,this.z=s*o+n*a+e*h-i*r,this.w=n*o-e*r-i*h-s*a,this}},{key:"multiplyVector",value:function(t){var e=this.w*t.x+this.y*t.z-this.z*t.y,i=this.w*t.y+this.z*t.x-this.x*t.z,s=this.w*t.z+this.x*t.y-this.y*t.x,n=-this.x*t.x-this.y*t.y-this.z*t.z,r=e*this.w+n*-this.x+i*-this.z-s*-this.y,h=i*this.w+n*-this.y+s*-this.x-e*-this.z,a=s*this.w+n*-this.z+e*-this.y-i*-this.x;return new u.Z(r,h,a)}},{key:"normalize",value:function(){var t=this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w;return 0!==t&&1!==t&&(t=1/Math.sqrt(t),this.x*=t,this.y*=t,this.z*=t,this.w*=t),this}},{key:"rotateX",value:function(t){var e=.5*t,i=this.x,s=this.y,n=this.z,r=this.w,h=Math.sin(e),a=Math.cos(e);return this.x=i*a+r*h,this.y=s*a+n*h,this.z=n*a-s*h,this.w=r*a-i*h,this}},{key:"rotateY",value:function(t){var e=.5*t,i=this.x,s=this.y,n=this.z,r=this.w,h=Math.sin(e),a=Math.cos(e);return this.x=i*a-n*h,this.y=s*a+r*h,this.z=n*a+i*h,this.w=r*a-s*h,this}},{key:"rotateZ",value:function(t){var e=.5*t,i=this.x,s=this.y,n=this.z,r=this.w,h=Math.sin(e),a=Math.cos(e);return this.x=i*a+s*h,this.y=s*a-i*h,this.z=n*a+r*h,this.w=r*a-n*h,this}},{key:"scale",value:function(t){var e=this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w;return 0===e?this:1===e?(this.x*=t,this.y*=t,this.z*=t,this.w*=t,this):(e=t/Math.sqrt(e),this.x*=e,this.y*=e,this.z*=e,this.w*=e,this)}},{key:"sub",value:function(t){return this.x-=t.x,this.y-=t.y,this.z-=t.z,this.w-=t.w,this}},{key:"slerp",value:function(t,e,i){var s,n,r,h,a,o=t.x,u=t.y,l=t.z,d=t.w,f=e.x,g=e.y,v=e.z,y=e.w;return(n=o*f+u*g+l*v+d*y)<0&&(n=-n,f=-f,g=-g,v=-v,y=-y),1-n>c.I?(s=Math.acos(n),r=Math.sin(s),h=Math.sin((1-i)*s)/r,a=Math.sin(i*s)/r):(h=1-i,a=i),this.x=h*o+a*f,this.y=h*u+a*g,this.z=h*l+a*v,this.w=h*d+a*y,this}},{key:"toMatrix4",value:function(){var t=this.w*this.w,e=this.x*this.x,i=this.y*this.y,s=this.z*this.z,n=1/(e+i+s+t),r=(e-i-s+t)*n,h=(-e+i-s+t)*n,a=(-e-i+s+t)*n,o=this.x*this.y,u=this.z*this.w,c=2*(o+u)*n,d=2*(o-u)*n,f=2*((o=this.x*this.z)-(u=this.y*this.w))*n,g=2*(o+u)*n,v=2*((o=this.y*this.z)+(u=this.x*this.w))*n,y=2*(o-u)*n;return(new l.Z).set(r,c,f,0,d,h,v,0,g,y,a,0,0,0,0,1)}},{key:"setFromMat3",value:function(t){var e=t.get(),i=e[0],s=e[1],n=e[2],r=e[3],h=e[4],a=e[5],o=e[6],u=e[7],l=e[8];return this.w=.5*Math.sqrt(Math.max(0,1+i+h+l)),this.x=.5*Math.sqrt(Math.max(0,1+i-h-l)),this.y=.5*Math.sqrt(Math.max(0,1-i+h-l)),this.z=.5*Math.sqrt(Math.max(0,1-i-h+l)),this.x*=Math.sign(a-u),this.y*=Math.sign(o-n),this.z*=Math.sign(s-r),this}},{key:"get",value:function(){return[this.x,this.y,this.z,this.w]}},{key:"getX",value:function(){return this.x}},{key:"getY",value:function(){return this.y}},{key:"getZ",value:function(){return this.z}},{key:"getW",value:function(){return this.w}}],[{key:"slerpArray",value:function(e,i,s){var n=new t(e[0],e[1],e[2],e[3]),r=new t(i[0],i[1],i[2],i[3]);return new t(0,0,0,1).slerp(n,r,s)}}]),t}()},29686:(t,e,i)=>{"use strict";i.d(e,{Z:()=>u});var s=i(34575),n=i.n(s),r=i(93913),h=i.n(r),a=i(59713),o=i.n(a),u=function(){function t(e){var i=this,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"LINEAR",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3;n()(this,t),o()(this,"findIndex",(function(t){var e=0,s=i.timeSteps[e];for(0===s&&(e++,s=i.timeSteps[e]);s&&t>s;)e++,s=i.timeSteps[e];i.index=e})),o()(this,"setTimes",(function(t){i.timeSteps=i.times.map((function(e){return e*t})),i.index=0,i.interpolationValue=0})),this.times=e,this.setTimes(r),this.interpolationType=s}return h()(t,[{key:"update",value:function(t){if(this.findIndex(t),0===this.index)this.interpolationValue=0;else if(this.index===this.times.length)this.interpolationValue=this.timeSteps[this.times.length-1];else{var e=this.timeSteps[this.index],i=this.timeSteps[this.index-1];this.interpolationValue=(t-i)/(e-i)}}},{key:"setSpeed",value:function(t){this.setTimes(t)}},{key:"getIndex",value:function(){return this.index}},{key:"get",value:function(){return this.interpolationValue}}]),t}()},47313:(t,e,i)=>{"use strict";i.d(e,{Z:()=>a});var s=i(34575),n=i.n(s),r=i(93913),h=i.n(r),a=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.04;n()(this,t),this.value=e,this.target=e,this.sampling=i,this.threshold=1e-6}return h()(t,[{key:"update",value:function(){Math.abs(this.value-this.target)>this.threshold?this.value+=(this.target-this.value)*this.sampling:this.value=this.target}},{key:"get",value:function(){return this.value}},{key:"set",value:function(t){this.target=t}},{key:"setDirect",value:function(t){this.value=t}}]),t}()},25773:(t,e,i)=>{"use strict";i.d(e,{Z:()=>o});var s=i(34575),n=i.n(s),r=i(93913),h=i.n(r),a=i(68763);const o=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;n()(this,t),this.d=[0,0,0],this.set(e,i,s)}return h()(t,[{key:"normalise",value:function(){var t=this.length();return 0!==t&&(this.d[0]/=t,this.d[1]/=t,this.d[2]/=t),this}},{key:"get",value:function(){return this.d}},{key:"getX",value:function(){return this.d[0]}},{key:"getY",value:function(){return this.d[1]}},{key:"getZ",value:function(){return this.d[2]}},{key:"set",value:function(t,e,i){return null!==t&&(this.d[0]=t),null!==e?this.d[1]=e:null!==t&&(this.d[1]=t),null!==i?this.d[2]=i:null!==t&&(this.d[2]=t),this}},{key:"setX",value:function(t){this.d[0]=t}},{key:"setY",value:function(t){this.d[1]=t}},{key:"setZ",value:function(t){this.d[2]=t}},{key:"addXYZ",value:function(t,e,i){return this.d[0]+=t,this.d[1]+=e,this.d[2]+=i,this}},{key:"addX",value:function(t){return this.d[0]+=t,this}},{key:"addY",value:function(t){return this.d[1]+=t,this}},{key:"addZ",value:function(t){return this.d[2]+=t,this}},{key:"multiplyX",value:function(t){return this.d[0]*=t,this}},{key:"multiplyY",value:function(t){return this.d[1]*=t,this}},{key:"multiplyZ",value:function(t){return this.d[2]*=t,this}},{key:"limiter",value:function(t){var e=this.d[0]*this.d[0]+this.d[1]*this.d[1]+this.d[2]*this.d[2];if(e>t*t&&e>0){var i=t/Math.sqrt(e);this.d[0]*=i,this.d[1]*=i,this.d[2]*=i}return this}},{key:"cross",value:function(e){return new t(this.d[1]*e.d[2]-this.d[2]*e.d[1],this.d[2]*e.d[0]-this.d[0]*e.d[2],this.d[0]*e.d[1]-this.d[1]*e.d[0])}},{key:"dot",value:function(t){return this.d[0]*t.d[0]+this.d[1]*t.d[1]+this.d[2]*t.d[2]}},{key:"length",value:function(){return Math.sqrt(this.d[0]*this.d[0]+this.d[1]*this.d[1]+this.d[2]*this.d[2])}},{key:"directionVers",value:function(t){return this.d[0]=t.d[0]-this.d[0],this.d[1]=t.d[1]-this.d[1],this.d[2]=t.d[2]-this.d[2],this}},{key:"equal",value:function(t){return this.d=[t.d[0],t.d[1],t.d[2]],this}},{key:"add",value:function(t){return this.d[0]+=t.d[0],this.d[1]+=t.d[1],this.d[2]+=t.d[2],this}},{key:"addNumber",value:function(t){return this.d[0]+=t,this.d[1]+=t,this.d[2]+=t,this}},{key:"minus",value:function(t){return this.d[0]-=t.d[0],this.d[1]-=t.d[1],this.d[2]-=t.d[2],this}},{key:"minusNumber",value:function(t){return this.d[0]-=t,this.d[1]-=t,this.d[2]-=t,this}},{key:"multiplyNumber",value:function(t){return this.d[0]*=t,this.d[1]*=t,this.d[2]*=t,this}},{key:"multiplyMatrix",value:function(t){return this.set(t.d[0]*this.d[0]+t.d[1]*this.d[1]+t.d[2]*this.d[2],t.d[3]*this.d[0]+t.d[4]*this.d[1]+t.d[5]*this.d[2],t.d[6]*this.d[0]+t.d[7]*this.d[1]+t.d[8]*this.d[2]),this}},{key:"multiply",value:function(t){return this.d[0]*=t.d[0],this.d[1]*=t.d[1],this.d[2]*=t.d[2],this}},{key:"divideNumber",value:function(t){return this.d[0]/=t,this.d[1]/=t,this.d[2]/=t,this}},{key:"divide",value:function(t){return this.d[0]/=t.d[0],this.d[1]/=t.d[1],this.d[2]/=t.d[2],this}},{key:"fract",value:function(){return this.d[0]=(0,a.ZI)(this.d[0]),this.d[1]=(0,a.ZI)(this.d[1]),this.d[2]=(0,a.ZI)(this.d[2]),this}},{key:"distance",value:function(t){return Math.sqrt((t.d[0]-this.d[0])*(t.d[0]-this.d[0])+(t.d[1]-this.d[1])*(t.d[1]-this.d[1])+(t.d[2]-this.d[2])*(t.d[2]-this.d[2]))}},{key:"angleDegree",value:function(t){var e=this.dot(t)/(this.length()*t.length());return 180*Math.acos(e)/Math.PI*-(0,a.mK)(this.d[0]*t.d[1]+this.d[1]*t.d[0])}},{key:"computeNormal",value:function(e,i,s){var n=new t,r=new t,h=new t;return r.equal(e.minus(this)),h.equal(i.minus(this)),s?n.equal(h.cross(r)):n.equal(r.cross(h)),n.normalise(),n}}],[{key:"getBarycentre",value:function(t,e,i,s){var n=(e.d[2]-i.d[2])*(t.d[0]-i.d[0])+(i.d[0]-e.d[0])*(t.d[2]-i.d[2]),r=((e.d[2]-i.d[2])*(s[0]-i.d[0])+(i.d[0]-e.d[0])*(s[1]-i.d[2]))/n,h=((i.d[2]-t.d[2])*(s[0]-i.d[0])+(t.d[0]-i.d[0])*(s[1]-i.d[2]))/n,a=1-r-h;return r*t.d[1]+h*e.d[1]+a*i.d[1]}},{key:"lerp",value:function(e,i,s){var n=e.d[0],r=e.d[1],h=e.d[2];return new t(n+s*(i.d[0]-n),r+s*(i.d[1]-r),h+s*(i.d[2]-h))}}]),t}()},66605:(t,e,i)=>{"use strict";i.d(e,{Z:()=>a});var s=i(34575),n=i.n(s),r=i(93913),h=i.n(r);const a=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;n()(this,t),this.d=[0,0,0,0],this.set(e,i,s,r)}return h()(t,[{key:"normalise",value:function(){var t=this.length();return 0!==t&&(this.d[0]/=t,this.d[1]/=t,this.d[2]/=t,this.d[3]/=t),this}},{key:"get",value:function(){return this.d}},{key:"getX",value:function(){return this.d[0]}},{key:"getY",value:function(){return this.d[1]}},{key:"getZ",value:function(){return this.d[2]}},{key:"getW",value:function(){return this.d[3]}},{key:"length",value:function(){return Math.sqrt(this.d[0]*this.d[0]+this.d[1]*this.d[1]+this.d[2]*this.d[2]+this.d[3]*this.d[3])}},{key:"set",value:function(t,e,i,s){return null!=t&&(this.d[0]=t),null!=e?this.d[1]=e:null!=t&&(this.d[1]=t),null!=i?this.d[2]=i:null!=t&&(this.d[2]=t),null!=s?this.d[3]=s:null!=t&&(this.d[3]=t),this}},{key:"equal",value:function(t){return this.d=[t.d[0],t.d[1],t.d[2],t.d[3]],this}},{key:"add",value:function(t){return this.d[0]+=t.d[0],this.d[1]+=t.d[1],this.d[2]+=t.d[2],this.d[3]+=t.d[3],this}},{key:"addNumber",value:function(t){return this.d[0]+=t,this.d[1]+=t,this.d[2]+=t,this.d[3]+=t,this}},{key:"minus",value:function(t){return this.d[0]-=t.d[0],this.d[1]-=t.d[1],this.d[2]-=t.d[2],this.d[3]-=t.d[3],this}},{key:"minusNumber",value:function(t){return this.d[0]-=t,this.d[1]-=t,this.d[2]-=t,this.d[3]-=t,this}},{key:"multiplyNumber",value:function(t){return this.d[0]*=t,this.d[1]*=t,this.d[2]*=t,this.d[3]*=t,this}},{key:"multiplyMatrix",value:function(t){var e=this.d[0],i=this.d[1],s=this.d[2],n=this.d[3];return this.d[0]=t.d[0]*e+t.d[4]*i+t.d[8]*s+t.d[12]*n,this.d[1]=t.d[1]*e+t.d[5]*i+t.d[9]*s+t.d[13]*n,this.d[2]=t.d[2]*e+t.d[6]*i+t.d[10]*s+t.d[14]*n,this.d[3]=t.d[3]*e+t.d[7]*i+t.d[11]*s+t.d[15]*n,this}},{key:"multiply",value:function(t){return this.d[0]*=t.d[0],this.d[1]*=t.d[1],this.d[2]*=t.d[2],this.d[3]*=t.d[3],this}},{key:"divideNumber",value:function(t){return this.d[0]/=t,this.d[1]/=t,this.d[2]/=t,this.d[3]/=t,this}},{key:"divide",value:function(t){return this.d[0]/=t.d[0],this.d[1]/=t.d[1],this.d[2]/=t.d[2],this.d[3]/=t.d[3],this}},{key:"distance",value:function(t){return Math.sqrt((t.d[0]-this.d[0])*(t.d[0]-this.d[0])+(t.d[1]-this.d[1])*(t.d[1]-this.d[1])+(t.d[2]-this.d[2])*(t.d[2]-this.d[2])+(t.d[3]-this.d[3])*(t.d[3]-this.d[3]))}}]),t}()},548:(t,e,i)=>{"use strict";i.d(e,{Z:()=>l});var s=i(34575),n=i.n(s),r=i(93913),h=i.n(r),a=i(80602),o=i(21969);const u={position:[1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,1,1,-1,-1,1,-1,-1,1,1,-1,1,1,-1,1,-1,-1,-1,-1,-1,-1,1,-1,-1,-1,1,-1,-1,1,-1,1,-1,-1,1,1,-1,-1,-1,-1,-1,-1,1,-1,1,1,-1],indices:[0,1,2,0,2,3,4,5,6,4,6,7,8,9,10,8,10,11,12,13,14,12,14,15,16,17,18,16,18,19,20,21,22,20,22,23],texture:[1,1,0,1,0,0,1,0,0,0,1,0,1,1,0,1,0,0,0,1,1,1,1,0,0,0,0,1,1,1,1,0,0,0,1,0,1,1,0,1,0,0,1,0,1,1,0,1]};var l=function(){function t(e){n()(this,t),this.gl=e,this.objet=new a.Z(this.gl,u),this.model=new o.Z,this.model.identity()}return h()(t,[{key:"render",value:function(t){t.setMatrix("model",this.model.get()),this.objet.render(t.get())}},{key:"update",value:function(t,e){this.model.identity().scale(e.getX(),e.getY(),e.getZ()).translate(t.getX(),t.getY(),t.getZ())}},{key:"getModel",value:function(){return this.model}}]),t}()},94281:(t,e,i)=>{"use strict";i.d(e,{Eu:()=>n,H$:()=>r});var s=i(68763),n=function(t,e){for(var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=i.startX,r=void 0===n?-1:n,h=i.endX,a=void 0===h?1:h,o=i.startZ,u=void 0===o?-1:o,l=i.endZ,c=void 0===l?1:l,d=[],f=0;f<e;f++)for(var g=(0,s.Yp)(f,0,e-1,u,c),v=0;v<t;v++){var y=(0,s.Yp)(v,0,t-1,r,a);d.push(y),d.push(0),d.push(g)}return d},r=function(t,e){for(var i=[],s=0;s<e-1;s++)for(var n=0;n<t-1;n++){var r=s*t+n;i.push(r),i.push(t+r),i.push(r+1),i.push(t+r),i.push(t+r+1),i.push(r+1)}return i}},31073:(t,e,i)=>{"use strict";i.d(e,{Z:()=>s});const s={position:[-1,1,0,1,1,0,-1,-1,0,1,-1,0],indices:[0,1,2,1,3,2],texture:[0,0,1,0,0,1,1,1]}},20748:(t,e,i)=>{"use strict";i.d(e,{Z:()=>Q});var s=i(59713),n=i.n(s),r=i(34575),h=i.n(r),a=i(93913),o=i.n(a),u=function(){function t(e,i,s){h()(this,t),this.gl=e,this.texture=e.createTexture(),this.filter=s?e[s]:e.NEAREST,this.gl.bindTexture(this.gl.TEXTURE_2D,this.texture),this.gl.texImage2D(this.gl.TEXTURE_2D,0,this.gl.RGBA,this.gl.RGBA,this.gl.UNSIGNED_BYTE,i),this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_MAG_FILTER,this.filter),this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_MIN_FILTER,this.filter),this.gl.bindTexture(this.gl.TEXTURE_2D,null)}return o()(t,[{key:"get",value:function(){return this.texture}}]),t}(),l=function(){function t(e,i){var s=this,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};h()(this,t),this.textures={},Object.keys(i).forEach((function(t){s.textures[t]=new u(e,i[t],n[t])}))}return o()(t,[{key:"get",value:function(t){return this.textures[t]}}]),t}(),c=i(70751),d=function(){function t(e,i){var s=this,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;h()(this,t),this.objets={},Object.keys(i).forEach((function(t){s.objets[t]=new c.Z(e,i[t],n&&n[t])}))}return o()(t,[{key:"get",value:function(t){return this.objets[t]}}]),t}(),f=i(77211),g=function(){function t(e,i,s){var r=this;h()(this,t),n()(this,"getAll",(function(){return r.programs})),this.programs={},Object.keys(i).forEach((function(t){var n=i[t];r.programs[t]=new f.Z(e,n),-1!==n.uniforms.indexOf("resolution")&&r.programs[t].setVector("resolution",[s.width,s.height])}))}return o()(t,[{key:"setCameraMatrix",value:function(t){var e=this,i=arguments.length>1&&void 0!==arguments[1]&&arguments[1];Object.keys(this.programs).forEach((function(s){e.programs[s].setMatrix("view",t.getView().get());var n=i?t.getOrtho():t.getProjection();e.programs[s].setMatrix("projection",n.get())}))}},{key:"get",value:function(t){return this.programs[t]}}]),t}(),v=i(35918),y=i(14129),p=i(41517),m=function(){function t(e,i){var s=this;h()(this,t),n()(this,"hasAnimation",(function(t){var e=!1;return Object.keys(t).forEach((function(i){var s=t[i];!e&&s.animations&&(e=!0)})),e})),this.gltfs={},Object.keys(i).forEach((function(t){i[t].skins?s.gltfs[t]=new p.Z(e,i[t]):s.hasAnimation(i[t].nodes)?s.gltfs[t]=new y.Z(e,i[t]):s.gltfs[t]=new v.Z(e,i[t])}))}return o()(t,[{key:"get",value:function(t){return this.gltfs[t]}}]),t}(),T=i(1336),k=function(){function t(e){var i=this;h()(this,t),this.audios={},Object.keys(e).forEach((function(t){i.audios[t]=new T.Z(e[t])}))}return o()(t,[{key:"get",value:function(t){return this.audios[t]}}]),t}(),E=i(2205),x=i.n(E),b=i(78585),P=i.n(b),w=i(29754),R=i.n(w),M=i(77626),A=function(){function t(e){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1024,n=arguments.length>3&&void 0!==arguments[3]&&arguments[3];h()(this,t),this.fbos=[],this.currentFbo=0;var r=null;this.fbos[0]=new M.Z(e,i,s,n,r,0),this.fbos[1]=new M.Z(e,i,s,n,r,1)}return o()(t,[{key:"start",value:function(){this.fbos[this.currentFbo].start()}},{key:"end",value:function(){this.fbos[this.currentFbo].end()}},{key:"swap",value:function(){this.currentFbo=0===this.currentFbo?1:0}},{key:"resize",value:function(t){this.fbos[0].resize(t),this.fbos[1].resize(t)}},{key:"getTexture",value:function(){return this.fbos[this.currentFbo].getTexture()}},{key:"getDepthTexture",value:function(){return this.fbos[this.currentFbo].getDepthTexture()}}]),t}(),D=i(21200),_=function(){function t(e){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},s=arguments.length>2?arguments[2]:void 0;h()(this,t),this.gl=e;var n=i.width,r=void 0===n?1024:n,a=i.height,o=void 0===a?1024:a,u=i.useDepth,l=void 0!==u&&u;this.ppb=new A(e,r,o,l),this.screen=new D.Z(e),this.width=r,this.height=o,this.passCount=0,this.programs=s}return o()(t,[{key:"start",value:function(){this.ppb.start(),this.passCount=0}},{key:"end",value:function(){this.ppb.end()}},{key:"resize",value:function(t){this.ppb.resize(t)}},{key:"applyTexToProg",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,i=null===e;this.passCount=i?this.passCount+1:0;var s=this.passCount+1,n=i?this.ppb.getTexture().get():e;return t.setTexture(s,n,"textureMap"),t.setFloat("flipY",-1),t}},{key:"setBrightContrast",value:function(t,e){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,s=this.applyTexToProg(this.programs.brightcontrast,i);s.setFloat("brightness",t),s.setFloat("contrast",e),this.renderToPingPong(s)}},{key:"setFxaa",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,e=this.applyTexToProg(this.programs.fxaa,t);this.renderToPingPong(e)}},{key:"setFxaa2",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,e=this.applyTexToProg(this.programs.fxaa2,t);this.renderToPingPong(e)}},{key:"renderToPingPong",value:function(t){this.ppb.swap(),this.ppb.start(),this.screen.render(t.get()),this.ppb.end()}},{key:"render",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=this.applyTexToProg(this.programs[e?"debug":"screen"],t);this.screen.render(i.get())}},{key:"renderInverse",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=this.applyTexToProg(this.programs[e?"debug":"screen"],t);i.setFloat("flipY",1),this.screen.render(i.get())}},{key:"getTexture",value:function(){return this.ppb.getTexture()}}]),t}();function F(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var i,s=R()(t);if(e){var n=R()(this).constructor;i=Reflect.construct(s,arguments,n)}else i=s.apply(this,arguments);return P()(this,i)}}var z=function(t){x()(i,t);var e=F(i);function i(){return h()(this,i),e.apply(this,arguments)}return o()(i,[{key:"create",value:function(){for(var t=new ArrayBuffer(this.size.width*this.size.height*4),e=new Uint8Array(t),i=0,s=0;s<this.size.height;s+=1)for(var n=0;n<this.size.width;n+=1)e[i]=255*Math.random(),e[i+1]=255*Math.random(),e[i+2]=0,e[i+3]=255,i+=4;this.gl.texImage2D(this.gl.TEXTURE_2D,0,this.gl.RGBA,this.size.height,this.size.width,0,this.gl.RGBA,this.gl.UNSIGNED_BYTE,e)}},{key:"setFilters",value:function(){this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_MIN_FILTER,this.gl.NEAREST),this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_MAG_FILTER,this.gl.NEAREST),this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_WRAP_S,this.gl.REPEAT),this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_WRAP_T,this.gl.REPEAT)}}]),i}(i(72710).Z);function O(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var i,s=R()(t);if(e){var n=R()(this).constructor;i=Reflect.construct(s,arguments,n)}else i=s.apply(this,arguments);return P()(this,i)}}var j=function(t){x()(i,t);var e=O(i);function i(t,s){var n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return h()(this,i),(n=e.call(this,t,s,r)).textures={},Object.keys(n.programs).forEach((function(t){switch(t){case"watercolor2":case"watercolor3":n.textures[t]=new z(n.gl,512,512)}})),n}return o()(i,[{key:"setDOF",value:function(t,e,i,s){var n=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,r=this.applyTexToProg(this.programs.dof,n);r.setFloat("focusDistance",i),r.setFloat("blur",e),r.setFloat("ppm",s),r.setVector("range",t),r.setTexture(2,this.ppb.getDepthTexture().get(),"depthMap"),this.renderToPingPong(r)}},{key:"mergeBloom",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,n=this.applyTexToProg(this.programs.mergeBloom,s);n.setFloat("gamma",e),n.setFloat("exposure",i),n.setTexture(3,t.get(),"bloomMap"),this.renderToPingPong(n)}},{key:"setKuwahara",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,e=this.applyTexToProg(this.programs.kuwahara,t);this.renderToPingPong(e)}},{key:"setWatercolor",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,e=this.applyTexToProg(this.programs.watercolor,t);this.renderToPingPong(e)}},{key:"setWatercolor2",value:function(t,e,i,s){var n=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,r=this.applyTexToProg(this.programs.watercolor2,n);r.setFloat("gradientStep",t),r.setFloat("advectStep",e),r.setFloat("flipHeightMap",i),r.setFloat("time",s),r.setTexture(2,this.textures.watercolor2.get(),"heightMap"),this.renderToPingPong(r)}},{key:"setWatercolor3",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,e=this.applyTexToProg(this.programs.watercolor3,t);e.setTexture(2,this.textures.watercolor3.get(),"noiseMap"),this.renderToPingPong(e)}},{key:"setWatercolorMoving",value:function(t,e){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:4,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,n=this.applyTexToProg(this.programs.watercolorMoving,s);n.setFloat("time",t),n.setVector("mouse",e),n.setFloat("scale",i),this.renderToPingPong(n)}},{key:"setSobel",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,e=this.applyTexToProg(this.programs.sobel,t);this.renderToPingPong(e)}},{key:"setGamma",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,i=this.applyTexToProg(this.programs.gamma,e);i.setFloat("gamma",t),this.renderToPingPong(i)}},{key:"setRGB",value:function(t,e,i,s){var n=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,r=this.applyTexToProg(this.programs.rgb,n);r.setVector("center",[i,s]),r.setVector("delta",[t,e]),this.renderToPingPong(r)}},{key:"setVortex",value:function(t,e,i){var s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,n=this.applyTexToProg(this.programs.vortex,s);n.setVector("center",t),n.setFloat("radius",e),n.setFloat("angle",i),this.renderToPingPong(n)}},{key:"setOil",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,i=this.applyTexToProg(this.programs.oil,e);i.setFloat("radius",t),this.renderToPingPong(i)}},{key:"setSketch",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,i=this.applyTexToProg(this.programs.sketch,e);i.setFloat("delta",t),this.renderToPingPong(i)}},{key:"setPixel",value:function(t,e){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,s=this.applyTexToProg(this.programs.pixel,i);s.setVector("delta",[t,e]),this.renderToPingPong(s)}},{key:"setWave",value:function(t,e,i){var s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,n=this.applyTexToProg(this.programs.wave,s);n.setFloat("time",t),n.setFloat("radius",e),n.setVector("center",i),this.renderToPingPong(n)}},{key:"setSepia",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,i=this.applyTexToProg(this.programs.sepia,e);i.setFloat("delta",t),this.renderToPingPong(i)}},{key:"setGlitch",value:function(t,e,i){var s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,n=this.applyTexToProg(this.programs.glitch,s);n.setFloat("delta",e),n.setFloat("time",t),n.setFloat("speed",i),this.renderToPingPong(n)}},{key:"setGlitch2",value:function(t,e,i){var s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,n=this.applyTexToProg(this.programs.glitch2,s);n.setFloat("delta",e),n.setFloat("time",t),n.setFloat("speed",i),this.renderToPingPong(n)}},{key:"setGlitch3",value:function(t,e){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,s=this.applyTexToProg(this.programs.glitch3,i);s.setFloat("delta",e),s.setFloat("time",t),this.renderToPingPong(s)}},{key:"setGlitch4",value:function(t,e,i){var s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,n=this.applyTexToProg(this.programs.glitch4,s);n.setFloat("delta",e),n.setFloat("time",t),n.setFloat("rate",i),this.renderToPingPong(n)}},{key:"setSignature",value:function(t,e){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,s=this.applyTexToProg(this.programs.signature,i);s.setFloat("delta",e),s.setFloat("time",t),this.renderToPingPong(s)}},{key:"setCompose",value:function(t,e,i){var s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,n=this.applyTexToProg(this.programs.compose,s);n.setTexture(6,t,"ssaoMap"),n.setTexture(7,e,"shadowMap"),n.setTexture(4,i,"depthMap"),this.renderToPingPong(n)}},{key:"setComposeShadow",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,i=this.applyTexToProg(this.programs.composeShadow,e);i.setTexture(4,t,"shadowMap"),this.renderToPingPong(i)}}]),i}(_),I=i(81506),S=i.n(I),U=i(16525),C=i.n(U);function X(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var i,s=R()(t);if(e){var n=R()(this).constructor;i=Reflect.construct(s,arguments,n)}else i=s.apply(this,arguments);return P()(this,i)}}var N=function(t){x()(i,t);var e=X(i);function i(t,s){var r,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};h()(this,i),r=e.call(this,t,s,a),n()(S()(r),"setBlurIntensity",(function(t){r.blurIntensity=t})),n()(S()(r),"setBlurSize",(function(t){r.blurSize=t}));var o=s.blur||{};return r.blurSize=void 0!==o.size?o.size:.6,r.blurIntensity=void 0!==o.intensity?o.intensity:1,r}return o()(i,[{key:"setBlur",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,e=this.applyTexToProg(this.programs.blurOnePass,t);e.setFloat("size",this.blurSize),e.setFloat("intensity",this.blurIntensity),this.renderToPingPong(e)}}]),i}(_);function Z(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var i,s=R()(t);if(e){var n=R()(this).constructor;i=Reflect.construct(s,arguments,n)}else i=s.apply(this,arguments);return P()(this,i)}}var L=function(t){x()(i,t);var e=Z(i);function i(t,s){var r,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return h()(this,i),r=e.call(this,t,s,a),n()(S()(r),"setNbPass",(function(t){r.blurNbPass=t})),r.scale=void 0!==s.scale?s.scale:1,r.threshold=void 0!==s.threshold?s.threshold:.1,r}return o()(i,[{key:"end",value:function(){C()(R()(i.prototype),"end",this).call(this),this.process()}},{key:"process",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,e=this.applyTexToProg(this.programs.bloom,t);e.setFloat("scale",this.scale),e.setFloat("threshold",this.threshold),this.renderToPingPong(e),this.setBlur()}}]),i}(N),B=i(25773),G=i(41178),V=i(68763);function Y(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var i,s=R()(t);if(e){var n=R()(this).constructor;i=Reflect.construct(s,arguments,n)}else i=s.apply(this,arguments);return P()(this,i)}}var q=function(t){x()(i,t);var e=Y(i);function i(t,s){var n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};h()(this,i),(n=e.call(this,t,s,r)).near=s.near||1,n.far=s.far||100,n.radius=s.radius||5,n.strength=s.strength||1;var a=n.programs.ssao;return a.setFloat("radius",n.radius),a.setFloat("near",n.near),a.setFloat("far",n.far),a.setFloat("strength",n.strength),n}return o()(i,[{key:"generateSsaoSamples",value:function(t,e){for(var i=0;i<e;i+=1){var s=i/e;s=(0,G.t7)(s*s,.1,1);var n=new B.Z((0,V.MX)(-1,1),(0,V.MX)(-1,1),(0,V.MX)(0,1)).normalise().multiplyNumber((0,V.MX)(0,1)).multiplyNumber(s);this.programs[t].setVector("samples[".concat(i,"]"),n.get())}}},{key:"compute",value:function(t){var e=this.applyTexToProg(this.programs.ssao,t);e.setFloat("flipY",-1),this.renderToPingPong(e)}}]),i}(N);function W(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var i,s=R()(t);if(e){var n=R()(this).constructor;i=Reflect.construct(s,arguments,n)}else i=s.apply(this,arguments);return P()(this,i)}}var K=function(t){x()(i,t);var e=W(i);function i(t,s){var r,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};h()(this,i),r=e.call(this,t,s,a),n()(S()(r),"getProgram",(function(){return r.programs.shadow}));var o=r.programs.shadow;return o.setFloat("shadowEpsilon",s.epsilon||.01),o.setFloat("lighten",s.lighten||0),r}return o()(i,[{key:"start",value:function(t){var e=this.programs.shadow;t.setShadowProgram(e),C()(R()(i.prototype),"start",this).call(this)}}]),i}(N);function H(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,s)}return i}function J(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?H(Object(i),!0).forEach((function(e){n()(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):H(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}var Q=function(){function t(e,i,s){h()(this,t),this.gl=e,this.config=i,this.time=0;var n=this.config.canvas,r=n.width,a=n.height;if(this.containerSize={width:r,height:a},s){if(s.shaders&&(this.mngProg=new g(this.gl,s.shaders,i.canvas),i.postprocess)){var o={width:r,height:a,useDepth:this.canUseDepth()},u=this.mngProg.getAll();this.postProcess=new j(this.gl,o,u),i.postprocess.bloom&&(this.bloom=new L(this.gl,J(J({},o),i.postprocess.bloom),u)),i.postprocess.ssao&&(this.ssao=new q(this.gl,J(J(J({},o),i.postprocess.ssao),{},{near:i.camera.near,far:i.camera.far}),u)),i.postprocess.shadow&&(this.shadow=new K(this.gl,J(J({},o),i.postprocess.shadow),u))}s.textures&&(this.mngTex=new l(this.gl,s.textures,i.textures)),s.objets&&(this.mngObj=new d(this.gl,s.objets,s.materials)),s.gltfs&&(this.mngGltf=new m(this.gl,s.gltfs)),s.sounds&&(this.mngSound=new k(s.sounds))}this.resizeViewport()}return o()(t,[{key:"canUseDepth",value:function(){return this.config.useDepthTexture&&this.config.support.depthTexture||!1}},{key:"resize",value:function(t){this.containerSize=t,this.resizeViewport()}},{key:"update",value:function(t){this.time=t}},{key:"render",value:function(){this.gl.clear(this.gl.COLOR_BUFFER_BIT|this.gl.DEPTH_BUFFER_BIT)}},{key:"resizeViewport",value:function(){this.gl.viewport(0,0,this.containerSize.width,this.containerSize.height)}},{key:"getColorPixel",value:function(t,e){var i=new Uint8Array(4);return this.gl.readPixels(t,e,1,1,this.gl.RGBA,this.gl.UNSIGNED_BYTE,i),i}}]),t}()},3022:(t,e,i)=>{"use strict";i.d(e,{Z:()=>m});var s=i(34575),n=i.n(s),r=i(93913),h=i.n(r),a=i(16525),o=i.n(a),u=i(2205),l=i.n(u),c=i(78585),d=i.n(c),f=i(29754),g=i.n(f),v=i(20748),y=i(66160);function p(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var i,s=g()(t);if(e){var n=g()(this).constructor;i=Reflect.construct(s,arguments,n)}else i=s.apply(this,arguments);return d()(this,i)}}var m=function(t){l()(i,t);var e=p(i);function i(t,s,r){var h;return n()(this,i),(h=e.call(this,t,s,r)).camera=new y.Z(s.camera),h.camera.perspective(h.containerSize.width,h.containerSize.height),h}return h()(i,[{key:"resize",value:function(t){o()(g()(i.prototype),"resize",this).call(this,t),this.camera.perspective(this.containerSize.width,this.containerSize.height)}},{key:"update",value:function(t){o()(g()(i.prototype),"update",this).call(this,t),this.camera.update(),this.mngProg.setCameraMatrix(this.camera,!!this.config.camera.ortho)}}]),i}(v.Z)},22255:(t,e,i)=>{"use strict";i.d(e,{Z:()=>m});var s=i(34575),n=i.n(s),r=i(93913),h=i.n(r),a=i(16525),o=i.n(a),u=i(2205),l=i.n(u),c=i(78585),d=i.n(c),f=i(29754),g=i.n(f),v=i(3022),y=i(27278);function p(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var i,s=g()(t);if(e){var n=g()(this).constructor;i=Reflect.construct(s,arguments,n)}else i=s.apply(this,arguments);return d()(this,i)}}var m=function(t){l()(i,t);var e=p(i);function i(t,s,r){var h;n()(this,i);var a=(h=e.call(this,t,s,r)).canUseDepth(),o=s.canvas,u=o.width,l=o.height;h.lampes=s.lampes&&s.lampes.map((function(t){return new y.Z(h.gl,t,u,l,a)}))||[];var c=h.mngProg.getAll();return Object.keys(c).forEach((function(t){var e=c[t];e.getLocations().numLights&&h.setLampeInfos(e)})),h}return h()(i,[{key:"renderReperes",value:function(){var t=this;this.lampes.forEach((function(e){return e.renderRepere(t.camera)}))}},{key:"randomLampesPositions",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;this.lampes.forEach((function(s,n){(null===i||null!==i&&n===i)&&s.move(t.time*e,n)}))}},{key:"setLampeInfos",value:function(t){var e=this;t.setVector("posEye",this.camera.getPosition()),t.setInt("numLights",this.lampes.length),this.config.lampes.forEach((function(i,s){var n=i.type,r=i.ambiant,h=i.diffuse,a=i.specular,o=i.brillance,u=i.radius,l=i.direction,c=i.strength;t.setInt("lights[".concat(s,"].type"),n),t.setVector("lights[".concat(s,"].position"),e.lampes[s].getPosition()),t.setVector("lights[".concat(s,"].ambiant"),r),t.setVector("lights[".concat(s,"].diffuse"),h),t.setVector("lights[".concat(s,"].specular"),a),o&&t.setFloat("lights[".concat(s,"].brillance"),o),u&&t.setFloat("lights[".concat(s,"].radius"),u),l&&t.setVector("lights[".concat(s,"].direction"),l),t.setFloat("lights[".concat(s,"].strength"),c||1)}))}},{key:"render",value:function(){o()(g()(i.prototype),"render",this).call(this),"function"==typeof this.renderBasiqueForLampeDepth&&this.renderBasiqueForLampeDepth(),this.mngProg.setCameraMatrix(this.camera,!!this.config.camera.ortho)}},{key:"getLampe",value:function(t){return this.lampes[t]?this.lampes[t]:null}}]),i}(v.Z)},72710:(t,e,i)=>{"use strict";i.d(e,{Z:()=>a});var s=i(34575),n=i.n(s),r=i(93913),h=i.n(r),a=function(){function t(e){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:64,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:64;n()(this,t),this.gl=e,this.size={width:i,height:s},this.texture=e.createTexture(),this.filter=e.NEAREST,this.setup()}return h()(t,[{key:"setup",value:function(){this.gl.bindTexture(this.gl.TEXTURE_2D,this.texture),this.create(),this.setFilters(),this.gl.bindTexture(this.gl.TEXTURE_2D,null)}},{key:"create",value:function(){for(var t=new ArrayBuffer(this.size.width*this.size.height),e=new Uint8Array(t),i=0,s=0;s<this.size.height;s+=1)for(var n=0;n<this.size.width;n+=1)e[i]=255*Math.random(),i+=1;this.gl.texImage2D(this.gl.TEXTURE_2D,0,this.gl.ALPHA,this.size.width,this.size.height,0,this.gl.ALPHA,this.gl.UNSIGNED_BYTE,e)}},{key:"setFilters",value:function(){this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_MAG_FILTER,this.filter),this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_MIN_FILTER,this.filter),this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_WRAP_S,this.gl.REPEAT),this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_WRAP_T,this.gl.REPEAT)}},{key:"get",value:function(){return this.texture}},{key:"setFiltre",value:function(t){this.filter=t}}]),t}()},91215:(t,e,i)=>{"use strict";i.d(e,{Z:()=>a});var s=i(34575),n=i.n(s),r=i(93913),h=i.n(r),a=function(){function t(e,i){n()(this,t),this.gl=e;var s=Math.sqrt(i.length/4);this.size={width:s,height:s},this.texture=e.createTexture(),this.filter=e.NEAREST,this.setup(i)}return h()(t,[{key:"setup",value:function(t){this.gl.bindTexture(this.gl.TEXTURE_2D,this.texture),this.gl.texImage2D(this.gl.TEXTURE_2D,0,this.gl.RGBA,this.size.width,this.size.height,0,this.gl.RGBA,this.gl.UNSIGNED_BYTE,t),this.setFilters(),this.gl.bindTexture(this.gl.TEXTURE_2D,null)}},{key:"setFilters",value:function(){this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_MAG_FILTER,this.filter),this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_MIN_FILTER,this.filter),this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_WRAP_S,this.gl.REPEAT),this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_WRAP_T,this.gl.REPEAT)}},{key:"get",value:function(){return this.texture}}]),t}()},17045:(t,e,i)=>{"use strict";i.d(e,{Z:()=>g});var s=i(34575),n=i.n(s),r=i(93913),h=i.n(r),a=i(2205),o=i.n(a),u=i(78585),l=i.n(u),c=i(29754),d=i.n(c);function f(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var i,s=d()(t);if(e){var n=d()(this).constructor;i=Reflect.construct(s,arguments,n)}else i=s.apply(this,arguments);return l()(this,i)}}var g=function(t){o()(i,t);var e=f(i);function i(){return n()(this,i),e.apply(this,arguments)}return h()(i,[{key:"create",value:function(){this.gl.texImage2D(this.gl.TEXTURE_2D,0,this.gl.DEPTH_COMPONENT,this.size.width,this.size.height,0,this.gl.DEPTH_COMPONENT,this.gl.UNSIGNED_INT,null)}},{key:"setFilters",value:function(){this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_MIN_FILTER,this.gl.LINEAR),this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_MAG_FILTER,this.gl.LINEAR),this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_WRAP_S,this.gl.CLAMP_TO_EDGE),this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_WRAP_T,this.gl.CLAMP_TO_EDGE)}}]),i}(i(72710).Z)},83495:(t,e,i)=>{"use strict";i.d(e,{Z:()=>g});var s=i(34575),n=i.n(s),r=i(93913),h=i.n(r),a=i(2205),o=i.n(a),u=i(78585),l=i.n(u),c=i(29754),d=i.n(c);function f(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var i,s=d()(t);if(e){var n=d()(this).constructor;i=Reflect.construct(s,arguments,n)}else i=s.apply(this,arguments);return l()(this,i)}}var g=function(t){o()(i,t);var e=f(i);function i(){return n()(this,i),e.apply(this,arguments)}return h()(i,[{key:"create",value:function(){this.gl.texImage2D(this.gl.TEXTURE_2D,0,this.gl.RGBA,this.size.width,this.size.height,0,this.gl.RGBA,this.gl.UNSIGNED_BYTE,null)}},{key:"setFilters",value:function(){this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_MIN_FILTER,this.gl.NEAREST),this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_MAG_FILTER,this.gl.NEAREST),this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_WRAP_S,this.gl.CLAMP_TO_EDGE),this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_WRAP_T,this.gl.CLAMP_TO_EDGE)}}]),i}(i(72710).Z)},41178:(t,e,i)=>{"use strict";i.d(e,{t7:()=>s});var s=function(t,e,i){return(1-t)*e+t*i}},8983:(t,e,i)=>{"use strict";i.d(e,{chunkArray:()=>s});var s=function(t,e){return Array.from({length:Math.ceil(t.length/e)},(function(i,s){return t.slice(s*e,s*e+e)}))}},68763:(t,e,i)=>{"use strict";i.d(e,{MX:()=>s,Yp:()=>n,mK:()=>r,ZI:()=>h});var s=function(t,e){return Math.random()*(e-t)+t},n=function(t,e,i,s,n){var r=s+(t-e)*(n-s)/(i-e);return r<Math.min(s,n)&&(r=Math.min(s,n)),r>Math.max(s,n)&&(r=Math.max(s,n)),r},r=function(t){return 0===t?0:t>0?1:-1},h=function(t){return t-Math.floor(t)}},35115:(t,e,i)=>{"use strict";i.d(e,{Z:()=>d});var s=i(34575),n=i.n(s),r=i(93913),h=i.n(r),a=i(59713),o=i.n(a),u=function(){function t(e,i){n()(this,t),this.gl=e,i&&this.create(i),this.extension=e.getExtension("ANGLE_instanced_arrays")}return h()(t,[{key:"create",value:function(t){var e=t.locationKey,i=t.type,s=t.values,n=t.count,r=t.componentType,h=t.size,a=t.modeCalcul,o=t.isInstancing,u=void 0!==o&&o,l="SCALAR"!==i?this.gl.ARRAY_BUFFER:this.gl.ELEMENT_ARRAY_BUFFER;this.vbo=this.gl.createBuffer(),this.gl.bindBuffer(l,this.vbo),this.gl.bufferData(l,s,a),this.gl.bindBuffer(l,null),this.size=h,this.count=n,this.componentType=r,this.bufferType=l,this.locationKey=e,this.isInstancing=u}},{key:"enable",value:function(t){var e=this.locationKey,i=this.vbo,s=this.componentType,n=this.size,r=this.bufferType,h=this.isInstancing,a=void 0!==h&&h;if("indices"===e)this.gl.bindBuffer(r,i);else{var o=t.locations[e];void 0!==o&&-1!==o&&(this.gl.bindBuffer(r,i),this.gl.enableVertexAttribArray(o),this.gl.vertexAttribPointer(o,n,s,!1,0,0),a&&this.extension.vertexAttribDivisorANGLE(o,1))}}},{key:"start",value:function(t){this.gl.useProgram(t)}},{key:"end",value:function(){this.gl.bindBuffer(this.gl.ELEMENT_ARRAY_BUFFER,null),this.gl.bindBuffer(this.gl.ARRAY_BUFFER,null),this.gl.useProgram(null)}},{key:"update",value:function(t){this.gl.bindBuffer(this.bufferType,this.vbo),this.gl.bufferSubData(this.bufferType,0,new Float32Array(t)),this.gl.bindBuffer(this.bufferType,null)}},{key:"render",value:function(t,e){"indices"===this.locationKey?this.gl.drawElements(e,this.count,this.componentType,0):this.gl.drawArrays(e,0,this.count)}},{key:"renderInstancing",value:function(t,e,i){"indices"===this.locationKey?this.extension.drawElementsInstancedANGLE(e,this.count,this.gl.UNSIGNED_SHORT,0,i):this.extension.drawArraysInstancedANGLE(e,0,this.count,i)}},{key:"getCount",value:function(){return this.count}}]),t}();function l(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,s)}return i}function c(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?l(Object(i),!0).forEach((function(e){o()(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):l(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}var d=function(){function t(e,i){var s=this,r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];n()(this,t),o()(this,"getActiveVbo",(function(){return s.vbos.indices||s.vbos.position||s.vbos.texture})),this.gl=e,this.modeDessin=this.gl.TRIANGLES,this.modeCalcul=r?this.gl.DYNAMIC_DRAW:this.gl.STATIC_DRAW,this.vbos=Object.keys(i).reduce((function(t,n){return t[n]=new u(e,c({locationKey:n,modeCalcul:s.modeCalcul},i[n])),t}),{}),this.instanceCount=-1}return h()(t,[{key:"addInstancingVbos",value:function(t,e){var i=this,s=Object.keys(e).reduce((function(t,s){return t[s]=new u(i.gl,c({locationKey:s,modeCalcul:i.modeCalcul,isInstancing:!0},e[s])),t}),{});this.vbos=c(c({},this.vbos),s),this.instanceCount=t}},{key:"enable",value:function(t){var e=this;this.gl.useProgram(t),Object.keys(this.vbos).forEach((function(i){e.vbos[i].enable(t)}))}},{key:"update",value:function(t){var e=this;Object.keys(t).forEach((function(i){e.vbos[i].update(t[i])}))}},{key:"render",value:function(t){this.enable(t);var e=this.getActiveVbo();-1!==this.instanceCount?e.renderInstancing(t,this.modeDessin,this.instanceCount):e.render(t,this.modeDessin),e.end()}},{key:"setModeDessin",value:function(t){this.modeDessin=t}},{key:"setModeCalcul",value:function(t){this.modeCalcul=t}}]),t}()},56592:(t,e,i)=>{"use strict";i(87757),i(48926),i(67328);var s=i(69100),n=i.n(s),r=i(319),h=i.n(r),a=i(34575),o=i.n(a),u=i(93913),l=i.n(u),c=i(81506),d=i.n(c),f=i(16525),g=i.n(f),v=i(2205),y=i.n(v),p=i(78585),m=i.n(p),T=i(29754),k=i.n(T),E=i(59713),x=i.n(E),b=i(22255),P=i(21200),w=i(80602),R=i(21969),M=i(25773),A=i(94281),D=i(47313);function _(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var i,s=k()(t);if(e){var n=k()(this).constructor;i=Reflect.construct(s,arguments,n)}else i=s.apply(this,arguments);return m()(this,i)}}var F=function(t){return.5*Math.sin(t)+.5};b.Z;i(88747),i(89153);var z=i(93379),O=i.n(z),j=i(83965),I={insert:"head",singleton:!1};O()(j.Z,I);j.Z.locals},83965:(t,e,i)=>{"use strict";i.d(e,{Z:()=>r});var s=i(23645),n=i.n(s)()((function(t){return t[1]}));n.push([t.id,"#race {\n  position: relative;\n  width: 100%;\n  height: auto;\n}\n\n#race canvas {\n  margin: 0 auto;\n  width: 100%;\n}\n",""]);const r=n}}]);